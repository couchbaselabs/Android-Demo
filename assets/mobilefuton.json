{"mobilefuton": {}, "_id": "_design/mobilefuton", "_attachments": {"img/favicon.png": {"data": "AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAQHXAB4e2gDBv/kANS3sALe1+AAYEuQAysn4AMrI+gD///8A7Oz8AIWE7ACkofYADQreAHVw8gCbmu8AExPZACki6wAXEeQAAADWAK2q9wAJB9wAUVHjAP7+/gB6eukAwsL1ABkT5QACAtcANi7sACsr3QAiGusAGBPkAAYE2QAWEOMA9/f9ANTU+ADx8P0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJCQAAAAAAAAAAABoeExMCCQkTExMTExMbHhoaHhMBDwkXFSAbExMTGx4aGh4eHgkJDB4eHh4eHh4eGhoeDRkJCQkWExMYCQkLHhoaBRAJCQkJCQojCSQfGx4aHQkJCQkJFAkJCQMeHh4GHQAHCQkJCB4eBA4eHh4eEgAAIQkJCQkcHhEeHh4eHhIAAAAJCQAiCQkJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAD//wAA//8AAPn/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAQAAgAEAAMh/AAD//wAA//8AAP//AAA=", "content_type": "image/png"}, "index.html": {"data": "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KCiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCIgLz4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsbWluaW11bS1zY2FsZT0xLG1heGltdW0tc2NhbGU9MSI+CiAgICA8dGl0bGU+TW9iaWxlIEZ1dG9uPC90aXRsZT4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iY3NzL21haW4uY3NzIj4KCiAgPC9oZWFkPgoKICA8Ym9keT4KCiAgICA8Zm9vdGVyPgogICAgICAgIDxhIGhyZWY9IiMhIiBjbGFzcz0iaG9tZSBwbGFpbl9idG4iPjxpbWcgc3JjPSIuL2ltZy9mYXZpY29uLnBuZyIgLz48L2E+CiAgICAgICAgPGgxIGlkPSJ0aXRsZSI+Q291Y2hEQjwvaDE+CiAgICA8L2Zvb3Rlcj4KCiAgICA8ZGl2IGlkPSJjb250ZW50Ij48L2Rpdj4KCiAgICA8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9ImhvbWVfdHBsIj4KICAgICAgPHAgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO21hcmdpbjoxMHB4OyI+Q3VycmVudCBJUDogPHN0cm9uZz5odHRwOi8ve3tpcH19Ont7cG9ydH19Lzwvc3Ryb25nPjwvcD4KICAgICAgPHVsPgogICAgICAgIDxsaT48YSBocmVmPSIjIS9kYXRhYmFzZXMvIiBjbGFzcz0iYnV0dG9uIj5EYXRhYmFzZXM8L2E+PC9saT4KICAgICAgICA8bGk+PGEgaHJlZj0iIyEvcmVwbGljYXRpb24vIiBjbGFzcz0iYnV0dG9uIj5SZXBsaWNhdGlvbjwvYT48L2xpPgogICAgICAgIDxsaT48YSBocmVmPSIjIS9jb3VjaGFwcHMvIiBjbGFzcz0iYnV0dG9uIj5Db3VjaEFwcHM8L2E+PC9saT4KICAgICAgPC91bD4KICAgIDwvc2NyaXB0PgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iY291Y2hhcHBzX3RwbCI+CiAgICAgIDx1bD4KICAgICAgICB7eyNjb3VjaGFwcHN9fQogICAgICAgICAgICA8bGk+PGEgaHJlZj0ie3t1cmx9fSIgY2xhc3M9ImJ1dHRvbiI+e3tuYW1lfX08L2E+PC9saT4KICAgICAgICB7ey9jb3VjaGFwcHN9fQogICAgICA8L3VsPgogICAgPC9zY3JpcHQ+CgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJkb2N1bWVudF90cGwiPgogICAgICA8ZGl2IGlkPSJkb2N1bWVudCI+PHByZT48Y29kZT57e2pzb259fTwvY29kZT48L3ByZT48L2Rpdj4KICAgIDwvc2NyaXB0PgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iZGF0YWJhc2VfdHBsIj4KICAgICAgPHAgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO21hcmdpbjoxMHB4OyI+e3tzdGFydH19IHRvIHt7ZW5kfX0gb2Yge3t0b3RhbF9yb3dzfX08L3A+CiAgICAgIDx1bD4KICAgICAge3sjcm93c319CiAgICAgICAgPGxpPjxhIGhyZWY9IiMhL2RhdGFiYXNlcy97e2RhdGFiYXNlfX0ve3tpZH19IiBjbGFzcz0iYnV0dG9uIj57e2lkfX08L2E+PC9saT4KICAgICAge3svcm93c319CiAgICAgIDwvdWw+CiAgICA8L3NjcmlwdD4KCiAgICA8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9ImRhdGFiYXNlc190cGwiPgogICAgICA8dWwgaWQ9ImRiX2xpc3QiPgogICAgICB7eyNkYXRhYmFzZXN9fQogICAgICAgIDxsaT48YSBocmVmPSIjIS9kYXRhYmFzZXMve3sufX0vIiBjbGFzcz0iYnV0dG9uIj57ey59fTwvYT48L2xpPgogICAgICB7ey9kYXRhYmFzZXN9fQogICAgICA8L3VsPgogICAgPC9zY3JpcHQ+CgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJyZXBsaWNhdGlvbl90cGwiPgogICAgICA8dWwgaWQ9InN0b3JlZCI+CiAgICAgICAgPGxpIGNsYXNzPSJoZWFkZXIiPlByZXZpb3VzIFJlcGxpY2F0aW9uczwvbGk+CiAgICAgICAge3sjcmVwbGljYXRpb25zfX0KICAgICAgICA8bGkgZGF0YS1zb3VyY2U9Int7c291cmNlfX0iIGRhdGEtdGFyZ2V0PSJ7e3RhcmdldH19IiBkYXRhLWNvbnRpbm91cz0ie3tjb250aW5vdXN9fSI+CiAgICAgICAgICA8YSBjbGFzcz0icmVwbGljYXRpb24iPnt7c291cmNlfX0gPT4ge3t0YXJnZXR9fTwvYT4KICAgICAgICA8L2xpPgogICAgICAgIHt7L3JlcGxpY2F0aW9uc319CiAgICAgICAge3tecmVwbGljYXRpb25zfX08bGkgY2xhc3M9Im5vbmUiPk5vIFN0b3JlZCBSZXBsaWNhdGlvbnM8L2xpPnt7L3JlcGxpY2F0aW9uc319CiAgICAgIDwvdWw+CgogICAgICA8Zm9ybSBhY3Rpb249IiMhL3JlcGxpY2F0aW9uLyI+CiAgICAgICAgPHVsPgogICAgICAgICAgPGxpIGNsYXNzPSJoZWFkZXIiPkZyb208L2xpPgogICAgICAgICAgPGxpPgogICAgICAgICAgICA8c2VsZWN0IG5hbWU9InNvdXJjZSIgaWQ9InNvdXJjZV9zZWxlY3QiPgogICAgICAgICAgICAgIHt7I2RhdGFiYXNlc319CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ie3sufX0iPnt7Ln19PC9vcHRpb24+CiAgICAgICAgICAgICAge3svZGF0YWJhc2VzfX0KICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJtYW51YWwiPlJlbW90ZSBEYXRhYmFzZTwvb3B0aW9uPgogICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgIDwvbGk+CiAgICAgICAgPC91bD4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+VG88L2xpPgogICAgICAgICAgPGxpPgogICAgICAgICAgICA8c2VsZWN0IG5hbWU9InRhcmdldCIgaWQ9InRhcmdldF9zZWxlY3QiPgogICAgICAgICAgICAgIHt7I2RhdGFiYXNlc319CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ie3sufX0iPnt7Ln19PC9vcHRpb24+CiAgICAgICAgICAgICAge3svZGF0YWJhc2VzfX0KICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJtYW51YWwiPlJlbW90ZSBEYXRhYmFzZTwvb3B0aW9uPgogICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgIDwvbGk+CiAgICAgICAgPC91bD4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+T3B0aW9uczwvbGk+CiAgICAgICAgICA8bGk+PGxhYmVsIGZvcj0iY29udGlub3VzIj4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJjb250aW5vdXMiIG5hbWU9ImNvbnRpbm91cyIgLz4gQ29udGlub3VzPC9sYWJlbD4KICAgICAgICAgIDwvbGk+CiAgICAgICAgPC91bD4KICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjEwcHg7Ij4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJyZXBsaWNhdGUiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZm9ybT4KICAgIDwvc2NyaXB0PgoKICA8L2JvZHk+CgogIDxzY3JpcHQgc3JjPSIuL2pxdWVyeS0xLjYubWluLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0iLi9qcy9qcXVlcnkuY291Y2guanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSIuL2pzL21vZGVybml6ci0xLjcubWluLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0iLi9qcy9tdXN0YWNoZS5qcyAgIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0iLi9qcy91dGlscy5qcyI+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Ii4vanMvbW9iaWxlLmZ1dG9uLmpzIj48L3NjcmlwdD4KCjwvaHRtbD4K", "content_type": "text/html"}, "js/modernizr-1.7.min.js": {"data": "Ly8gTW9kZXJuaXpyIHYxLjcgIHd3dy5tb2Rlcm5penIuY29tCndpbmRvdy5Nb2Rlcm5penI9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIEcoKXtlLmlucHV0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0W2FbYl1dPSEhKGFbYl1pbiBsKTtyZXR1cm4gdH0oImF1dG9jb21wbGV0ZSBhdXRvZm9jdXMgbGlzdCBwbGFjZWhvbGRlciBtYXggbWluIG11bHRpcGxlIHBhdHRlcm4gcmVxdWlyZWQgc3RlcCIuc3BsaXQoIiAiKSksZS5pbnB1dHR5cGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZD0wLGUsZixoLGk9YS5sZW5ndGg7ZDxpO2QrKylsLnNldEF0dHJpYnV0ZSgidHlwZSIsZj1hW2RdKSxlPWwudHlwZSE9PSJ0ZXh0IixlJiYobC52YWx1ZT1tLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7dmlzaWJpbGl0eTpoaWRkZW47IiwvXnJhbmdlJC8udGVzdChmKSYmbC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlIT09Yz8oZy5hcHBlbmRDaGlsZChsKSxoPWIuZGVmYXVsdFZpZXcsZT1oLmdldENvbXB1dGVkU3R5bGUmJmguZ2V0Q29tcHV0ZWRTdHlsZShsLG51bGwpLldlYmtpdEFwcGVhcmFuY2UhPT0idGV4dGZpZWxkIiYmbC5vZmZzZXRIZWlnaHQhPT0wLGcucmVtb3ZlQ2hpbGQobCkpOi9eKHNlYXJjaHx0ZWwpJC8udGVzdChmKXx8KC9eKHVybHxlbWFpbCkkLy50ZXN0KGYpP2U9bC5jaGVja1ZhbGlkaXR5JiZsLmNoZWNrVmFsaWRpdHkoKT09PSExOi9eY29sb3IkLy50ZXN0KGYpPyhnLmFwcGVuZENoaWxkKGwpLGcub2Zmc2V0V2lkdGgsZT1sLnZhbHVlIT1tLGcucmVtb3ZlQ2hpbGQobCkpOmU9bC52YWx1ZSE9bSkpLHNbYVtkXV09ISFlO3JldHVybiBzfSgic2VhcmNoIHRlbCB1cmwgZW1haWwgZGF0ZXRpbWUgZGF0ZSBtb250aCB3ZWVrIHRpbWUgZGF0ZXRpbWUtbG9jYWwgbnVtYmVyIHJhbmdlIGNvbG9yIi5zcGxpdCgiICIpKX1mdW5jdGlvbiBGKGEsYil7dmFyIGM9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxkPShhKyIgIitwLmpvaW4oYysiICIpK2MpLnNwbGl0KCIgIik7cmV0dXJuISFFKGQsYil9ZnVuY3Rpb24gRShhLGIpe2Zvcih2YXIgZCBpbiBhKWlmKGtbYVtkXV0hPT1jJiYoIWJ8fGIoYVtkXSxqKSkpcmV0dXJuITB9ZnVuY3Rpb24gRChhLGIpe3JldHVybigiIithKS5pbmRleE9mKGIpIT09LTF9ZnVuY3Rpb24gQyhhLGIpe3JldHVybiB0eXBlb2YgYT09PWJ9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBBKG8uam9pbihhKyI7IikrKGJ8fCIiKSl9ZnVuY3Rpb24gQShhKXtrLmNzc1RleHQ9YX12YXIgZD0iMS43IixlPXt9LGY9ITAsZz1iLmRvY3VtZW50RWxlbWVudCxoPWIuaGVhZHx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLGk9Im1vZGVybml6ciIsaj1iLmNyZWF0ZUVsZW1lbnQoaSksaz1qLnN0eWxlLGw9Yi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLG09IjopIixuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbz0iIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtIC1raHRtbC0gIi5zcGxpdCgiICIpLHA9IldlYmtpdCBNb3ogTyBtcyBLaHRtbCIuc3BsaXQoIiAiKSxxPXtzdmc6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIn0scj17fSxzPXt9LHQ9e30sdT1bXSx2LHc9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGQ9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxlO2MudGV4dENvbnRlbnQ9YSsieyNtb2Rlcm5penJ7aGVpZ2h0OjNweH19IixoLmFwcGVuZENoaWxkKGMpLGQuaWQ9Im1vZGVybml6ciIsZy5hcHBlbmRDaGlsZChkKSxlPWQub2Zmc2V0SGVpZ2h0PT09MyxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpO3JldHVybiEhZX0seD1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoZCxlKXtlPWV8fGIuY3JlYXRlRWxlbWVudChhW2RdfHwiZGl2Iik7dmFyIGY9KGQ9Im9uIitkKWluIGU7Znx8KGUuc2V0QXR0cmlidXRlfHwoZT1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxlLnNldEF0dHJpYnV0ZSYmZS5yZW1vdmVBdHRyaWJ1dGUmJihlLnNldEF0dHJpYnV0ZShkLCIiKSxmPUMoZVtkXSwiZnVuY3Rpb24iKSxDKGVbZF0sYyl8fChlW2RdPWMpLGUucmVtb3ZlQXR0cmlidXRlKGQpKSksZT1udWxsO3JldHVybiBmfXZhciBhPXtzZWxlY3Q6ImlucHV0IixjaGFuZ2U6ImlucHV0IixzdWJtaXQ6ImZvcm0iLHJlc2V0OiJmb3JtIixlcnJvcjoiaW1nIixsb2FkOiJpbWciLGFib3J0OiJpbWcifTtyZXR1cm4gZH0oKSx5PSh7fSkuaGFzT3duUHJvcGVydHksejtDKHksYyl8fEMoeS5jYWxsLGMpP3o9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiBpbiBhJiZDKGEuY29uc3RydWN0b3IucHJvdG90eXBlW2JdLGMpfTp6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHkuY2FsbChhLGIpfSxyLmZsZXhib3g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsYixjLGQpe2Euc3R5bGUuY3NzVGV4dD1vLmpvaW4oYisiOiIrYysiOyIpKyhkfHwiIil9ZnVuY3Rpb24gYShhLGIsYyxkKXtiKz0iOiIsYS5zdHlsZS5jc3NUZXh0PShiK28uam9pbihjKyI7IitiKSkuc2xpY2UoMCwtYi5sZW5ndGgpKyhkfHwiIil9dmFyIGQ9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7YShkLCJkaXNwbGF5IiwiYm94Iiwid2lkdGg6NDJweDtwYWRkaW5nOjA7IiksYyhlLCJib3gtZmxleCIsIjEiLCJ3aWR0aDoxMHB4OyIpLGQuYXBwZW5kQ2hpbGQoZSksZy5hcHBlbmRDaGlsZChkKTt2YXIgZj1lLm9mZnNldFdpZHRoPT09NDI7ZC5yZW1vdmVDaGlsZChlKSxnLnJlbW92ZUNoaWxkKGQpO3JldHVybiBmfSxyLmNhbnZhcz1mdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIGEuZ2V0Q29udGV4dCYmYS5nZXRDb250ZXh0KCIyZCIpfSxyLmNhbnZhc3RleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYW52YXMmJkMoYi5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpLmZpbGxUZXh0LCJmdW5jdGlvbiIpfSxyLndlYmdsPWZ1bmN0aW9uKCl7cmV0dXJuISFhLldlYkdMUmVuZGVyaW5nQ29udGV4dH0sci50b3VjaD1mdW5jdGlvbigpe3JldHVybiJvbnRvdWNoc3RhcnQiaW4gYXx8dygiQG1lZGlhICgiK28uam9pbigidG91Y2gtZW5hYmxlZCksKCIpKyJtb2Rlcm5penIpIil9LHIuZ2VvbG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4hIW5hdmlnYXRvci5nZW9sb2NhdGlvbn0sci5wb3N0bWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiEhYS5wb3N0TWVzc2FnZX0sci53ZWJzcWxkYXRhYmFzZT1mdW5jdGlvbigpe3ZhciBiPSEhYS5vcGVuRGF0YWJhc2U7cmV0dXJuIGJ9LHIuaW5kZXhlZERCPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPS0xLGM9cC5sZW5ndGg7KytiPGM7KXt2YXIgZD1wW2JdLnRvTG93ZXJDYXNlKCk7aWYoYVtkKyJfaW5kZXhlZERCIl18fGFbZCsiSW5kZXhlZERCIl0pcmV0dXJuITB9cmV0dXJuITF9LHIuaGFzaGNoYW5nZT1mdW5jdGlvbigpe3JldHVybiB4KCJoYXNoY2hhbmdlIixhKSYmKGIuZG9jdW1lbnRNb2RlPT09Y3x8Yi5kb2N1bWVudE1vZGU+Nyl9LHIuaGlzdG9yeT1mdW5jdGlvbigpe3JldHVybiAhIShhLmhpc3RvcnkmJmhpc3RvcnkucHVzaFN0YXRlKX0sci5kcmFnYW5kZHJvcD1mdW5jdGlvbigpe3JldHVybiB4KCJkcmFnc3RhcnQiKSYmeCgiZHJvcCIpfSxyLndlYnNvY2tldHM9ZnVuY3Rpb24oKXtyZXR1cm4iV2ViU29ja2V0ImluIGF9LHIucmdiYT1mdW5jdGlvbigpe0EoImJhY2tncm91bmQtY29sb3I6cmdiYSgxNTAsMjU1LDE1MCwuNSkiKTtyZXR1cm4gRChrLmJhY2tncm91bmRDb2xvciwicmdiYSIpfSxyLmhzbGE9ZnVuY3Rpb24oKXtBKCJiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMTIwLDQwJSwxMDAlLC41KSIpO3JldHVybiBEKGsuYmFja2dyb3VuZENvbG9yLCJyZ2JhIil8fEQoay5iYWNrZ3JvdW5kQ29sb3IsImhzbGEiKX0sci5tdWx0aXBsZWJncz1mdW5jdGlvbigpe0EoImJhY2tncm91bmQ6dXJsKC8vOiksdXJsKC8vOikscmVkIHVybCgvLzopIik7cmV0dXJuKG5ldyBSZWdFeHAoIih1cmxcXHMqXFwoLio/KXszfSIpKS50ZXN0KGsuYmFja2dyb3VuZCl9LHIuYmFja2dyb3VuZHNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gRigiYmFja2dyb3VuZFNpemUiKX0sci5ib3JkZXJpbWFnZT1mdW5jdGlvbigpe3JldHVybiBGKCJib3JkZXJJbWFnZSIpfSxyLmJvcmRlcnJhZGl1cz1mdW5jdGlvbigpe3JldHVybiBGKCJib3JkZXJSYWRpdXMiLCIiLGZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm9yZGVyUmFkaXVzIil9KX0sci5ib3hzaGFkb3c9ZnVuY3Rpb24oKXtyZXR1cm4gRigiYm94U2hhZG93Iil9LHIudGV4dHNoYWRvdz1mdW5jdGlvbigpe3JldHVybiBiLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLnRleHRTaGFkb3c9PT0iIn0sci5vcGFjaXR5PWZ1bmN0aW9uKCl7Qigib3BhY2l0eTouNTUiKTtyZXR1cm4vXjAuNTUkLy50ZXN0KGsub3BhY2l0eSl9LHIuY3NzYW5pbWF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBGKCJhbmltYXRpb25OYW1lIil9LHIuY3NzY29sdW1ucz1mdW5jdGlvbigpe3JldHVybiBGKCJjb2x1bW5Db3VudCIpfSxyLmNzc2dyYWRpZW50cz1mdW5jdGlvbigpe3ZhciBhPSJiYWNrZ3JvdW5kLWltYWdlOiIsYj0iZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IGJvdHRvbSxmcm9tKCM5ZjkpLHRvKHdoaXRlKSk7IixjPSJsaW5lYXItZ3JhZGllbnQobGVmdCB0b3AsIzlmOSwgd2hpdGUpOyI7QSgoYStvLmpvaW4oYithKStvLmpvaW4oYythKSkuc2xpY2UoMCwtYS5sZW5ndGgpKTtyZXR1cm4gRChrLmJhY2tncm91bmRJbWFnZSwiZ3JhZGllbnQiKX0sci5jc3NyZWZsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiBGKCJib3hSZWZsZWN0Iil9LHIuY3NzdHJhbnNmb3Jtcz1mdW5jdGlvbigpe3JldHVybiEhRShbInRyYW5zZm9ybVByb3BlcnR5IiwiV2Via2l0VHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIl0pfSxyLmNzc3RyYW5zZm9ybXMzZD1mdW5jdGlvbigpe3ZhciBhPSEhRShbInBlcnNwZWN0aXZlUHJvcGVydHkiLCJXZWJraXRQZXJzcGVjdGl2ZSIsIk1velBlcnNwZWN0aXZlIiwiT1BlcnNwZWN0aXZlIiwibXNQZXJzcGVjdGl2ZSJdKTthJiYid2Via2l0UGVyc3BlY3RpdmUiaW4gZy5zdHlsZSYmKGE9dygiQG1lZGlhICgiK28uam9pbigidHJhbnNmb3JtLTNkKSwoIikrIm1vZGVybml6cikiKSk7cmV0dXJuIGF9LHIuY3NzdHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gRigidHJhbnNpdGlvblByb3BlcnR5Iil9LHIuZm9udGZhY2U9ZnVuY3Rpb24oKXt2YXIgYSxjLGQ9aHx8ZyxlPWIuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxmPWIuaW1wbGVtZW50YXRpb258fHtoYXNGZWF0dXJlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fTtlLnR5cGU9InRleHQvY3NzIixkLmluc2VydEJlZm9yZShlLGQuZmlyc3RDaGlsZCksYT1lLnNoZWV0fHxlLnN0eWxlU2hlZXQ7dmFyIGk9Zi5oYXNGZWF0dXJlKCJDU1MyIiwiIik/ZnVuY3Rpb24oYil7aWYoIWF8fCFiKXJldHVybiExO3ZhciBjPSExO3RyeXthLmluc2VydFJ1bGUoYiwwKSxjPS9zcmMvaS50ZXN0KGEuY3NzUnVsZXNbMF0uY3NzVGV4dCksYS5kZWxldGVSdWxlKGEuY3NzUnVsZXMubGVuZ3RoLTEpfWNhdGNoKGQpe31yZXR1cm4gY306ZnVuY3Rpb24oYil7aWYoIWF8fCFiKXJldHVybiExO2EuY3NzVGV4dD1iO3JldHVybiBhLmNzc1RleHQubGVuZ3RoIT09MCYmL3NyYy9pLnRlc3QoYS5jc3NUZXh0KSYmYS5jc3NUZXh0LnJlcGxhY2UoL1xyK3xcbisvZywiIikuaW5kZXhPZihiLnNwbGl0KCIgIilbMF0pPT09MH07Yz1pKCdAZm9udC1mYWNlIHsgZm9udC1mYW1pbHk6ICJmb250Ijsgc3JjOiB1cmwoZGF0YTosKTsgfScpLGQucmVtb3ZlQ2hpbGQoZSk7cmV0dXJuIGN9LHIudmlkZW89ZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoInZpZGVvIiksYz0hIWEuY2FuUGxheVR5cGU7aWYoYyl7Yz1uZXcgQm9vbGVhbihjKSxjLm9nZz1hLmNhblBsYXlUeXBlKCd2aWRlby9vZ2c7IGNvZGVjcz0idGhlb3JhIicpO3ZhciBkPSd2aWRlby9tcDQ7IGNvZGVjcz0iYXZjMS40MkUwMUUnO2MuaDI2ND1hLmNhblBsYXlUeXBlKGQrJyInKXx8YS5jYW5QbGF5VHlwZShkKycsIG1wNGEuNDAuMiInKSxjLndlYm09YS5jYW5QbGF5VHlwZSgndmlkZW8vd2VibTsgY29kZWNzPSJ2cDgsIHZvcmJpcyInKX1yZXR1cm4gY30sci5hdWRpbz1mdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSxjPSEhYS5jYW5QbGF5VHlwZTtjJiYoYz1uZXcgQm9vbGVhbihjKSxjLm9nZz1hLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz0idm9yYmlzIicpLGMubXAzPWEuY2FuUGxheVR5cGUoImF1ZGlvL21wZWc7IiksYy53YXY9YS5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9IjEiJyksYy5tNGE9YS5jYW5QbGF5VHlwZSgiYXVkaW8veC1tNGE7Iil8fGEuY2FuUGxheVR5cGUoImF1ZGlvL2FhYzsiKSk7cmV0dXJuIGN9LHIubG9jYWxzdG9yYWdlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiEhbG9jYWxTdG9yYWdlLmdldEl0ZW19Y2F0Y2goYSl7cmV0dXJuITF9fSxyLnNlc3Npb25zdG9yYWdlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiEhc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbX1jYXRjaChhKXtyZXR1cm4hMX19LHIud2ViV29ya2Vycz1mdW5jdGlvbigpe3JldHVybiEhYS5Xb3JrZXJ9LHIuYXBwbGljYXRpb25jYWNoZT1mdW5jdGlvbigpe3JldHVybiEhYS5hcHBsaWNhdGlvbkNhY2hlfSxyLnN2Zz1mdW5jdGlvbigpe3JldHVybiEhYi5jcmVhdGVFbGVtZW50TlMmJiEhYi5jcmVhdGVFbGVtZW50TlMocS5zdmcsInN2ZyIpLmNyZWF0ZVNWR1JlY3R9LHIuaW5saW5lc3ZnPWZ1bmN0aW9uKCl7dmFyIGE9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmlubmVySFRNTD0iPHN2Zy8+IjtyZXR1cm4oYS5maXJzdENoaWxkJiZhLmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJKT09cS5zdmd9LHIuc21pbD1mdW5jdGlvbigpe3JldHVybiEhYi5jcmVhdGVFbGVtZW50TlMmJi9TVkcvLnRlc3Qobi5jYWxsKGIuY3JlYXRlRWxlbWVudE5TKHEuc3ZnLCJhbmltYXRlIikpKX0sci5zdmdjbGlwcGF0aHM9ZnVuY3Rpb24oKXtyZXR1cm4hIWIuY3JlYXRlRWxlbWVudE5TJiYvU1ZHLy50ZXN0KG4uY2FsbChiLmNyZWF0ZUVsZW1lbnROUyhxLnN2ZywiY2xpcFBhdGgiKSkpfTtmb3IodmFyIEggaW4gcil6KHIsSCkmJih2PUgudG9Mb3dlckNhc2UoKSxlW3ZdPXJbSF0oKSx1LnB1c2goKGVbdl0/IiI6Im5vLSIpK3YpKTtlLmlucHV0fHxHKCksZS5jcm9zc3dpbmRvd21lc3NhZ2luZz1lLnBvc3RtZXNzYWdlLGUuaGlzdG9yeW1hbmFnZW1lbnQ9ZS5oaXN0b3J5LGUuYWRkVGVzdD1mdW5jdGlvbihhLGIpe2E9YS50b0xvd2VyQ2FzZSgpO2lmKCFlW2FdKXtiPSEhYigpLGcuY2xhc3NOYW1lKz0iICIrKGI/IiI6Im5vLSIpK2EsZVthXT1iO3JldHVybiBlfX0sQSgiIiksaj1sPW51bGwsZiYmYS5hdHRhY2hFdmVudCYmZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuaW5uZXJIVE1MPSI8ZWxlbT48L2VsZW0+IjtyZXR1cm4gYS5jaGlsZE5vZGVzLmxlbmd0aCE9PTF9KCkmJmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gcChhLGIpe3ZhciBjPS0xLGQ9YS5sZW5ndGgsZSxmPVtdO3doaWxlKCsrYzxkKWU9YVtjXSwoYj1lLm1lZGlhfHxiKSE9InNjcmVlbiImJmYucHVzaChwKGUuaW1wb3J0cyxiKSxlLmNzc1RleHQpO3JldHVybiBmLmpvaW4oIiIpfWZ1bmN0aW9uIG8oYSl7dmFyIGI9LTE7d2hpbGUoKytiPGUpYS5jcmVhdGVFbGVtZW50KGRbYl0pfXZhciBjPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98Y2FudmFzfGRldGFpbHN8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHByb2dyZXNzfHNlY3Rpb258c3VtbWFyeXx0aW1lfHZpZGVvIixkPWMuc3BsaXQoInwiKSxlPWQubGVuZ3RoLGY9bmV3IFJlZ0V4cCgiKF58XFxzKSgiK2MrIikiLCJnaSIpLGc9bmV3IFJlZ0V4cCgiPCgvKikoIitjKyIpIiwiZ2kiKSxoPW5ldyBSZWdFeHAoIihefFteXFxuXSo/XFxzKSgiK2MrIikoW15cXG5dKikoe1tcXG5cXHdcXFddKj99KSIsImdpIiksaT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxqPWIuZG9jdW1lbnRFbGVtZW50LGs9ai5maXJzdENoaWxkLGw9Yi5jcmVhdGVFbGVtZW50KCJib2R5IiksbT1iLmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksbjtvKGIpLG8oaSksay5pbnNlcnRCZWZvcmUobSxrLmZpcnN0Q2hpbGQpLG0ubWVkaWE9InByaW50IixhLmF0dGFjaEV2ZW50KCJvbmJlZm9yZXByaW50IixmdW5jdGlvbigpe3ZhciBhPS0xLGM9cChiLnN0eWxlU2hlZXRzLCJhbGwiKSxrPVtdLG87bj1ufHxiLmJvZHk7d2hpbGUoKG89aC5leGVjKGMpKSE9bnVsbClrLnB1c2goKG9bMV0rb1syXStvWzNdKS5yZXBsYWNlKGYsIiQxLmllcHBfJDIiKStvWzRdKTttLnN0eWxlU2hlZXQuY3NzVGV4dD1rLmpvaW4oIlxuIik7d2hpbGUoKythPGUpe3ZhciBxPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZFthXSkscj1xLmxlbmd0aCxzPS0xO3doaWxlKCsrczxyKXFbc10uY2xhc3NOYW1lLmluZGV4T2YoImllcHBfIik8MCYmKHFbc10uY2xhc3NOYW1lKz0iIGllcHBfIitkW2FdKX1pLmFwcGVuZENoaWxkKG4pLGouYXBwZW5kQ2hpbGQobCksbC5jbGFzc05hbWU9bi5jbGFzc05hbWUsbC5pbm5lckhUTUw9bi5pbm5lckhUTUwucmVwbGFjZShnLCI8JDFmb250Iil9KSxhLmF0dGFjaEV2ZW50KCJvbmFmdGVycHJpbnQiLGZ1bmN0aW9uKCl7bC5pbm5lckhUTUw9IiIsai5yZW1vdmVDaGlsZChsKSxqLmFwcGVuZENoaWxkKG4pLG0uc3R5bGVTaGVldC5jc3NUZXh0PSIifSl9KGEsYiksZS5fZW5hYmxlSFRNTDU9ZixlLl92ZXJzaW9uPWQsZy5jbGFzc05hbWU9Zy5jbGFzc05hbWUucmVwbGFjZSgvXGJuby1qc1xiLywiIikrIiBqcyAiK3Uuam9pbigiICIpO3JldHVybiBlfSh0aGlzLHRoaXMuZG9jdW1lbnQp", "content_type": "application/javascript"}, "js/utils.js": {"data": "Ly8gRXJyIGEgbGl0dGxlIE5JSCwgc29tZSBvZiB0aGUgcmVnZXggc3R1ZmYgaXMgZnJvbSBzYW1teSwgYnV0IEkgb25seQovLyB3YW50ZWQgdGhlIHJvdXRpbmcsIGFuZCB0aGUgd2F5IHNhbW15IGltcGxlbWVudGVkIHJvdXRpbmcgaXNudAovLyBncmVhdCBmb3IgbXkgY3B1IChpdCBwb2xscyBieSBkZWZhdWx0IGV2ZW4gd2hlbiB0aGUgaGFzaGNoYW5nZQovLyBpcyBzdXBwb3J0ZWQpCnZhciBSb3V0ZXIgPSAoZnVuY3Rpb24oKSB7CgogIHZhciBQQVRIX1JFUExBQ0VSID0gIihbXlwvXSspIiwKICAgICAgUEFUSF9NQVRDSEVSICA9IC86KFtcd1xkXSspL2csCiAgICAgIFdJTERfTUFUQ0hFUiAgPSAvXCooW1x3XGRdKykvZywKICAgICAgV0lMRF9SRVBMQUNFUiAgPSAiKC4qPykiLAogICAgICBwcmVSb3V0ZXJGdW4gID0gbnVsbCwKICAgICAgZnVuNDA0ICAgICAgICA9IG51bGwsCiAgICAgIGhpc3RvcnkgICAgICAgPSBbXSwKICAgICAgcm91dGVzICAgICAgICA9IHtHRVQ6IFtdLCBQT1NUOiBbXX07CgogIC8vIE5lZWRzIG5hbWVzcGFjZWQgYW5kIGRlY291cGxlZCBhbmQgc3R1ZmYKICBmdW5jdGlvbiBpbml0KCkgewogICAgJCh3aW5kb3cpLmJpbmQoImhhc2hjaGFuZ2UiLCB1cmxDaGFuZ2VkKS50cmlnZ2VyKCJoYXNoY2hhbmdlIik7CiAgICAkKGRvY3VtZW50KS5iaW5kKCJzdWJtaXQiLCBmb3JtU3VibWl0dGVkKTsKICB9OwoKICBmdW5jdGlvbiBiYWNrKCkgewogICAgaGlzdG9yeS5wb3AoKTsgLy8gY3VycmVudCB1cmwKICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IDApIHsKICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9ICIjIiArIGhpc3RvcnkucG9wKCk7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gIiMiOwogICAgfQogIH07CgogIGZ1bmN0aW9uIGdldChwYXRoLCBjYikgewogICAgcm91dGUoIkdFVCIsIHBhdGgsIGNiKTsKICB9OwoKICBmdW5jdGlvbiBwb3N0KHBhdGgsIGNiKSB7CiAgICByb3V0ZSgiUE9TVCIsIHBhdGgsIGNiKTsKICB9OwoKICBmdW5jdGlvbiByZWZyZXNoKG1haW50YWluU2Nyb2xsKSB7CiAgICB1cmxDaGFuZ2VkKG1haW50YWluU2Nyb2xsKTsKICB9OwoKICBmdW5jdGlvbiBwcmVSb3V0ZXIoZnVuKSB7CiAgICBwcmVSb3V0ZXJGdW4gPSBmdW47CiAgfTsKCiAgZnVuY3Rpb24gZXJyb3I0MDQoZnVuKSB7CiAgICBmdW40MDQgPSBmdW47CiAgfTsKCiAgZnVuY3Rpb24gZ28odXJsKSB7CiAgICBkb2N1bWVudC5sb2NhdGlvbi5oYXNoID0gdXJsOwogICAgd2luZG93LnNjcm9sbFRvKDAsMCk7CiAgfTsKCiAgZnVuY3Rpb24gdG9SZWdleChwYXRoKSB7CiAgICBpZiAocGF0aC5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpIHsKICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoIl4iICsgcGF0aC5yZXBsYWNlKFBBVEhfTUFUQ0hFUiwgUEFUSF9SRVBMQUNFUikKICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShXSUxEX01BVENIRVIsIFdJTERfUkVQTEFDRVIpICsiJCIpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHBhdGg7CiAgICB9CiAgfQoKICBmdW5jdGlvbiByb3V0ZSh2ZXJiLCBwYXRoLCBjYikgewogICAgcm91dGVzW3ZlcmJdLnB1c2goewogICAgICBwYXRoICAgICA6IHRvUmVnZXgocGF0aCksCiAgICAgIGNhbGxiYWNrIDogY2IKICAgIH0pOwogIH07CgogIGZ1bmN0aW9uIHVybENoYW5nZWQobWFpbnRhaW5TY3JvbGwpIHsKICAgIGhpc3RvcnkucHVzaCh3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSk7CiAgICB0cmlnZ2VyKCJHRVQiLCB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSk7CiAgICBpZiAobWFpbnRhaW5TY3JvbGwgIT09IHRydWUpIHsKICAgICAgLy93aW5kb3cuc2Nyb2xsVG8oMCwwKTsKICAgIH0KICB9OwoKICBmdW5jdGlvbiBmb3JtU3VibWl0dGVkKGUpIHsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgYWN0aW9uID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJhY3Rpb24iKTsKCiAgICBpZiAoYWN0aW9uWzBdID09PSAiIyIpIHsKICAgICAgdHJpZ2dlcigiUE9TVCIsIGFjdGlvbi5zbGljZSgxKSwgZSwgc2VyaWFsaXplKGUudGFyZ2V0KSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0cmlnZ2VyKHZlcmIsIHVybCwgY3R4LCBkYXRhKSB7CiAgICBpZiAocHJlUm91dGVyRnVuKSB7CiAgICAgIGlmICghcHJlUm91dGVyRnVuKHZlcmIsIHVybCwgY3R4KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogICAgdmFyIG1hdGNoID0gbWF0Y2hQYXRoKHZlcmIsIHVybCk7CiAgICBpZiAobWF0Y2gpIHsKICAgICAgdmFyIGFyZ3MgPSBtYXRjaC5tYXRjaC5zbGljZSgxKTsKICAgICAgaWYgKHZlcmIgPT09ICJQT1NUIikgewogICAgICAgIGFyZ3MudW5zaGlmdChkYXRhKTsKICAgICAgICBhcmdzLnVuc2hpZnQoY3R4KTsKICAgICAgfQogICAgICBtYXRjaC5kZXRhaWxzLmNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGZ1bjQwNCkgewogICAgICAgIGZ1bjQwNCh2ZXJiLCB1cmwpOwogICAgICB9CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gbWF0Y2hlc0N1cnJlbnQobmVlZGxlKSB7CiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkubWF0Y2godG9SZWdleChuZWVkbGUpKTsKICB9OwoKICBmdW5jdGlvbiBtYXRjaFBhdGgodmVyYiwgcGF0aCkgewogICAgdmFyIGksIHRtcCwgYXJyID0gcm91dGVzW3ZlcmJdOwogICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkgewogICAgICB0bXAgPSBwYXRoLm1hdGNoKGFycltpXS5wYXRoKTsKICAgICAgaWYgKHRtcCkgewogICAgICAgIHJldHVybiB7Im1hdGNoIjp0bXAsICJkZXRhaWxzIjphcnJbaV19OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfTsKCiAgZnVuY3Rpb24gc2VyaWFsaXplKG9iaikgewogICAgdmFyIG8gPSB7fTsKICAgIHZhciBhID0gJChvYmopLnNlcmlhbGl6ZUFycmF5KCk7CiAgICAkLmVhY2goYSwgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChvW3RoaXMubmFtZV0pIHsKICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvW3RoaXMubmFtZV0gPSBbb1t0aGlzLm5hbWVdXTsKICAgICAgICB9CiAgICAgICAgb1t0aGlzLm5hbWVdLnB1c2godGhpcy52YWx1ZSB8fCAnJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb1t0aGlzLm5hbWVdID0gdGhpcy52YWx1ZSB8fCAnJzsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbzsKICB9OwoKICByZXR1cm4gewogICAgZ28gICAgICA6IGdvLAogICAgYmFjayAgICA6IGJhY2ssCiAgICBnZXQgICAgIDogZ2V0LAogICAgcG9zdCAgICA6IHBvc3QsCiAgICBpbml0ICAgIDogaW5pdCwKICAgIG1hdGNoZXNDdXJyZW50IDogbWF0Y2hlc0N1cnJlbnQsCiAgICBwcmUgICAgIDogcHJlUm91dGVyLAogICAgcmVmcmVzaCA6IHJlZnJlc2gsCiAgICBlcnJvcjQwNCA6IGVycm9yNDA0CiAgfTsKCn0pOwoKdmFyIFV0aWxzID0ge307CgpVdGlscy5pc01vYmlsZSA9IGZ1bmN0aW9uKCkgewogIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkKICAgIC5tYXRjaCgvKGFuZHJvaWR8aXBob25lfGlwb2R8aXBhZCkvKSAhPT0gbnVsbDsKfTsKCgpmdW5jdGlvbiBsaW5rVXAoYm9keSwgcGVyc29uX3ByZWZpeCwgdGFnX3ByZWZpeCkgewoKICAvL2JvZHkgPSBNdXN0YWNoZS5lc2NhcGUoYm9keSk7CiAgcGVyc29uX3ByZWZpeCA9IHBlcnNvbl9wcmVmaXggfHwgIiMhL21lbnRpb25zLyI7CiAgdGFnX3ByZWZpeCA9IHRhZ19wcmVmaXggfHwgIiMhL3RhZ3MvIjsKCiAgdmFyIHRtcCA9IGJvZHkucmVwbGFjZSgvKChmdHB8aHR0cHxodHRwcyk6XC9cLyhcdys6ezAsMX1cdypAKT8oXFMrKSg6WzAtOV0rKT8oXC98XC8oW1x3IyE6Lj8rPSYlQCFcLVwvXSkpPykvZ2ksZnVuY3Rpb24oYSkgewogICAgcmV0dXJuICc8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJythKyciPicrYSsnPC9hPic7CiAgfSk7CgogIGZ1bmN0aW9uIHRyYW5zZm9ybVRleHQoc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xAKFtcd1wtXSspL2csIGZ1bmN0aW9uKHVzZXIsbmFtZSkgewogICAgICByZXR1cm4gJzxhIGhyZWY9IicrcGVyc29uX3ByZWZpeCtlbmNvZGVVUklDb21wb25lbnQobmFtZSkrJyI+Jyt1c2VyKyc8L2E+JzsKICAgIH0pLnJlcGxhY2UoL1wjKFtcd1wtXC5dKykvZyxmdW5jdGlvbih3b3JkLHRhZykgewogICAgICByZXR1cm4gJzxhIGhyZWY9IicrdGFnX3ByZWZpeCtlbmNvZGVVUklDb21wb25lbnQodGFnKSsnIj4nK3dvcmQrJzwvYT4nOwogICAgfSk7CiAgfTsKCiAgZnVuY3Rpb24gcmVwbGFjZVRhZ3MoZG9tKSB7CiAgICB2YXIgaSwgdG1wOwogICAgZm9yIChpID0gMDsgaSA8IGRvbS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRtcCA9IChkb20uY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PT0gMyAmJgogICAgICAgICAgICAgJChkb20uY2hpbGROb2Rlc1tpXSkucGFyZW50cygiYSIpLmxlbmd0aCA9PT0gMCkKICAgICAgICA/ICQoIjxzcGFuPiIrdHJhbnNmb3JtVGV4dChkb20uY2hpbGROb2Rlc1tpXS50ZXh0Q29udGVudCkrIjwvc3Bhbj4iKVswXQogICAgICAgIDogcmVwbGFjZVRhZ3MoZG9tLmNoaWxkTm9kZXNbaV0pOwoKICAgICAgZG9tLnJlcGxhY2VDaGlsZCh0bXAsIGRvbS5jaGlsZE5vZGVzW2ldKTsKICAgIH0KICAgIHJldHVybiBkb207CiAgfTsKCiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGRpdi5pbm5lckhUTUwgPSB0bXA7CiAgcmV0dXJuIHJlcGxhY2VUYWdzKGRpdikuaW5uZXJIVE1MOwoKICAvL3JldHVybiB0bXA7Cn07Cgp2YXIgZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciAgICB0b2tlbiA9IC9kezEsNH18bXsxLDR9fHl5KD86eXkpP3woW0hoTXNUdF0pXDE/fFtMbG9TWl18IlteIl0qInwnW14nXSonL2csCgkJdGltZXpvbmUgPSAvXGIoPzpbUE1DRUFdW1NEUF1UfCg/OlBhY2lmaWN8TW91bnRhaW58Q2VudHJhbHxFYXN0ZXJufEF0bGFudGljKSAoPzpTdGFuZGFyZHxEYXlsaWdodHxQcmV2YWlsaW5nKSBUaW1lfCg/OkdNVHxVVEMpKD86Wy0rXVxkezR9KT8pXGIvZywKCQl0aW1lem9uZUNsaXAgPSAvW14tK1xkQS1aXS9nLAoJCXBhZCA9IGZ1bmN0aW9uICh2YWwsIGxlbikgewoJCQl2YWwgPSBTdHJpbmcodmFsKTsKCQkJbGVuID0gbGVuIHx8IDI7CgkJCXdoaWxlICh2YWwubGVuZ3RoIDwgbGVuKSB2YWwgPSAiMCIgKyB2YWw7CgkJCXJldHVybiB2YWw7CgkJfTsKCgkvLyBSZWdleGVzIGFuZCBzdXBwb3J0aW5nIGZ1bmN0aW9ucyBhcmUgY2FjaGVkIHRocm91Z2ggY2xvc3VyZQoJcmV0dXJuIGZ1bmN0aW9uIChkYXRlLCBtYXNrLCB1dGMpIHsKCQl2YXIgZEYgPSBkYXRlRm9ybWF0OwoKCQkvLyBZb3UgY2FuJ3QgcHJvdmlkZSB1dGMgaWYgeW91IHNraXAgb3RoZXIgYXJncyAodXNlIHRoZSAiVVRDOiIgbWFzayBwcmVmaXgpCgkJaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0ZSkgPT0gIltvYmplY3QgU3RyaW5nXSIgJiYgIS9cZC8udGVzdChkYXRlKSkgewoJCQltYXNrID0gZGF0ZTsKCQkJZGF0ZSA9IHVuZGVmaW5lZDsKCQl9CgoJCS8vIFBhc3NpbmcgZGF0ZSB0aHJvdWdoIERhdGUgYXBwbGllcyBEYXRlLnBhcnNlLCBpZiBuZWNlc3NhcnkKCQlkYXRlID0gZGF0ZSA/IG5ldyBEYXRlKGRhdGUpIDogbmV3IERhdGU7CgkJaWYgKGlzTmFOKGRhdGUpKSB0aHJvdyBTeW50YXhFcnJvcigiaW52YWxpZCBkYXRlIik7CgoJCW1hc2sgPSBTdHJpbmcoZEYubWFza3NbbWFza10gfHwgbWFzayB8fCBkRi5tYXNrc1siZGVmYXVsdCJdKTsKCgkJLy8gQWxsb3cgc2V0dGluZyB0aGUgdXRjIGFyZ3VtZW50IHZpYSB0aGUgbWFzawoJCWlmIChtYXNrLnNsaWNlKDAsIDQpID09ICJVVEM6IikgewoJCQltYXNrID0gbWFzay5zbGljZSg0KTsKCQkJdXRjID0gdHJ1ZTsKCQl9CgoJCXZhcglfID0gdXRjID8gImdldFVUQyIgOiAiZ2V0IiwKCQkJZCA9IGRhdGVbXyArICJEYXRlIl0oKSwKCQkJRCA9IGRhdGVbXyArICJEYXkiXSgpLAoJCQltID0gZGF0ZVtfICsgIk1vbnRoIl0oKSwKCQkJeSA9IGRhdGVbXyArICJGdWxsWWVhciJdKCksCgkJCUggPSBkYXRlW18gKyAiSG91cnMiXSgpLAoJCQlNID0gZGF0ZVtfICsgIk1pbnV0ZXMiXSgpLAoJCQlzID0gZGF0ZVtfICsgIlNlY29uZHMiXSgpLAoJCQlMID0gZGF0ZVtfICsgIk1pbGxpc2Vjb25kcyJdKCksCgkJCW8gPSB1dGMgPyAwIDogZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLAoJCQlmbGFncyA9IHsKCQkJCWQ6ICAgIGQsCgkJCQlkZDogICBwYWQoZCksCgkJCQlkZGQ6ICBkRi5pMThuLmRheU5hbWVzW0RdLAoJCQkJZGRkZDogZEYuaTE4bi5kYXlOYW1lc1tEICsgN10sCgkJCQltOiAgICBtICsgMSwKCQkJCW1tOiAgIHBhZChtICsgMSksCgkJCQltbW06ICBkRi5pMThuLm1vbnRoTmFtZXNbbV0sCgkJCQltbW1tOiBkRi5pMThuLm1vbnRoTmFtZXNbbSArIDEyXSwKCQkJCXl5OiAgIFN0cmluZyh5KS5zbGljZSgyKSwKCQkJCXl5eXk6IHksCgkJCQloOiAgICBIICUgMTIgfHwgMTIsCgkJCQloaDogICBwYWQoSCAlIDEyIHx8IDEyKSwKCQkJCUg6ICAgIEgsCgkJCQlISDogICBwYWQoSCksCgkJCQlNOiAgICBNLAoJCQkJTU06ICAgcGFkKE0pLAoJCQkJczogICAgcywKCQkJCXNzOiAgIHBhZChzKSwKCQkJCWw6ICAgIHBhZChMLCAzKSwKCQkJCUw6ICAgIHBhZChMID4gOTkgPyBNYXRoLnJvdW5kKEwgLyAxMCkgOiBMKSwKCQkJCXQ6ICAgIEggPCAxMiA/ICJhIiAgOiAicCIsCgkJCQl0dDogICBIIDwgMTIgPyAiYW0iIDogInBtIiwKCQkJCVQ6ICAgIEggPCAxMiA/ICJBIiAgOiAiUCIsCgkJCQlUVDogICBIIDwgMTIgPyAiQU0iIDogIlBNIiwKCQkJCVo6ICAgIHV0YyA/ICJVVEMiIDogKFN0cmluZyhkYXRlKS5tYXRjaCh0aW1lem9uZSkgfHwgWyIiXSkucG9wKCkucmVwbGFjZSh0aW1lem9uZUNsaXAsICIiKSwKCQkJCW86ICAgIChvID4gMCA/ICItIiA6ICIrIikgKyBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhvKSAvIDYwKSAqIDEwMCArIE1hdGguYWJzKG8pICUgNjAsIDQpLAoJCQkJUzogICAgWyJ0aCIsICJzdCIsICJuZCIsICJyZCJdW2QgJSAxMCA+IDMgPyAwIDogKGQgJSAxMDAgLSBkICUgMTAgIT0gMTApICogZCAlIDEwXQoJCQl9OwoKCQlyZXR1cm4gbWFzay5yZXBsYWNlKHRva2VuLCBmdW5jdGlvbiAoJDApIHsKCQkJcmV0dXJuICQwIGluIGZsYWdzID8gZmxhZ3NbJDBdIDogJDAuc2xpY2UoMSwgJDAubGVuZ3RoIC0gMSk7CgkJfSk7Cgl9Owp9KCk7CgovLyBTb21lIGNvbW1vbiBmb3JtYXQgc3RyaW5ncwpkYXRlRm9ybWF0Lm1hc2tzID0gewoJImRlZmF1bHQiOiAgICAgICJkZGQgbW1tIGRkIHl5eXkgSEg6TU06c3MiLAoJc2hvcnREYXRlOiAgICAgICJtL2QveXkiLAoJbWVkaXVtRGF0ZTogICAgICJtbW0gZCwgeXl5eSIsCglsb25nRGF0ZTogICAgICAgIm1tbW0gZCwgeXl5eSIsCglmdWxsRGF0ZTogICAgICAgImRkZGQsIG1tbW0gZCwgeXl5eSIsCglzaG9ydFRpbWU6ICAgICAgImg6TU0gVFQiLAoJbWVkaXVtVGltZTogICAgICJoOk1NOnNzIFRUIiwKCWxvbmdUaW1lOiAgICAgICAiaDpNTTpzcyBUVCBaIiwKCWlzb0RhdGU6ICAgICAgICAieXl5eS1tbS1kZCIsCglpc29UaW1lOiAgICAgICAgIkhIOk1NOnNzIiwKCWlzb0RhdGVUaW1lOiAgICAieXl5eS1tbS1kZCdUJ0hIOk1NOnNzIiwKCWlzb1V0Y0RhdGVUaW1lOiAiVVRDOnl5eXktbW0tZGQnVCdISDpNTTpzcydaJyIKfTsKCi8vIEludGVybmF0aW9uYWxpemF0aW9uIHN0cmluZ3MKZGF0ZUZvcm1hdC5pMThuID0gewoJZGF5TmFtZXM6IFsKCQkiU3VuIiwgIk1vbiIsICJUdWUiLCAiV2VkIiwgIlRodSIsICJGcmkiLCAiU2F0IiwKCQkiU3VuZGF5IiwgIk1vbmRheSIsICJUdWVzZGF5IiwgIldlZG5lc2RheSIsICJUaHVyc2RheSIsICJGcmlkYXkiLCAiU2F0dXJkYXkiCgldLAoJbW9udGhOYW1lczogWwoJCSJKYW4iLCAiRmViIiwgIk1hciIsICJBcHIiLCAiTWF5IiwgIkp1biIsICJKdWwiLCAiQXVnIiwgIlNlcCIsICJPY3QiLCAiTm92IiwgIkRlYyIsCgkJIkphbnVhcnkiLCAiRmVicnVhcnkiLCAiTWFyY2giLCAiQXByaWwiLCAiTWF5IiwgIkp1bmUiLCAiSnVseSIsICJBdWd1c3QiLCAiU2VwdGVtYmVyIiwgIk9jdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVjZW1iZXIiCgldCn07CgovLyBGb3IgY29udmVuaWVuY2UuLi4KRGF0ZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG1hc2ssIHV0YykgewoJcmV0dXJuIGRhdGVGb3JtYXQodGhpcywgbWFzaywgdXRjKTsKfTsKCi8vIFRha2VzIGFuIElTTyB0aW1lIGFuZCByZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyBob3cKLy8gbG9uZyBhZ28gdGhlIGRhdGUgcmVwcmVzZW50cy4KZnVuY3Rpb24gcHJldHR5RGF0ZShkYXRlKXsKCXZhciBkaWZmID0gKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCkpIC8gMTAwMCksCgkJZGF5X2RpZmYgPSBNYXRoLmZsb29yKGRpZmYgLyA4NjQwMCk7CgoJaWYgKCBpc05hTihkYXlfZGlmZikgfHwgZGF5X2RpZmYgPCAwICkKCQlyZXR1cm47CgogICAgcmV0dXJuIGRheV9kaWZmID09IDAgJiYgKAoJCWRpZmYgPCA2MCAmJiAianVzdCBub3ciIHx8CgkJCWRpZmYgPCAxMjAgJiYgIjEgbWluIGFnbyIgfHwKCQkJZGlmZiA8IDM2MDAgJiYgTWF0aC5mbG9vciggZGlmZiAvIDYwICkgKyAiIG1pbiBhZ28iIHx8CgkJCWRpZmYgPCA3MjAwICYmICIxIGhvdXIgYWdvIiB8fAoJCQlkaWZmIDwgODY0MDAgJiYgTWF0aC5mbG9vciggZGlmZiAvIDM2MDAgKSArICIgaG91cnMgYWdvIikgfHwKCQlkYXlfZGlmZiA9PSAxICYmICJZZXN0ZXJkYXkiIHx8CgkJZGF5X2RpZmYgPCA3ICYmIGRheV9kaWZmICsgIiBkYXlzIGFnbyIgfHwKCQlkYXlfZGlmZiA8IDMxICYmIE1hdGguY2VpbCggZGF5X2RpZmYgLyA3ICkgKyAiIHdlZWtzIGFnbyIgfHwKICAgIGRheV9kaWZmIDwgMzY1ICYmIE1hdGguY2VpbCggZGF5X2RpZmYgLyAzMSkgKyAiIG1vbnRocyBhZ28iOwp9Owo=", "content_type": "application/javascript"}, "js/.DS_Store": {"data": "AAAAAUJ1ZDEAABAAAAAIAAAAEAAAAAIJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAUAAAABAAAQAAByAHkALQB1AGkALQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAeAGoAcQB1AGUAcgB5AC0AdQBpAC0AMQAuADgALgAxADAALgBjAHUAcwB0AG8AbQAuAG0AaQBuAC4AagBzSWxvY2Jsb2IAAAAQ//////////////////8AAAAAAA8AagBxAHUAZQByAHkALgBjAG8AdQBjAGgALgBqAHNJbG9jYmxvYgAAABD//////////////////wAAAAAACwBtAHUAcwB0AGEAYwBoAGUALgBqAHNJbG9jYmxvYgAAABD//////////////////wAAAAAACAB0AGEAcwBrAHMALgBqAHNJbG9jYmxvYgAAABD//////////////////wAAAAAACAB1AHQAaQBsAHMALgBqAHNJbG9jYmxvYgAAABD//////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAgLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAACAAAAABAAAAQAAAAAEAAACAAAAAAQAAAQAAAAABAAACAAAAAAEAAAQAAAAAAAAAAAEAABAAAAAAAQAAIAAAAAABAABAAAAAAAEAAIAAAAAAAQABAAAAAAABAAIAAAAAAAEABAAAAAAAAQAIAAAAAAABABAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAIAAAAAAAAEBAAAAAAAAAQIAAAAAAAABBAAAAAAAAAEIAAAAAAAAARAAAAAAAAABIAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAEAsAAABFAAACCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBERTREIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAIAAAAGAAAAAAAAAAAQAAAIAAAAABAAABAAAAAAAAAAABAAAEAAAAAAIAAAgAAAAYAAAAAAAAAAABAAAgAAAAAAEAAEAAAAAAAQAAgAAAAAABAAEAAAAAAAEAAgAAAAAAAQAEAAAAAAABAAgAAAAAAAEAEAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAgAAAAAAAAQEAAAAAAAABAgAAAAAAAAEEAAAAAAAAAQgAAAAAAAABEAAAAAAAAAEgAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==", "content_type": ""}, "js/mobile.futon.js": {"data": "d2luZG93LmxvZyA9IGZ1bmN0aW9uKCl7CiAgbG9nLmhpc3RvcnkgPSBsb2cuaGlzdG9yeSB8fCBbXTsKICBsb2cuaGlzdG9yeS5wdXNoKGFyZ3VtZW50cyk7CiAgaWYodGhpcy5jb25zb2xlKXsKICAgIGNvbnNvbGUubG9nKCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpICk7CiAgfQp9OwoKJC5hamF4U2V0dXAoewogIGNhY2hlOiBmYWxzZQp9KTsKCi8vIERvZXNudCBoYW5kbGUgZ2hvc3RlZCBldmVudHMsIHdpbGwgc3Vydml2ZSBmb3Igbm93CnZhciBwcmVzc2VkID0gVXRpbHMuaXNNb2JpbGUoKSA/ICJjbGljayIgOiAiY2xpY2siOwoKdmFyIFRhc2tzID0gKGZ1bmN0aW9uICgpIHsKCiAgdmFyIG1haW5EYiAgPSBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgiLyIpWzFdLAogICAgICBwYW5lV2lkdGggPSAwLAogICAgICBpc01vYmlsZSA9IFV0aWxzLmlzTW9iaWxlKCksCiAgICAgIHJvdXRlciAgPSBuZXcgUm91dGVyKCksCiAgICAgIGN1cnJlbnRfdHBsID0gbnVsbCwKICAgICAgc2xpZGVQYW5lID0gbnVsbCwKICAgICAgZG9jcyAgICA9IHt9LAogICAgICB0YXNrcyAgID0gW10sCiAgICAgIHNlcnZlcnMgPSBbXSwKICAgICAgcmVwbGljYXRpb25zID0gbG9jYWxTdG9yYWdlLnJlcGxpY2F0aW9ucyAmJiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5yZXBsaWNhdGlvbnMpIHx8IFtdLAogICAgICB6SW5kZXggID0gMCwKICAgICAgY3VycmVudE9mZnNldCA9IDAsCiAgICAgIGxhc3RQYW5lID0gbnVsbCwKICAgICAgJGRiICAgICA9ICQuY291Y2guZGIobWFpbkRiKTsKCiAgdmFyIHBhcmFtcyA9IHt9OwogICQuZWFjaChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoIiYiKSwgZnVuY3Rpb24oaSwgcGFyYW0pIHsKICAgIHZhciB0bXAgPSBwYXJhbS5zcGxpdCgiPSIpOwogICAgcGFyYW1zW3RtcFswXV0gPSB0bXBbMV07CiAgfSk7CgogIHZhciB0ZW1wbGF0ZXMgPSB7CiAgICBob21lX3RwbCA6IHsKICAgICAgdHJhbnNpdGlvbiA6ICJzbGlkZUhvcml6b250YWwiLAogICAgICBldmVudHMgOiB7CiAgICAgIH0sCiAgICAgIGluaXQgOiBmdW5jdGlvbihkb20pIHsKICAgICAgfQogICAgfQogIH07CgogIHJvdXRlci5nZXQoL14oISk/JC8sIGZ1bmN0aW9uICgpIHsKICAgICQoIiN0aXRsZSIpLnRleHQoIkNvdWNoREIiKTsKICAgIHJlbmRlcigvXighKT8kLywgImhvbWVfdHBsIiwgewogICAgICBpcDpwYXJhbXMuaXAgfHwgZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUsCiAgICAgIHBvcnQ6ZG9jdW1lbnQubG9jYXRpb24ucG9ydCB8fCA4MAogICAgfSk7CiAgfSk7CgogIHJvdXRlci5nZXQoIiEvY291Y2hhcHBzLyIsIGZ1bmN0aW9uICgpIHsKCiAgICAvLwogICAgdmFyIGNvbXBsZXRlZCA9IDA7CiAgICB2YXIgY291Y2hhcHBzID0gW107CgogICAgZnVuY3Rpb24gZGVzaWduRG9jcyhkYXRhYmFzZSkgewogICAgICByZXR1cm4gJC5jb3VjaC5kYihkYXRhYmFzZSkuYWxsRGVzaWduRG9jcygpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQ291Y2hBcHAoZGRvYywgbWF4KSB7CiAgICAgICAgdmFyIHVybCA9ICIvIiArIGRkb2MuZGF0YWJhc2UgKyAiLyIgKyBkZG9jLmRkb2MgKyAiL2luZGV4Lmh0bWwiOwogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6IkhFQUQiLAogICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oeGhyKSB7CiAgICAgICAgICAgICAgICBjb21wbGV0ZWQrKzsKICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBjb3VjaGFwcHMucHVzaCh7dXJsOnVybCwgbmFtZTpkZG9jLmRkb2Muc3BsaXQoIi8iKVsxXX0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA9PT0gbWF4KSB7CiAgICAgICAgICAgICAgICAgICAgJCgiI3RpdGxlIikudGV4dCgiQ291Y2hhcHBzIik7CiAgICAgICAgICAgICAgICAgICAgcmVuZGVyKCIhL2NvdWNoYXBwcy8iLCAiY291Y2hhcHBzX3RwbCIsIHtjb3VjaGFwcHM6Y291Y2hhcHBzfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICAkLmNvdWNoLmFsbERicyh7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAkLndoZW4uYXBwbHkodGhpcywgJC5tYXAoZGF0YSwgZGVzaWduRG9jcykpLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBkZXNpZ25Eb2NzID0gW107CiAgICAgICAgICAgICQuZWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGlkLCBkZG9jcykgewogICAgICAgICAgICAgICAgJC5lYWNoKGRkb2NzWzBdLnJvd3MsIGZ1bmN0aW9uKGRkb2NpZCwgZGRvYykgewogICAgICAgICAgICAgICAgICAgIGRlc2lnbkRvY3MucHVzaCh7ZGF0YWJhc2U6ZGF0YVtpZF0sIGRkb2M6ZGRvYy5pZH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJC5tYXAoZGVzaWduRG9jcywgZnVuY3Rpb24oZGRvYykgewogICAgICAgICAgICAgICAgaXNDb3VjaEFwcChkZG9jLCBkZXNpZ25Eb2NzLmxlbmd0aCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSk7CgogIHJvdXRlci5nZXQoIiEvZGF0YWJhc2VzLzpkYXRhYmFzZS8iLCBmdW5jdGlvbiAoZGF0YWJhc2UpIHsKICAgICQuY291Y2guZGIoZGF0YWJhc2UpLmFsbERvY3Moe30pLnRoZW4oZnVuY3Rpb24oZGF0YSkgewogICAgICAkKCIjdGl0bGUiKS50ZXh0KGRhdGFiYXNlKTsKICAgICAgZGF0YS5kYXRhYmFzZSA9IGRhdGFiYXNlOwogICAgICBkYXRhLnN0YXJ0ID0gMTsKICAgICAgZGF0YS5lbmQgPSBkYXRhLnRvdGFsX3Jvd3M7CiAgICAgIHJlbmRlcigiIS9kYXRhYmFzZXMvIitkYXRhYmFzZSsiLyIsICJkYXRhYmFzZV90cGwiLCBkYXRhKTsKICAgIH0pOwogIH0pOwoKICByb3V0ZXIuZ2V0KCIhL2RhdGFiYXNlcy86ZGF0YWJhc2UvKmRvYyIsIGZ1bmN0aW9uIChkYXRhYmFzZSwgZG9jKSB7CiAgICAkLmNvdWNoLmRiKGRhdGFiYXNlKS5vcGVuRG9jKGRvYykudGhlbihmdW5jdGlvbihqc29uKSB7CiAgICAgICQoIiN0aXRsZSIpLnRleHQoIi8iICsgZGF0YWJhc2UgKyAiLyIgKyBkb2MpOwogICAgICByZW5kZXIoIiEvZGF0YWJhc2VzLyIrZGF0YWJhc2UrIi8iICsgZG9jLCAiZG9jdW1lbnRfdHBsIiwge2pzb246SlNPTi5zdHJpbmdpZnkoanNvbiwgbnVsbCwgIiAiKX0pOwogICAgfSk7CiAgfSk7CgogIHJvdXRlci5nZXQoIiEvZGF0YWJhc2VzLyIsIGZ1bmN0aW9uICgpIHsKICAgICQuY291Y2guYWxsRGJzKHt9KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgJCgiI3RpdGxlIikudGV4dCgiRGF0YWJhc2VzIik7CiAgICAgIHJlbmRlcigiIS9kYXRhYmFzZXMvIiwgImRhdGFiYXNlc190cGwiLCB7ZGF0YWJhc2VzOmRhdGF9KTsKICAgIH0pOwogIH0pOwoKICByb3V0ZXIuZ2V0KCIhL3JlcGxpY2F0aW9uLyIsIGZ1bmN0aW9uICgpIHsKICAgICQuY291Y2guYWxsRGJzKHt9KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgJCgiI3RpdGxlIikudGV4dCgiUmVwbGljYXRpb24iKTsKICAgICAgcmVuZGVyKCIhL3JlcGxpY2F0aW9uLyIsICJyZXBsaWNhdGlvbl90cGwiLCB7ZGF0YWJhc2VzOmRhdGEsIHJlcGxpY2F0aW9uczpyZXBsaWNhdGlvbnN9KTsKICAgIH0pOwogIH0pOwoKICByb3V0ZXIucG9zdCgiIS9yZXBsaWNhdGlvbi8iLCBmdW5jdGlvbiAoZSwgZm9ybSkgewogICAgaWYgKCFyZXBsaWNhdGlvbkV4aXN0cyhmb3JtKSkgewogICAgICByZXBsaWNhdGlvbnMucHVzaChmb3JtKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlcGxpY2F0aW9ucyA9IEpTT04uc3RyaW5naWZ5KHJlcGxpY2F0aW9ucyk7CiAgICB9CiAgICB2YXIgcmVPcHRzID0ge2NyZWF0ZV90YXJnZXQ6dHJ1ZX07CiAgICBpZiAoZm9ybS5jb250aW5vdXMgPT0gIm9uIikgewogICAgICByZU9wdHMuY29udGlub3VzID0gdHJ1ZTsKICAgIH0KICAgICQuY291Y2gucmVwbGljYXRlKGZvcm0uc291cmNlLCBmb3JtLnRhcmdldCwge30sIHJlT3B0cykuZG9uZShmdW5jdGlvbigpIHsKICAgICAgYWxlcnQoIlJlcGxpY2F0aW9uIFN1Y2Nlc3NmdWwiKTsKICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7CiAgICAgIGFsZXJ0KCJSZXBsaWNhdGlvbiBGYWlsZWQiKTsKICAgIH0pOwogIH0pOwoKICBmdW5jdGlvbiByZXBsaWNhdGlvbkV4aXN0cyhkYXRhKSB7CiAgICBmb3IodmFyIGkgPSByZXBsaWNhdGlvbnMubGVuZ3RoOyBpIDwgcmVwbGljYXRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChyZXBsaWNhdGlvbnNbaV0uc291cmNlID09IGRhdGEuc291cmNlICYmIHJlcGxpY2F0aW9uc1tpXS50YXJnZXQgPT09IGRhdGEudGFyZ2V0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIHJlbmRlcih1cmwsIHRwbCwgZGF0YSkgewoKICAgaWYgKHJvdXRlci5tYXRjaGVzQ3VycmVudCh1cmwpID09PSBudWxsKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBkYXRhID0gZGF0YSB8fCB7fTsKICAgICQoImJvZHkiKS5yZW1vdmVDbGFzcyhjdXJyZW50X3RwbCkuYWRkQ2xhc3ModHBsKTsKCiAgICB2YXIgcmVuZGVyZWQgPSBNdXN0YWNoZS50b19odG1sKCQoIiMiICsgdHBsKS5odG1sKCksIGRhdGEpLAogICAgJHBhbmUgPSAkKCI8ZGl2IGNsYXNzPSdwYW5lJz48ZGl2IGNsYXNzPSdjb250ZW50Jz4iICsgcmVuZGVyZWQgKyAiPC9kaXY+PC9kaXY+Iik7CgogICAgLy8gQmluZCB0aGlzIHRlbXBsYXRlcyBldmVudHMKICAgIHZhciBldmVudHMgPSB0ZW1wbGF0ZXNbdHBsXSAmJiB0ZW1wbGF0ZXNbdHBsXS5ldmVudHM7CiAgICBpZiAoZXZlbnRzKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBldmVudHMpIHsKICAgICAgICAkKGtleSwgJHBhbmUpLmJpbmQoZXZlbnRzW2tleV0uZXZlbnQgKyAiLmN1c3RvbSIsIGV2ZW50c1trZXldLmNhbGxiYWNrKTsKICAgICAgfQogICAgfQoKICAgIGlmICh0ZW1wbGF0ZXNbdHBsXSAmJiB0ZW1wbGF0ZXNbdHBsXS5pbml0KSB7CiAgICAgIHRlbXBsYXRlc1t0cGxdLmluaXQoJHBhbmUpOwogICAgfQoKICAgIHZhciB0cmFuc2l0aW9uID0gdGVtcGxhdGVzW3RwbF0gJiYgdGVtcGxhdGVzW3RwbF0udHJhbnNpdGlvbjsKCiAgICBpZiAodHJhbnNpdGlvbiA9PT0gJ3NsaWRlVXAnKSB7CgogICAgICAkKCIjY29udGVudCIpLm9uZSgid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGxhc3RQYW5lKSB7CiAgICAgICAgICBsYXN0UGFuZS5oaWRlKCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHNsaWRlUGFuZSA9ICRwYW5lLmFkZENsYXNzKCJzbGlkZXBhbmUiKQogICAgICAgIC5jc3Moe2xlZnQ6Y3VycmVudE9mZnNldCwgdG9wOi0kKHdpbmRvdykuaGVpZ2h0KCksICd6LWluZGV4JzogM30pCiAgICAgICAgLmFwcGVuZFRvKCIjY29udGVudCIpOwogICAgICB0cmFuc2Zvcm1ZKHNsaWRlUGFuZSwgJCh3aW5kb3cpLmhlaWdodCgpKTsKCiAgICB9IGVsc2UgaWYgKHNsaWRlUGFuZSkgewoKICAgICAgaWYgKGxhc3RQYW5lKSB7CiAgICAgICAgbGFzdFBhbmUucmVtb3ZlKCk7CiAgICAgICAgbGFzdFBhbmUgPSBudWxsOwogICAgICB9CgogICAgICAkcGFuZS5jc3MoeyJsZWZ0IjpjdXJyZW50T2Zmc2V0fSkuYXBwZW5kVG8oJCgiI2NvbnRlbnQiKSk7CiAgICAgIHRyYW5zZm9ybVkoc2xpZGVQYW5lLCAwKTsKICAgICAgbGFzdFBhbmUgPSAkcGFuZTsKCiAgICAgIHNsaWRlUGFuZS5vbmUoIndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZCIsIGZ1bmN0aW9uKCkgewogICAgICAgIHNsaWRlUGFuZS5yZW1vdmUoKTsKICAgICAgICBzbGlkZVBhbmUgPSBudWxsOwogICAgICB9KTsKCiAgICB9IGVsc2UgewoKICAgICAgaWYgKGN1cnJlbnRfdHBsKSB7CiAgICAgICAgY3VycmVudE9mZnNldCArPSB0cnVlID8gcGFuZVdpZHRoIDogLXBhbmVXaWR0aDsKICAgICAgfQoKICAgICAgdmFyIHRtcCA9IGxhc3RQYW5lOwogICAgICAkKCIjY29udGVudCIpLm9uZSgid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHRtcCkgewogICAgICAgICAgdG1wLnJlbW92ZSgpOwogICAgICAgICAgdG1wID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdHJhbnNmb3JtWCgkcGFuZSwgY3VycmVudE9mZnNldCk7CiAgICAgICRwYW5lLmFwcGVuZFRvKCQoIiNjb250ZW50IikpOwoKICAgICAgdHJhbnNmb3JtWCgkKCIjY29udGVudCIpLCAtY3VycmVudE9mZnNldCk7CiAgICAgIGxhc3RQYW5lID0gJHBhbmU7CiAgICB9CiAgICBjdXJyZW50X3RwbCA9IHRwbDsKICB9CgogIGZ1bmN0aW9uIHRyYW5zZm9ybVkoZG9tLCB4KSB7CiAgICBpZiAoTW9kZXJuaXpyLmNzc3RyYW5zZm9ybXMzZCkgewogICAgICBkb20uY3NzKCItbW96LXRyYW5zZm9ybSIsICJ0cmFuc2xhdGUzZCgwLCAiICsgeCArICJweCwgMCkiKQogICAgICAgIC5jc3MoIi13ZWJraXQtdHJhbnNmb3JtIiwgInRyYW5zbGF0ZTNkKDAsICIgKyB4ICsgInB4LCAwKSIpOwogICAgfSBlbHNlIHsKICAgICAgZG9tLmNzcygiLW1vei10cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsICIgKyB4ICsgInB4KSIpCiAgICAgICAgLmNzcygiLXdlYmtpdC10cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsICIgKyB4ICsgInB4KSIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdHJhbnNmb3JtWChkb20sIHgpIHsKICAgIGlmIChNb2Rlcm5penIuY3NzdHJhbnNmb3JtczNkKSB7CiAgICAgIGRvbS5jc3MoIi1tb3otdHJhbnNmb3JtIiwgInRyYW5zbGF0ZTNkKCIgKyB4ICsgInB4LCAwLCAwKSIpCiAgICAgICAgLmNzcygiLXdlYmtpdC10cmFuc2Zvcm0iLCAidHJhbnNsYXRlM2QoIiArIHggKyAicHgsIDAsIDApIik7CiAgICB9IGVsc2UgewogICAgICBkb20uY3NzKCItbW96LXRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIHggKyAicHgsIDApIikKICAgICAgICAuY3NzKCItd2Via2l0LXRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIHggKyAicHgsIDApIik7CiAgICB9CiAgfQoKICAkKCIjc3RvcmVkIikubGl2ZSgnbW91c2Vkb3duJywgZnVuY3Rpb24oZSkgewogICAgaWYgKCQoZS50YXJnZXQpLmlzKCIucmVwbGljYXRpb24iKSkgewogICAgICB2YXIgJG9iaiA9ICQoZS50YXJnZXQpLnBhcmVudCgibGkiKTsKICAgICAgJCgiW25hbWU9c291cmNlXSIpLnJlcGxhY2VXaXRoKCI8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nc291cmNlJyB2YWx1ZT0nIiskb2JqLmF0dHIoImRhdGEtc291cmNlIikrIicgLz4iKTsKICAgICAgJCgiW25hbWU9dGFyZ2V0XSIpLnJlcGxhY2VXaXRoKCI8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0ndGFyZ2V0JyB2YWx1ZT0nIiskb2JqLmF0dHIoImRhdGEtdGFyZ2V0IikrIicgLz4iKTsKICAgICAgaWYgKCRvYmouYXR0cigiZGF0YS1jb250aW5vdXMiKSA9PT0gIm9uIikgewogICAgICAgICQoIiNjb250aW5vdXMiKS5hdHRyKCJjaGVja2VkIiwgImNoZWNrZWQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkKCIjY29udGlub3VzIikucmVtb3ZlQXR0cigiY2hlY2tlZCIpOwogICAgICB9CiAgICB9CiAgfSk7CgogICQoInNlbGVjdCIpLmxpdmUoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHsKICAgIHZhciAkc2VsZWN0ID0gJChlLnRhcmdldCk7CiAgICBpZiAoJHNlbGVjdC5hdHRyKCdpZCcpID09ICJzb3VyY2Vfc2VsZWN0IiB8fCAkc2VsZWN0LmF0dHIoJ2lkJykgPT09ICJ0YXJnZXRfc2VsZWN0IikgewogICAgICBpZiAoJHNlbGVjdC52YWwoKSA9PT0gIm1hbnVhbCIpIHsKICAgICAgICAkc2VsZWN0LnJlcGxhY2VXaXRoKCI8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nIiskc2VsZWN0LmF0dHIoJ25hbWUnKSsiJyAvPiIpOwogICAgICB9CiAgICB9CiAgfSk7CgogICQod2luZG93KS5iaW5kKCJyZXNpemUiLCBmdW5jdGlvbiAoKSB7CiAgICBwYW5lV2lkdGggPSAkKCJib2R5Iikud2lkdGgoKTsKICB9KTsKICAkKHdpbmRvdykucmVzaXplKCk7CgogIHJvdXRlci5pbml0KCk7Cgp9KSgpOwo=", "content_type": "application/javascript"}, "css/main.css": {"data": "KiB7CiAgICBtYXJnaW46MHB4OwogICAgcGFkZGluZzowcHg7CiAgICBib3JkZXI6MHB4Owp9Cgpib2R5IHsKICAgIG92ZXJmbG93LXg6aGlkZGVuOwogICAgb3ZlcmZsb3cteTpzY3JvbGw7Cn0KCmJvZHksIHAgewogICAgZm9udDoxZW0gSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7CiAgICBjb2xvcjojMjIyOwp9CgppbnB1dCB7CiAgICBwYWRkaW5nOjEwcHg7Cn0KCnVsIHsKICAgIGxpc3Qtc3R5bGUtdHlwZTpub25lOwp9CgpoMyB7CiAgICBwYWRkaW5nLWxlZnQ6MTBweDsKICAgIGNvbG9yOiAjNDQ0OwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNGRkY7Cn0KCmEgewogICAgY29sb3I6aW5oZXJpdDsKICAgIHRleHQtZGVjb3JhdGlvbjpub25lOwp9CmEgewogICAgLyogYmFja2dyb3VuZDpncmVlbiAhaW1wb3J0YW50OyAqLwp9CgovKiBGT1JNUyAqLwoKaW5wdXRbdHlwZT10ZXh0XSxpbnB1dFt0eXBlPXBhc3N3b3JkXSwgdGV4dGFyZWEgewogICAgZm9udDoxZW0gSGVsdmV0aWNhLCBhcmlhbCwgc2Fucy1zZXJpZjsKICAgIHdpZHRoOjEwMCU7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgcGFkZGluZzoxMHB4OwogICAgYm9yZGVyOjBweDsKICAgIC13ZWJraXQtYXBwZWFyYW5jZTpub25lOwogICAgLW1vei1hcHBlYXJhbmNlOm5vbmU7CiAgICAtd2Via2l0LWZvY3VzLXJpbmctY29sb3I6ICByZ2JhKDAsIDAsIDAsIDApOwogICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHJlc2l6ZTogbm9uZTsKICAgIG91dGxpbmU6bm9uZTsKfQoKaW5wdXRbdHlwZT10ZXh0XTpmb2N1cywgaW5wdXRbdHlwZT1wYXNzd29yZF06Zm9jdXMsIHRleHRhcmVhOmZvY3VzIHsKICAgIC13ZWJraXQtYXBwZWFyYW5jZTpub25lOwogICAgLXdlYmtpdC1mb2N1cy1yaW5nLWNvbG9yOiAgcmdiYSgwLCAwLCAwLCAwKTsKICAgIG91dGxpbmU6IG5vbmU7CiAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7Cn0KCi50ZXh0YXJlYSB7CiAgICBwYWRkaW5nOjEwcHg7Cn0KdGV4dGFyZWEgewogICAgcGFkZGluZzowcHg7CiAgICBoZWlnaHQ6MTQwcHg7Cn0KCmlucHV0W3R5cGU9c3VibWl0XSB7CiAgICBmb250OjFlbSBIZWx2ZXRpY2EsIGFyaWFsLCBzYW5zLXNlcmlmOwogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNGOUY5RjksICNFM0UzRTMpIHJlcGVhdCBzY3JvbGwgMCAwIHRyYW5zcGFyZW50OwogICAgYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAlIDQwJSwgMCUgNzAlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSgjRjlGOUY5KSwgdG8oI0UzRTNFMykpOwogICAgd2lkdGg6MTAwJTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNCQkJCQkI7CiAgICBvdXRsaW5lOiBtZWRpdW0gbm9uZTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICBjdXJzb3I6cG9pbnRlcjsKICAgIC1tb3otYm9yZGVyLXJhZGl1czozcHg7CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6M3B4OwogICAgZm9udC13ZWlnaHQ6Ym9sZDsKICAgIGZvbnQtc2l6ZToxOHB4OwogICAgY29sb3I6IzQ0NDsKICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjRkZGOwp9CgpmaWVsZHNldCB7CiAgICBib3JkZXItcmFkaXVzOjEwcHg7CiAgICBib3JkZXI6MXB4IHNvbGlkICNBQUE7CiAgICAtbW96LWJveC1zaGFkb3c6MHB4IDFweCAycHggIzY2NjsKICAgIC13ZWJraXQtYm94LXNoYWRvdzowcHggMXB4IDJweCAjNjY2OwogICAgYm94LXNoYWRvdzowcHggMXB4IDJweCAjNjY2OwogICAgYmFja2dyb3VuZDp3aGl0ZTsKICAgIG92ZXJmbG93OmhpZGRlbjsKICAgIG1hcmdpbi1ib3R0b206MjBweDsKfQoKZmllbGRzZXQgaW5wdXQ6Zmlyc3QtY2hpbGQsIGZpZWxkc2V0IC50ZXh0YXJlYTpmaXJzdC1jaGlsZCB7CiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOjEwcHg7CiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czoxMHB4OwogICAgYm9yZGVyLXRvcDowcHggIWltcG9ydGFudDsKfQoKZmllbGRzZXQgaW5wdXQ6bGFzdC1jaGlsZCwgZmllbGRzZXQgdGV4dGFyZWE6bGFzdC1jaGlsZCB7CiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjE1cHg7CiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxNXB4Owp9CgpkaXYuaW5wdXQsCmZpZWxkc2V0IGlucHV0W3R5cGU9cGFzc3dvcmRdLApmaWVsZHNldCBpbnB1dFt0eXBlPXRleHRdLApmaWVsZHNldCAudGV4dGFyZWEgewogICAgYm9yZGVyLXRvcDoxcHggc29saWQgI0NDQzsKfQoKZGl2LmlucHV0IHsKICAgIGxpbmUtaGVpZ2h0OjM3cHg7Cn0KCi5jaGVja2JveCBkaXYgewogICAgZGlzcGxheTpibG9jazsKICAgIHdpZHRoOjE2cHg7CiAgICBoZWlnaHQ6MTZweDsKICAgIGJhY2tncm91bmQtc2l6ZToxMDAlOwogICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vaW1nL3VuY2hlY2tlZC5wbmcpOwp9CgouY2hlY2tib3ggewogICAgd2lkdGg6MTZweDsKICAgIGhlaWdodDoxNnB4OwogICAgZmxvYXQ6bGVmdDsKICAgIHBhZGRpbmc6MTJweDsKICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApOwogICAgLXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7CiAgICAtbW96LWFwcGVhcmFuY2U6bm9uZTsKfQoKLmNoZWNrYm94LmNoZWNrZWQgZGl2ewogICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vaW1nL2NoZWNrZWQucG5nKTsKfQoKOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsKICAgIGNvbG9yOiNCQkI7Cn0KCjotbW96LXBsYWNlaG9sZGVyIHsKICAgIGNvbG9yOiNCQkI7Cn0KCi8qIExBWU9VVCAqLwojY29udGVudCB7CiAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7CiAgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2UtaW4tb3V0Owp9CgoucGFuZSB7CiAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgIHRvcDowcHg7CiAgICBtYXJnaW4tdG9wOjUwcHg7CiAgICB3aWR0aDoxMDAlOwp9Cgouc2xpZGVwYW5lIHsKICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7CiAgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2UtaW4tb3V0Owp9CgouY29udGVudCA+IGgzIHsKICAgIG1hcmdpbi10b3A6MTBweDsKfQoKZm9vdGVyIHsKICAgIHotaW5kZXg6NDsKICAgIHdpZHRoOjEwMCU7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgcG9zaXRpb246Zml4ZWQ7CiAgICB0b3A6MHB4OwogICAgYmFja2dyb3VuZDojMjIyOwogICAgYmFja2dyb3VuZDotbW96LWxpbmVhci1ncmFkaWVudChjZW50ZXIgdG9wICwgIzQ0NCwgIzIyMikKICAgICAgIHJlcGVhdCBzY3JvbGwgMCAwIHRyYW5zcGFyZW50OwogICAgYmFja2dyb3VuZCAgICAgIDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3Itc3RvcCgwJSwjNDQ0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3Itc3RvcCgxMDAlLCMyMjIpKTsKICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkICMwMDA7Cn0KCnVsIHsKICAgIG1hcmdpbjoxMHB4OwogICAgLW1vei1ib3gtc2hhZG93OiAxcHggMXB4IDFweCAjRkZGOwogICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsKICAgIGJvcmRlci1yYWRpdXM6IDAuNmVtIDAuNmVtIDAuNmVtIDAuNmVtOwogICAgYm94LXNoYWRvdzogMCAxcHggNHB4IHJnYmEoMCwgMCwgMCwgMC4zKTsKfQoKCmxpOmZpcnN0LWNoaWxkIHsKICAgIGJvcmRlci1yYWRpdXM6MC42ZW0gMC42ZW0gMHB4IDBweDsKfQpsaTpmaXJzdC1jaGlsZDpsYXN0LWNoaWxkIHsKICAgIGJvcmRlci1yYWRpdXM6MC42ZW07Cn0KCmxpOmxhc3QtY2hpbGQgewogICAgYm9yZGVyLXJhZGl1czowcHggMHB4IDAuNmVtIDAuNmVtOwogICAgYm9yZGVyLXdpZHRoOjFweDsKfQoKbGkgewogICAgZGlzcGxheTogYmxvY2s7CiAgICBvdmVyZmxvdzphdXRvOwogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICNGRUZFRkUsICNFRUVFRUUpIHJlcGVhdCBzY3JvbGwgMCAwICNFRUVFRUU7CiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCUgNDAlLCAwJSA3MCUsIGZyb20oI0ZFRkVGRSksIHRvKCNFRUUpKTsKICAgIG9wYWNpdHk6MTsKICAgIGZvbnQtd2VpZ2h0OmJvbGQ7CiAgICBmb250LXNpemU6MTRweDsKICAgIGJvcmRlcjowcHg7CiAgICBoZWlnaHQ6YXV0bzsKICAgIGJvcmRlcjoxcHggc29saWQgI0FBQTsKICAgIGJvcmRlci13aWR0aDoxcHggMXB4IDBweCAxcHg7CiAgICBjb2xvcjogIzJGM0U0NjsKICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjRkZGOwogICAgbGV0dGVyLXNwYWNpbmc6MS4xcHg7CiAgICBjdXJzb3I6cG9pbnRlcjsKfQoKbGk6aG92ZXIgewogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICNFREVERUQsICNEQURBREEpIHJlcGVhdCBzY3JvbGwgMCAwICNEQURBREE7CiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCUgNDAlLCAwJSA3MCUsIGZyb20oI0VERURFRCksIHRvKCNEQURBREEpKTsKfQoKbGkgYSB7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgcGFkZGluZzoxMHB4Owp9CgoucGxhaW5fYnRuIHsKICAgIGJhY2tncm91bmQ6LW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICM1NTUsICMzMzMpOwogICAgYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAlIDQwJSwgMCUgNzAlLCBmcm9tKCM1NTUpLCB0bygjMzMzKSk7CiAgICBvcGFjaXR5OjE7CiAgICB3aWR0aDphdXRvOwogICAgZm9udC1zaXplOjE0cHg7CiAgICBib3JkZXI6MHB4OwogICAgcGFkZGluZzo2cHg7CiAgICBtYXJnaW46OXB4OwogICAgaGVpZ2h0OmF1dG87CiAgICBib3JkZXI6MXB4IHNvbGlkICMwMDA7CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6M3B4OwogICAgYm9yZGVyLXJhZGl1czozcHg7CiAgICBjb2xvcjojRkZGOwogICAgdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAjRjZGNkY2OwogICAgbGV0dGVyLXNwYWNpbmc6MS4xcHg7CiAgICBjdXJzb3I6cG9pbnRlcjsKfQoKLnBsYWluX2J0bi5hY3RpdmUgewogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICNCOERCMjksICM1QThGMDApIHJlcGVhdCBzY3JvbGwgMCAwIHRyYW5zcGFyZW50OwogICAgYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAlIDQwJSwgMCUgNzAlLCBmcm9tKCNCOERCMjkpLCB0bygjNUE4RjAwKSk7CiAgICBjb2xvcjp3aGl0ZTsKfQoKZm9vdGVyIGEgeyBwb3NpdGlvbjphYnNvbHV0ZTsgfQpmb290ZXIgaDEgeyBjb2xvcjp3aGl0ZTsgdGV4dC1hbGlnbjpjZW50ZXI7IG1hcmdpbjoxMHB4OyBmb250LXNpemU6MS41ZW07IH0KCmxpLmhlYWRlciB7CiAgICBwYWRkaW5nOiAwLjVlbSAxNXB4OwogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICM4MUE4Q0UsICM1RTg3QjApIHJlcGVhdCBzY3JvbGwgMCAwICM1RTg3QjA7CiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCUgNDAlLCAwJSA3MCUsIGZyb20oIzgxQThDRSksIHRvKCM1RTg3QjApKTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NTZGOUE7CiAgICBjb2xvcjogI0ZGRkZGRjsKICAgIHRleHQtc2hhZG93OiAwIC0xcHggMXB4ICMyNTRGN0E7Cn0KCmxpIHNlbGVjdCB7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgYm9yZGVyOjFweCBzb2xpZCAjQ0NDOwogICAgcGFkZGluZzo0cHg7CiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBmb250OjFlbSBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsKICAgIGZvbnQtd2VpZ2h0OmJvbGQ7CiAgICBtYXJnaW46MTBweDsKfQoKbGkgaW5wdXRbdHlwZT10ZXh0XSB7CiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjQ0NDQ0NDOwogICAgZGlzcGxheTogYmxvY2s7CiAgICBmb250OiBib2xkIDFlbSBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsKICAgIG1hcmdpbjogMTBweDsKICAgIHBhZGRpbmc6IDRweDsKICAgIHdpZHRoOmF1dG87Cn0KCmxpIGxhYmVsIHsKICAgIGRpc3BsYXk6YmxvY2s7CiAgICBtYXJnaW46MTBweDsKfQoKb3B0aW9uIHsKICAgIHBhZGRpbmctbGVmdDoxMHB4Owp9CgouaG9tZS5wbGFpbl9idG4gewogICAgcGFkZGluZzogMCA1cHg7Cn0KCi5ob21lIGltZyB7CiAgICBoZWlnaHQ6MjRweDsKICAgIGhlaWdodDoyNHB4Owp9CgojZG9jdW1lbnQgewogICAgbWFyZ2luOjEwcHg7CiAgICBwYWRkaW5nOjVweDsKICAgIGJhY2tncm91bmQ6I0VFRTsKICAgIGJvcmRlcjoxcHggc29saWQgIzk5OTsKICAgIG92ZXJmbG93OmF1dG87Cn0KCi5ub25lIHsKICAgIHRleHQtYWxpZ246Y2VudGVyOwogICAgcGFkZGluZzo1cHg7Cn0KCiNzdG9yZWQgeyBtYXJnaW4tYm90dG9tOjMwcHg7IH0=", "content_type": "text/css"}, "jquery-1.6.min.js": {"data": "LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuNgogKiBodHRwOi8vanF1ZXJ5LmNvbS8KICoKICogQ29weXJpZ2h0IDIwMTEsIEpvaG4gUmVzaWcKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogSW5jbHVkZXMgU2l6emxlLmpzCiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vCiAqIENvcHlyaWdodCAyMDExLCBUaGUgRG9qbyBGb3VuZGF0aW9uCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQsIEJTRCwgYW5kIEdQTCBMaWNlbnNlcy4KICoKICogRGF0ZTogTW9uIE1heSAyIDEzOjUwOjAwIDIwMTEgLTA0MDAKICovCihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGN3KGEpe3JldHVybiBmLmlzV2luZG93KGEpP2E6YS5ub2RlVHlwZT09PTk/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9ZnVuY3Rpb24gY3QoYSl7aWYoIWNoW2FdKXt2YXIgYj1mKCI8IithKyI+IikuYXBwZW5kVG8oImJvZHkiKSxkPWIuY3NzKCJkaXNwbGF5Iik7Yi5yZW1vdmUoKTtpZihkPT09Im5vbmUifHxkPT09IiIpe2NpfHwoY2k9Yy5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxjaS5mcmFtZUJvcmRlcj1jaS53aWR0aD1jaS5oZWlnaHQ9MCksYy5ib2R5LmFwcGVuZENoaWxkKGNpKTtpZighY2p8fCFjaS5jcmVhdGVFbGVtZW50KWNqPShjaS5jb250ZW50V2luZG93fHxjaS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGNqLndyaXRlKCI8IWRvY3R5cGU+PGh0bWw+PGJvZHk+PC9ib2R5PjwvaHRtbD4iKTtiPWNqLmNyZWF0ZUVsZW1lbnQoYSksY2ouYm9keS5hcHBlbmRDaGlsZChiKSxkPWYuY3NzKGIsImRpc3BsYXkiKSxjLmJvZHkucmVtb3ZlQ2hpbGQoY2kpfWNoW2FdPWR9cmV0dXJuIGNoW2FdfWZ1bmN0aW9uIGNzKGEsYil7dmFyIGM9e307Zi5lYWNoKGNuLmNvbmNhdC5hcHBseShbXSxjbi5zbGljZSgwLGIpKSxmdW5jdGlvbigpe2NbdGhpc109YX0pO3JldHVybiBjfWZ1bmN0aW9uIGNyKCl7Y289Yn1mdW5jdGlvbiBjcSgpe3NldFRpbWVvdXQoY3IsMCk7cmV0dXJuIGNvPWYubm93KCl9ZnVuY3Rpb24gY2coKXt0cnl7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX1mdW5jdGlvbiBjZigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBiXyhhLGMpe2EuZGF0YUZpbHRlciYmKGM9YS5kYXRhRmlsdGVyKGMsYS5kYXRhVHlwZSkpO3ZhciBkPWEuZGF0YVR5cGVzLGU9e30sZyxoLGk9ZC5sZW5ndGgsaixrPWRbMF0sbCxtLG4sbyxwO2ZvcihnPTE7ZzxpO2crKyl7aWYoZz09PTEpZm9yKGggaW4gYS5jb252ZXJ0ZXJzKXR5cGVvZiBoPT0ic3RyaW5nIiYmKGVbaC50b0xvd2VyQ2FzZSgpXT1hLmNvbnZlcnRlcnNbaF0pO2w9ayxrPWRbZ107aWYoaz09PSIqIilrPWw7ZWxzZSBpZihsIT09IioiJiZsIT09ayl7bT1sKyIgIitrLG49ZVttXXx8ZVsiKiAiK2tdO2lmKCFuKXtwPWI7Zm9yKG8gaW4gZSl7aj1vLnNwbGl0KCIgIik7aWYoalswXT09PWx8fGpbMF09PT0iKiIpe3A9ZVtqWzFdKyIgIitrXTtpZihwKXtvPWVbb10sbz09PSEwP249cDpwPT09ITAmJihuPW8pO2JyZWFrfX19fSFuJiYhcCYmZi5lcnJvcigiTm8gY29udmVyc2lvbiBmcm9tICIrbS5yZXBsYWNlKCIgIiwiIHRvICIpKSxuIT09ITAmJihjPW4/bihjKTpwKG8oYykpKX19cmV0dXJuIGN9ZnVuY3Rpb24gYiQoYSxjLGQpe3ZhciBlPWEuY29udGVudHMsZj1hLmRhdGFUeXBlcyxnPWEucmVzcG9uc2VGaWVsZHMsaCxpLGosaztmb3IoaSBpbiBnKWkgaW4gZCYmKGNbZ1tpXV09ZFtpXSk7d2hpbGUoZlswXT09PSIqIilmLnNoaWZ0KCksaD09PWImJihoPWEubWltZVR5cGV8fGMuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKTtpZihoKWZvcihpIGluIGUpaWYoZVtpXSYmZVtpXS50ZXN0KGgpKXtmLnVuc2hpZnQoaSk7YnJlYWt9aWYoZlswXWluIGQpaj1mWzBdO2Vsc2V7Zm9yKGkgaW4gZCl7aWYoIWZbMF18fGEuY29udmVydGVyc1tpKyIgIitmWzBdXSl7aj1pO2JyZWFrfWt8fChrPWkpfWo9anx8a31pZihqKXtqIT09ZlswXSYmZi51bnNoaWZ0KGopO3JldHVybiBkW2pdfX1mdW5jdGlvbiBiWihhLGIsYyxkKXtpZihmLmlzQXJyYXkoYikpZi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxiRC50ZXN0KGEpP2QoYSxlKTpiWihhKyJbIisodHlwZW9mIGU9PSJvYmplY3QifHxmLmlzQXJyYXkoZSk/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoIWMmJmIhPW51bGwmJnR5cGVvZiBiPT0ib2JqZWN0Iilmb3IodmFyIGUgaW4gYiliWihhKyJbIitlKyJdIixiW2VdLGMsZCk7ZWxzZSBkKGEsYil9ZnVuY3Rpb24gYlkoYSxjLGQsZSxmLGcpe2Y9Znx8Yy5kYXRhVHlwZXNbMF0sZz1nfHx7fSxnW2ZdPSEwO3ZhciBoPWFbZl0saT0wLGo9aD9oLmxlbmd0aDowLGs9YT09PWJTLGw7Zm9yKDtpPGomJihrfHwhbCk7aSsrKWw9aFtpXShjLGQsZSksdHlwZW9mIGw9PSJzdHJpbmciJiYoIWt8fGdbbF0/bD1iOihjLmRhdGFUeXBlcy51bnNoaWZ0KGwpLGw9YlkoYSxjLGQsZSxsLGcpKSk7KGt8fCFsKSYmIWdbIioiXSYmKGw9YlkoYSxjLGQsZSwiKiIsZykpO3JldHVybiBsfWZ1bmN0aW9uIGJYKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3R5cGVvZiBiIT0ic3RyaW5nIiYmKGM9YixiPSIqIik7aWYoZi5pc0Z1bmN0aW9uKGMpKXt2YXIgZD1iLnRvTG93ZXJDYXNlKCkuc3BsaXQoYk8pLGU9MCxnPWQubGVuZ3RoLGgsaSxqO2Zvcig7ZTxnO2UrKyloPWRbZV0saj0vXlwrLy50ZXN0KGgpLGomJihoPWguc3Vic3RyKDEpfHwiKiIpLGk9YVtoXT1hW2hdfHxbXSxpW2o/InVuc2hpZnQiOiJwdXNoIl0oYyl9fX1mdW5jdGlvbiBiQihhLGIsYyl7dmFyIGQ9Yj09PSJ3aWR0aCI/YnY6YncsZT1iPT09IndpZHRoIj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0O2lmKGM9PT0iYm9yZGVyIilyZXR1cm4gZTtmLmVhY2goZCxmdW5jdGlvbigpe2N8fChlLT1wYXJzZUZsb2F0KGYuY3NzKGEsInBhZGRpbmciK3RoaXMpKXx8MCksYz09PSJtYXJnaW4iP2UrPXBhcnNlRmxvYXQoZi5jc3MoYSwibWFyZ2luIit0aGlzKSl8fDA6ZS09cGFyc2VGbG9hdChmLmNzcyhhLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwfSk7cmV0dXJuIGV9ZnVuY3Rpb24gYmwoYSxiKXtiLnNyYz9mLmFqYXgoe3VybDpiLnNyYyxhc3luYzohMSxkYXRhVHlwZToic2NyaXB0In0pOmYuZ2xvYmFsRXZhbChiLnRleHR8fGIudGV4dENvbnRlbnR8fGIuaW5uZXJIVE1MfHwiIiksYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9ZnVuY3Rpb24gYmsoYSl7Zi5ub2RlTmFtZShhLCJpbnB1dCIpP2JqKGEpOmEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmYuZ3JlcChhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLGJqKX1mdW5jdGlvbiBiaihhKXtpZihhLnR5cGU9PT0iY2hlY2tib3gifHxhLnR5cGU9PT0icmFkaW8iKWEuZGVmYXVsdENoZWNrZWQ9YS5jaGVja2VkfWZ1bmN0aW9uIGJpKGEpe3JldHVybiJnZXRFbGVtZW50c0J5VGFnTmFtZSJpbiBhP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKToicXVlcnlTZWxlY3RvckFsbCJpbiBhP2EucXVlcnlTZWxlY3RvckFsbCgiKiIpOltdfWZ1bmN0aW9uIGJoKGEsYil7dmFyIGM7aWYoYi5ub2RlVHlwZT09PTEpe2IuY2xlYXJBdHRyaWJ1dGVzJiZiLmNsZWFyQXR0cmlidXRlcygpLGIubWVyZ2VBdHRyaWJ1dGVzJiZiLm1lcmdlQXR0cmlidXRlcyhhKSxjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihjPT09Im9iamVjdCIpYi5vdXRlckhUTUw9YS5vdXRlckhUTUw7ZWxzZSBpZihjIT09ImlucHV0Inx8YS50eXBlIT09ImNoZWNrYm94IiYmYS50eXBlIT09InJhZGlvIil7aWYoYz09PSJvcHRpb24iKWIuc2VsZWN0ZWQ9YS5kZWZhdWx0U2VsZWN0ZWQ7ZWxzZSBpZihjPT09ImlucHV0Inx8Yz09PSJ0ZXh0YXJlYSIpYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWV9ZWxzZSBhLmNoZWNrZWQmJihiLmRlZmF1bHRDaGVja2VkPWIuY2hlY2tlZD1hLmNoZWNrZWQpLGIudmFsdWUhPT1hLnZhbHVlJiYoYi52YWx1ZT1hLnZhbHVlKTtiLnJlbW92ZUF0dHJpYnV0ZShmLmV4cGFuZG8pfX1mdW5jdGlvbiBiZyhhLGIpe2lmKGIubm9kZVR5cGU9PT0xJiYhIWYuaGFzRGF0YShhKSl7dmFyIGM9Zi5leHBhbmRvLGQ9Zi5kYXRhKGEpLGU9Zi5kYXRhKGIsZCk7aWYoZD1kW2NdKXt2YXIgZz1kLmV2ZW50cztlPWVbY109Zi5leHRlbmQoe30sZCk7aWYoZyl7ZGVsZXRlIGUuaGFuZGxlLGUuZXZlbnRzPXt9O2Zvcih2YXIgaCBpbiBnKWZvcih2YXIgaT0wLGo9Z1toXS5sZW5ndGg7aTxqO2krKylmLmV2ZW50LmFkZChiLGgrKGdbaF1baV0ubmFtZXNwYWNlPyIuIjoiIikrZ1toXVtpXS5uYW1lc3BhY2UsZ1toXVtpXSxnW2hdW2ldLmRhdGEpfX19fWZ1bmN0aW9uIGJmKGEsYil7cmV0dXJuIGYubm9kZU5hbWUoYSwidGFibGUiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTphfWZ1bmN0aW9uIFcoYSxiLGMpe2I9Ynx8MDtpZihmLmlzRnVuY3Rpb24oYikpcmV0dXJuIGYuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7dmFyIGU9ISFiLmNhbGwoYSxkLGEpO3JldHVybiBlPT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIGYuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGE9PT1iPT09Y30pO2lmKHR5cGVvZiBiPT0ic3RyaW5nIil7dmFyIGQ9Zi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT0xfSk7aWYoUi50ZXN0KGIpKXJldHVybiBmLmZpbHRlcihiLGQsIWMpO2I9Zi5maWx0ZXIoYixkKX1yZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gZi5pbkFycmF5KGEsYik+PTA9PT1jfSl9ZnVuY3Rpb24gVihhKXtyZXR1cm4hYXx8IWEucGFyZW50Tm9kZXx8YS5wYXJlbnROb2RlLm5vZGVUeXBlPT09MTF9ZnVuY3Rpb24gTihhLGIpe3JldHVybihhJiZhIT09IioiP2ErIi4iOiIiKStiLnJlcGxhY2UoeiwiYCIpLnJlcGxhY2UoQSwiJiIpfWZ1bmN0aW9uIE0oYSl7dmFyIGIsYyxkLGUsZyxoLGksaixrLGwsbSxuLG8scD1bXSxxPVtdLHI9Zi5fZGF0YSh0aGlzLCJldmVudHMiKTtpZighKGEubGl2ZUZpcmVkPT09dGhpc3x8IXJ8fCFyLmxpdmV8fGEudGFyZ2V0LmRpc2FibGVkfHxhLmJ1dHRvbiYmYS50eXBlPT09ImNsaWNrIikpe2EubmFtZXNwYWNlJiYobj1uZXcgUmVnRXhwKCIoXnxcXC4pIithLm5hbWVzcGFjZS5zcGxpdCgiLiIpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxhLmxpdmVGaXJlZD10aGlzO3ZhciBzPXIubGl2ZS5zbGljZSgwKTtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKWc9c1tpXSxnLm9yaWdUeXBlLnJlcGxhY2UoeCwiIik9PT1hLnR5cGU/cS5wdXNoKGcuc2VsZWN0b3IpOnMuc3BsaWNlKGktLSwxKTtlPWYoYS50YXJnZXQpLmNsb3Nlc3QocSxhLmN1cnJlbnRUYXJnZXQpO2ZvcihqPTAsaz1lLmxlbmd0aDtqPGs7aisrKXttPWVbal07Zm9yKGk9MDtpPHMubGVuZ3RoO2krKyl7Zz1zW2ldO2lmKG0uc2VsZWN0b3I9PT1nLnNlbGVjdG9yJiYoIW58fG4udGVzdChnLm5hbWVzcGFjZSkpJiYhbS5lbGVtLmRpc2FibGVkKXtoPW0uZWxlbSxkPW51bGw7aWYoZy5wcmVUeXBlPT09Im1vdXNlZW50ZXIifHxnLnByZVR5cGU9PT0ibW91c2VsZWF2ZSIpYS50eXBlPWcucHJlVHlwZSxkPWYoYS5yZWxhdGVkVGFyZ2V0KS5jbG9zZXN0KGcuc2VsZWN0b3IpWzBdLGQmJmYuY29udGFpbnMoaCxkKSYmKGQ9aCk7KCFkfHxkIT09aCkmJnAucHVzaCh7ZWxlbTpoLGhhbmRsZU9iajpnLGxldmVsOm0ubGV2ZWx9KX19fWZvcihqPTAsaz1wLmxlbmd0aDtqPGs7aisrKXtlPXBbal07aWYoYyYmZS5sZXZlbD5jKWJyZWFrO2EuY3VycmVudFRhcmdldD1lLmVsZW0sYS5kYXRhPWUuaGFuZGxlT2JqLmRhdGEsYS5oYW5kbGVPYmo9ZS5oYW5kbGVPYmosbz1lLmhhbmRsZU9iai5vcmlnSGFuZGxlci5hcHBseShlLmVsZW0sYXJndW1lbnRzKTtpZihvPT09ITF8fGEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7Yz1lLmxldmVsLG89PT0hMSYmKGI9ITEpO2lmKGEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVha319cmV0dXJuIGJ9fWZ1bmN0aW9uIEsoYSxjLGQpe3ZhciBlPWYuZXh0ZW5kKHt9LGRbMF0pO2UudHlwZT1hLGUub3JpZ2luYWxFdmVudD17fSxlLmxpdmVGaXJlZD1iLGYuZXZlbnQuaGFuZGxlLmNhbGwoYyxlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZkWzBdLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gRSgpe3JldHVybiEwfWZ1bmN0aW9uIEQoKXtyZXR1cm4hMX1mdW5jdGlvbiBtKGEsYyxkKXt2YXIgZT1jKyJkZWZlciIsZz1jKyJxdWV1ZSIsaD1jKyJtYXJrIixpPWYuZGF0YShhLGUsYiwhMCk7aSYmKGQ9PT0icXVldWUifHwhZi5kYXRhKGEsZyxiLCEwKSkmJihkPT09Im1hcmsifHwhZi5kYXRhKGEsaCxiLCEwKSkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXshZi5kYXRhKGEsZyxiLCEwKSYmIWYuZGF0YShhLGgsYiwhMCkmJihmLnJlbW92ZURhdGEoYSxlLCEwKSxpLnJlc29sdmUoKSl9LDApfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiIGluIGEpaWYoYiE9PSJ0b0pTT04iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGsoYSxjLGQpe2lmKGQ9PT1iJiZhLm5vZGVUeXBlPT09MSl7bmFtZT0iZGF0YS0iK2MucmVwbGFjZShqLCIkMS0kMiIpLnRvTG93ZXJDYXNlKCksZD1hLmdldEF0dHJpYnV0ZShuYW1lKTtpZih0eXBlb2YgZD09InN0cmluZyIpe3RyeXtkPWQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PSJudWxsIj9udWxsOmYuaXNOYU4oZCk/aS50ZXN0KGQpP2YucGFyc2VKU09OKGQpOmQ6cGFyc2VGbG9hdChkKX1jYXRjaChlKXt9Zi5kYXRhKGEsYyxkKX1lbHNlIGQ9Yn1yZXR1cm4gZH12YXIgYz1hLmRvY3VtZW50LGQ9YS5uYXZpZ2F0b3IsZT1hLmxvY2F0aW9uLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIKCl7aWYoIWUuaXNSZWFkeSl7dHJ5e2MuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCJsZWZ0Iil9Y2F0Y2goYSl7c2V0VGltZW91dChILDEpO3JldHVybn1lLnJlYWR5KCl9fXZhciBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBlLmZuLmluaXQoYSxiLGgpfSxmPWEualF1ZXJ5LGc9YS4kLGgsaT0vXig/OltePF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyxqPS9cUy8saz0vXlxzKy8sbD0vXHMrJC8sbT0vXGQvLG49L148KFx3KylccypcLz8+KD86PFwvXDE+KT8kLyxvPS9eW1xdLDp7fVxzXSokLyxwPS9cXCg/OlsiXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2cscT0vIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2cscj0vKD86Xnw6fCwpKD86XHMqXFspKy9nLHM9Lyh3ZWJraXQpWyBcL10oW1x3Ll0rKS8sdD0vKG9wZXJhKSg/Oi4qdmVyc2lvbik/WyBcL10oW1x3Ll0rKS8sdT0vKG1zaWUpIChbXHcuXSspLyx2PS8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKykpPy8sdz1kLnVzZXJBZ2VudCx4LHkseixBPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsQj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEM9QXJyYXkucHJvdG90eXBlLnB1c2gsRD1BcnJheS5wcm90b3R5cGUuc2xpY2UsRT1TdHJpbmcucHJvdG90eXBlLnRyaW0sRj1BcnJheS5wcm90b3R5cGUuaW5kZXhPZixHPXt9O2UuZm49ZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmUsaW5pdDpmdW5jdGlvbihhLGQsZil7dmFyIGcsaCxqLGs7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYS5ub2RlVHlwZSl7dGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xO3JldHVybiB0aGlzfWlmKGE9PT0iYm9keSImJiFkJiZjLmJvZHkpe3RoaXMuY29udGV4dD1jLHRoaXNbMF09Yy5ib2R5LHRoaXMuc2VsZWN0b3I9YSx0aGlzLmxlbmd0aD0xO3JldHVybiB0aGlzfWlmKHR5cGVvZiBhPT0ic3RyaW5nIil7YS5jaGFyQXQoMCk9PT0iPCImJmEuY2hhckF0KGEubGVuZ3RoLTEpPT09Ij4iJiZhLmxlbmd0aD49Mz9nPVtudWxsLGEsbnVsbF06Zz1pLmV4ZWMoYSk7aWYoZyYmKGdbMV18fCFkKSl7aWYoZ1sxXSl7ZD1kIGluc3RhbmNlb2YgZT9kWzBdOmQsaz1kP2Qub3duZXJEb2N1bWVudHx8ZDpjLGo9bi5leGVjKGEpLGo/ZS5pc1BsYWluT2JqZWN0KGQpPyhhPVtjLmNyZWF0ZUVsZW1lbnQoalsxXSldLGUuZm4uYXR0ci5jYWxsKGEsZCwhMCkpOmE9W2suY3JlYXRlRWxlbWVudChqWzFdKV06KGo9ZS5idWlsZEZyYWdtZW50KFtnWzFdXSxba10pLGE9KGouY2FjaGVhYmxlP2UuY2xvbmUoai5mcmFnbWVudCk6ai5mcmFnbWVudCkuY2hpbGROb2Rlcyk7cmV0dXJuIGUubWVyZ2UodGhpcyxhKX1oPWMuZ2V0RWxlbWVudEJ5SWQoZ1syXSk7aWYoaCYmaC5wYXJlbnROb2RlKXtpZihoLmlkIT09Z1syXSlyZXR1cm4gZi5maW5kKGEpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1ofXRoaXMuY29udGV4dD1jLHRoaXMuc2VsZWN0b3I9YTtyZXR1cm4gdGhpc31yZXR1cm4hZHx8ZC5qcXVlcnk/KGR8fGYpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihkKS5maW5kKGEpfWlmKGUuaXNGdW5jdGlvbihhKSlyZXR1cm4gZi5yZWFkeShhKTthLnNlbGVjdG9yIT09YiYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KTtyZXR1cm4gZS5tYWtlQXJyYXkoYSx0aGlzKX0sc2VsZWN0b3I6IiIsanF1ZXJ5OiIxLjYiLGxlbmd0aDowLHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gRC5jYWxsKHRoaXMsMCl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD90aGlzLnRvQXJyYXkoKTphPDA/dGhpc1t0aGlzLmxlbmd0aCthXTp0aGlzW2FdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY29uc3RydWN0b3IoKTtlLmlzQXJyYXkoYSk/Qy5hcHBseShkLGEpOmUubWVyZ2UoZCxhKSxkLnByZXZPYmplY3Q9dGhpcyxkLmNvbnRleHQ9dGhpcy5jb250ZXh0LGI9PT0iZmluZCI/ZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrYzpiJiYoZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIitiKyIoIitjKyIpIik7cmV0dXJuIGR9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5lYWNoKHRoaXMsYSxiKX0scmVhZHk6ZnVuY3Rpb24oYSl7ZS5iaW5kUmVhZHkoKSx5LmRvbmUoYSk7cmV0dXJuIHRoaXN9LGVxOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09LTE/dGhpcy5zbGljZShhKTp0aGlzLnNsaWNlKGEsK2ErMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEQuYXBwbHkodGhpcyxhcmd1bWVudHMpLCJzbGljZSIsRC5jYWxsKGFyZ3VtZW50cykuam9pbigiLCIpKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhlLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Qyxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sZS5mbi5pbml0LnByb3RvdHlwZT1lLmZuLGUuZXh0ZW5kPWUuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYyxkLGYsZyxoLGk9YXJndW1lbnRzWzBdfHx7fSxqPTEsaz1hcmd1bWVudHMubGVuZ3RoLGw9ITE7dHlwZW9mIGk9PSJib29sZWFuIiYmKGw9aSxpPWFyZ3VtZW50c1sxXXx8e30saj0yKSx0eXBlb2YgaSE9Im9iamVjdCImJiFlLmlzRnVuY3Rpb24oaSkmJihpPXt9KSxrPT09aiYmKGk9dGhpcywtLWopO2Zvcig7ajxrO2orKylpZigoYT1hcmd1bWVudHNbal0pIT1udWxsKWZvcihjIGluIGEpe2Q9aVtjXSxmPWFbY107aWYoaT09PWYpY29udGludWU7bCYmZiYmKGUuaXNQbGFpbk9iamVjdChmKXx8KGc9ZS5pc0FycmF5KGYpKSk/KGc/KGc9ITEsaD1kJiZlLmlzQXJyYXkoZCk/ZDpbXSk6aD1kJiZlLmlzUGxhaW5PYmplY3QoZCk/ZDp7fSxpW2NdPWUuZXh0ZW5kKGwsaCxmKSk6ZiE9PWImJihpW2NdPWYpfXJldHVybiBpfSxlLmV4dGVuZCh7bm9Db25mbGljdDpmdW5jdGlvbihiKXthLiQ9PT1lJiYoYS4kPWcpLGImJmEualF1ZXJ5PT09ZSYmKGEualF1ZXJ5PWYpO3JldHVybiBlfSxpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP2UucmVhZHlXYWl0Kys6ZS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpe2lmKGE9PT0hMCYmIS0tZS5yZWFkeVdhaXR8fGEhPT0hMCYmIWUuaXNSZWFkeSl7aWYoIWMuYm9keSlyZXR1cm4gc2V0VGltZW91dChlLnJlYWR5LDEpO2UuaXNSZWFkeT0hMDtpZihhIT09ITAmJi0tZS5yZWFkeVdhaXQ+MClyZXR1cm47eS5yZXNvbHZlV2l0aChjLFtlXSksZS5mbi50cmlnZ2VyJiZlKGMpLnRyaWdnZXIoInJlYWR5IikudW5iaW5kKCJyZWFkeSIpfX0sYmluZFJlYWR5OmZ1bmN0aW9uKCl7aWYoIXkpe3k9ZS5fRGVmZXJyZWQoKTtpZihjLnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXJldHVybiBzZXRUaW1lb3V0KGUucmVhZHksMSk7aWYoYy5hZGRFdmVudExpc3RlbmVyKWMuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIseiwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixlLnJlYWR5LCExKTtlbHNlIGlmKGMuYXR0YWNoRXZlbnQpe2MuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIseiksYS5hdHRhY2hFdmVudCgib25sb2FkIixlLnJlYWR5KTt2YXIgYj0hMTt0cnl7Yj1hLmZyYW1lRWxlbWVudD09bnVsbH1jYXRjaChkKXt9Yy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJmImJkgoKX19fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBlLnR5cGUoYSk9PT0iZnVuY3Rpb24ifSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiBlLnR5cGUoYSk9PT0iYXJyYXkifSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGE9PSJvYmplY3QiJiYic2V0SW50ZXJ2YWwiaW4gYX0saXNOYU46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGx8fCFtLnRlc3QoYSl8fGlzTmFOKGEpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP1N0cmluZyhhKTpHW0EuY2FsbChhKV18fCJvYmplY3QifSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKCFhfHxlLnR5cGUoYSkhPT0ib2JqZWN0Inx8YS5ub2RlVHlwZXx8ZS5pc1dpbmRvdyhhKSlyZXR1cm4hMTtpZihhLmNvbnN0cnVjdG9yJiYhQi5jYWxsKGEsImNvbnN0cnVjdG9yIikmJiFCLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4hMTt2YXIgYztmb3IoYyBpbiBhKTtyZXR1cm4gYz09PWJ8fEIuY2FsbChhLGMpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfSxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBhfSxwYXJzZUpTT046ZnVuY3Rpb24oYil7aWYodHlwZW9mIGIhPSJzdHJpbmcifHwhYilyZXR1cm4gbnVsbDtiPWUudHJpbShiKTtpZihhLkpTT04mJmEuSlNPTi5wYXJzZSlyZXR1cm4gYS5KU09OLnBhcnNlKGIpO2lmKG8udGVzdChiLnJlcGxhY2UocCwiQCIpLnJlcGxhY2UocSwiXSIpLnJlcGxhY2UociwiIikpKXJldHVybihuZXcgRnVuY3Rpb24oInJldHVybiAiK2IpKSgpO2UuZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0scGFyc2VYTUw6ZnVuY3Rpb24oYixjLGQpe2EuRE9NUGFyc2VyPyhkPW5ldyBET01QYXJzZXIsYz1kLnBhcnNlRnJvbVN0cmluZyhiLCJ0ZXh0L3htbCIpKTooYz1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGMuYXN5bmM9ImZhbHNlIixjLmxvYWRYTUwoYikpLGQ9Yy5kb2N1bWVudEVsZW1lbnQsKCFkfHwhZC5ub2RlTmFtZXx8ZC5ub2RlTmFtZT09PSJwYXJzZXJlcnJvciIpJiZlLmVycm9yKCJJbnZhbGlkIFhNTDogIitiKTtyZXR1cm4gY30sbm9vcDpmdW5jdGlvbigpe30sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZqLnRlc3QoYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPT09Yi50b1VwcGVyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZixnPTAsaD1hLmxlbmd0aCxpPWg9PT1ifHxlLmlzRnVuY3Rpb24oYSk7aWYoZCl7aWYoaSl7Zm9yKGYgaW4gYSlpZihjLmFwcGx5KGFbZl0sZCk9PT0hMSlicmVha31lbHNlIGZvcig7ZzxoOylpZihjLmFwcGx5KGFbZysrXSxkKT09PSExKWJyZWFrfWVsc2UgaWYoaSl7Zm9yKGYgaW4gYSlpZihjLmNhbGwoYVtmXSxmLGFbZl0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoO2c8aDspaWYoYy5jYWxsKGFbZ10sZyxhW2crK10pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06RT9mdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjpFLmNhbGwoYSl9OmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOihhKyIiKS5yZXBsYWNlKGssIiIpLnJlcGxhY2UobCwiIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO2lmKGEhPW51bGwpe3ZhciBkPWUudHlwZShhKTthLmxlbmd0aD09bnVsbHx8ZD09PSJzdHJpbmcifHxkPT09ImZ1bmN0aW9uInx8ZD09PSJyZWdleHAifHxlLmlzV2luZG93KGEpP0MuY2FsbChjLGEpOmUubWVyZ2UoYyxhKX1yZXR1cm4gY30saW5BcnJheTpmdW5jdGlvbihhLGIpe2lmKEYpcmV0dXJuIEYuY2FsbChiLGEpO2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylpZihiW2NdPT09YSlyZXR1cm4gYztyZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hLmxlbmd0aCxlPTA7aWYodHlwZW9mIGMubGVuZ3RoPT0ibnVtYmVyIilmb3IodmFyIGY9Yy5sZW5ndGg7ZTxmO2UrKylhW2QrK109Y1tlXTtlbHNlIHdoaWxlKGNbZV0hPT1iKWFbZCsrXT1jW2UrK107YS5sZW5ndGg9ZDtyZXR1cm4gYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZTtjPSEhYztmb3IodmFyIGY9MCxnPWEubGVuZ3RoO2Y8ZztmKyspZT0hIWIoYVtmXSxmKSxjIT09ZSYmZC5wdXNoKGFbZl0pO3JldHVybiBkfSxtYXA6ZnVuY3Rpb24oYSxjLGQpe3ZhciBmLGcsaD1bXSxpPTAsaj1hLmxlbmd0aCxrPWEgaW5zdGFuY2VvZiBlfHxqIT09YiYmdHlwZW9mIGo9PSJudW1iZXIiJiYoaj4wJiZhWzBdJiZhW2otMV18fGo9PT0wfHxlLmlzQXJyYXkoYSkpO2lmKGspZm9yKDtpPGo7aSsrKWY9YyhhW2ldLGksZCksZiE9bnVsbCYmKGhbaC5sZW5ndGhdPWYpO2Vsc2UgZm9yKGcgaW4gYSlmPWMoYVtnXSxnLGQpLGYhPW51bGwmJihoW2gubGVuZ3RoXT1mKTtyZXR1cm4gaC5jb25jYXQuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGMpe2lmKHR5cGVvZiBjPT0ic3RyaW5nIil7dmFyIGQ9YVtjXTtjPWEsYT1kfWlmKCFlLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGI7dmFyIGY9RC5jYWxsKGFyZ3VtZW50cywyKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYyxmLmNvbmNhdChELmNhbGwoYXJndW1lbnRzKSkpfTtnLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8Zy5ndWlkfHxlLmd1aWQrKztyZXR1cm4gZ30sYWNjZXNzOmZ1bmN0aW9uKGEsYyxkLGYsZyxoKXt2YXIgaT1hLmxlbmd0aDtpZih0eXBlb2YgYz09Im9iamVjdCIpe2Zvcih2YXIgaiBpbiBjKWUuYWNjZXNzKGEsaixjW2pdLGYsZyxkKTtyZXR1cm4gYX1pZihkIT09Yil7Zj0haCYmZiYmZS5pc0Z1bmN0aW9uKGQpO2Zvcih2YXIgaz0wO2s8aTtrKyspZyhhW2tdLGMsZj9kLmNhbGwoYVtrXSxrLGcoYVtrXSxjKSk6ZCxoKTtyZXR1cm4gYX1yZXR1cm4gaT9nKGFbMF0sYyk6Yn0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHVhTWF0Y2g6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7dmFyIGI9cy5leGVjKGEpfHx0LmV4ZWMoYSl8fHUuZXhlYyhhKXx8YS5pbmRleE9mKCJjb21wYXRpYmxlIik8MCYmdi5leGVjKGEpfHxbXTtyZXR1cm57YnJvd3NlcjpiWzFdfHwiIix2ZXJzaW9uOmJbMl18fCIwIn19LHN1YjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtyZXR1cm4gbmV3IGEuZm4uaW5pdChiLGMpfWUuZXh0ZW5kKCEwLGEsdGhpcyksYS5zdXBlcmNsYXNzPXRoaXMsYS5mbj1hLnByb3RvdHlwZT10aGlzKCksYS5mbi5jb25zdHJ1Y3Rvcj1hLGEuc3ViPXRoaXMuc3ViLGEuZm4uaW5pdD1mdW5jdGlvbihjLGQpe2QmJmQgaW5zdGFuY2VvZiBlJiYhKGQgaW5zdGFuY2VvZiBhKSYmKGQ9YShkKSk7cmV0dXJuIGUuZm4uaW5pdC5jYWxsKHRoaXMsYyxkLGIpfSxhLmZuLmluaXQucHJvdG90eXBlPWEuZm47dmFyIGI9YShjKTtyZXR1cm4gYX0sYnJvd3Nlcjp7fX0pLGUuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe0dbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSkseD1lLnVhTWF0Y2godykseC5icm93c2VyJiYoZS5icm93c2VyW3guYnJvd3Nlcl09ITAsZS5icm93c2VyLnZlcnNpb249eC52ZXJzaW9uKSxlLmJyb3dzZXIud2Via2l0JiYoZS5icm93c2VyLnNhZmFyaT0hMCksai50ZXN0KCLCoCIpJiYoaz0vXltcc1x4QTBdKy8sbD0vW1xzXHhBMF0rJC8pLGg9ZShjKSxjLmFkZEV2ZW50TGlzdGVuZXI/ej1mdW5jdGlvbigpe2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIseiwhMSksZS5yZWFkeSgpfTpjLmF0dGFjaEV2ZW50JiYoej1mdW5jdGlvbigpe2MucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSImJihjLmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHopLGUucmVhZHkoKSl9KTtyZXR1cm4gZX0oKSxnPSJkb25lIGZhaWwgaXNSZXNvbHZlZCBpc1JlamVjdGVkIHByb21pc2UgdGhlbiBhbHdheXMgcGlwZSIuc3BsaXQoIiAiKSxoPVtdLnNsaWNlO2YuZXh0ZW5kKHtfRGVmZXJyZWQ6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiLGMsZCxlPXtkb25lOmZ1bmN0aW9uKCl7aWYoIWQpe3ZhciBjPWFyZ3VtZW50cyxnLGgsaSxqLGs7YiYmKGs9YixiPTApO2ZvcihnPTAsaD1jLmxlbmd0aDtnPGg7ZysrKWk9Y1tnXSxqPWYudHlwZShpKSxqPT09ImFycmF5Ij9lLmRvbmUuYXBwbHkoZSxpKTpqPT09ImZ1bmN0aW9uIiYmYS5wdXNoKGkpO2smJmUucmVzb2x2ZVdpdGgoa1swXSxrWzFdKX1yZXR1cm4gdGhpc30scmVzb2x2ZVdpdGg6ZnVuY3Rpb24oZSxmKXtpZighZCYmIWImJiFjKXtmPWZ8fFtdLGM9MTt0cnl7d2hpbGUoYVswXSlhLnNoaWZ0KCkuYXBwbHkoZSxmKX1maW5hbGx5e2I9W2UsZl0sYz0wfX1yZXR1cm4gdGhpc30scmVzb2x2ZTpmdW5jdGlvbigpe2UucmVzb2x2ZVdpdGgodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfSxpc1Jlc29sdmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFjfHwhIWJ9LGNhbmNlbDpmdW5jdGlvbigpe2Q9MSxhPVtdO3JldHVybiB0aGlzfX07cmV0dXJuIGV9LERlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWYuX0RlZmVycmVkKCksYz1mLl9EZWZlcnJlZCgpLGQ7Zi5leHRlbmQoYix7dGhlbjpmdW5jdGlvbihhLGMpe2IuZG9uZShhKS5mYWlsKGMpO3JldHVybiB0aGlzfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gYi5kb25lLmFwcGx5KGIsYXJndW1lbnRzKS5mYWlsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZmFpbDpjLmRvbmUscmVqZWN0V2l0aDpjLnJlc29sdmVXaXRoLHJlamVjdDpjLnJlc29sdmUsaXNSZWplY3RlZDpjLmlzUmVzb2x2ZWQscGlwZTpmdW5jdGlvbihhLGMpe3JldHVybiBmLkRlZmVycmVkKGZ1bmN0aW9uKGQpe2YuZWFjaCh7ZG9uZTpbYSwicmVzb2x2ZSJdLGZhaWw6W2MsInJlamVjdCJdfSxmdW5jdGlvbihhLGMpe3ZhciBlPWNbMF0sZz1jWzFdLGg7Zi5pc0Z1bmN0aW9uKGUpP2JbYV0oZnVuY3Rpb24oKXtoPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGYuaXNGdW5jdGlvbihoLnByb21pc2UpP2gucHJvbWlzZSgpLnRoZW4oZC5yZXNvbHZlLGQucmVqZWN0KTpkW2ddKGgpfSk6YlthXShkW2ddKX0pfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe2lmKGE9PW51bGwpe2lmKGQpcmV0dXJuIGQ7ZD1hPXt9fXZhciBjPWcubGVuZ3RoO3doaWxlKGMtLSlhW2dbY11dPWJbZ1tjXV07cmV0dXJuIGF9fSksYi5kb25lKGMuY2FuY2VsKS5mYWlsKGIuY2FuY2VsKSxkZWxldGUgYi5jYW5jZWwsYSYmYS5jYWxsKGIsYik7cmV0dXJuIGJ9LHdoZW46ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gaShhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YlthXT1hcmd1bWVudHMubGVuZ3RoPjE/aC5jYWxsKGFyZ3VtZW50cywwKTpjLC0tZXx8Zy5yZXNvbHZlV2l0aChnLGguY2FsbChiLDApKX19dmFyIGI9YXJndW1lbnRzLGM9MCxkPWIubGVuZ3RoLGU9ZCxnPWQ8PTEmJmEmJmYuaXNGdW5jdGlvbihhLnByb21pc2UpP2E6Zi5EZWZlcnJlZCgpO2lmKGQ+MSl7Zm9yKDtjPGQ7YysrKWJbY10mJmYuaXNGdW5jdGlvbihiW2NdLnByb21pc2UpP2JbY10ucHJvbWlzZSgpLnRoZW4oaShjKSxnLnJlamVjdCk6LS1lO2V8fGcucmVzb2x2ZVdpdGgoZyxiKX1lbHNlIGchPT1hJiZnLnJlc29sdmVXaXRoKGcsZD9bYV06W10pO3JldHVybiBnLnByb21pc2UoKX19KSxmLnN1cHBvcnQ9ZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGIsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxO2Euc2V0QXR0cmlidXRlKCJjbGFzc05hbWUiLCJ0IiksYS5pbm5lckhUTUw9IiAgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYScgc3R5bGU9J3RvcDoxcHg7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41NTsnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixiPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxkPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXTtpZighYnx8IWIubGVuZ3RofHwhZClyZXR1cm57fTtlPWMuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksZj1lLmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGc9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSxpPXtsZWFkaW5nV2hpdGVzcGFjZTphLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0zLHRib2R5OiFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpLmxlbmd0aCxodG1sU2VyaWFsaXplOiEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxzdHlsZTovdG9wLy50ZXN0KGQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSxocmVmTm9ybWFsaXplZDpkLmdldEF0dHJpYnV0ZSgiaHJlZiIpPT09Ii9hIixvcGFjaXR5Oi9eMC41NSQvLnRlc3QoZC5zdHlsZS5vcGFjaXR5KSxjc3NGbG9hdDohIWQuc3R5bGUuY3NzRmxvYXQsY2hlY2tPbjpnLnZhbHVlPT09Im9uIixvcHRTZWxlY3RlZDpmLnNlbGVjdGVkLGdldFNldEF0dHJpYnV0ZTphLmNsYXNzTmFtZSE9PSJ0IixzdWJtaXRCdWJibGVzOiEwLGNoYW5nZUJ1YmJsZXM6ITAsZm9jdXNpbkJ1YmJsZXM6ITEsZGVsZXRlRXhwYW5kbzohMCxub0Nsb25lRXZlbnQ6ITAsaW5saW5lQmxvY2tOZWVkc0xheW91dDohMSxzaHJpbmtXcmFwQmxvY2tzOiExLHJlbGlhYmxlTWFyZ2luUmlnaHQ6ITB9LGcuY2hlY2tlZD0hMCxpLm5vQ2xvbmVDaGVja2VkPWcuY2xvbmVOb2RlKCEwKS5jaGVja2VkLGUuZGlzYWJsZWQ9ITAsaS5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZDt0cnl7ZGVsZXRlIGEudGVzdH1jYXRjaChyKXtpLmRlbGV0ZUV4cGFuZG89ITF9IWEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hdHRhY2hFdmVudCYmYS5maXJlRXZlbnQmJihhLmF0dGFjaEV2ZW50KCJvbmNsaWNrIixmdW5jdGlvbiBjbGljaygpe2kubm9DbG9uZUV2ZW50PSExLGEuZGV0YWNoRXZlbnQoIm9uY2xpY2siLGNsaWNrKX0pLGEuY2xvbmVOb2RlKCEwKS5maXJlRXZlbnQoIm9uY2xpY2siKSksZz1jLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksZy52YWx1ZT0idCIsZy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGkucmFkaW9WYWx1ZT1nLnZhbHVlPT09InQiLGcuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGEuYXBwZW5kQ2hpbGQoZyksaj1jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxqLmFwcGVuZENoaWxkKGEuZmlyc3RDaGlsZCksaS5jaGVja0Nsb25lPWouY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGEuaW5uZXJIVE1MPSIiLGEuc3R5bGUud2lkdGg9YS5zdHlsZS5wYWRkaW5nTGVmdD0iMXB4IixrPWMuY3JlYXRlRWxlbWVudCgiYm9keSIpLGw9e3Zpc2liaWxpdHk6ImhpZGRlbiIsd2lkdGg6MCxoZWlnaHQ6MCxib3JkZXI6MCxtYXJnaW46MCxiYWNrZ3JvdW5kOiJub25lIn07Zm9yKHAgaW4gbClrLnN0eWxlW3BdPWxbcF07ay5hcHBlbmRDaGlsZChhKSxjLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChrKSxpLmFwcGVuZENoZWNrZWQ9Zy5jaGVja2VkLGkuYm94TW9kZWw9YS5vZmZzZXRXaWR0aD09PTIsInpvb20iaW4gYS5zdHlsZSYmKGEuc3R5bGUuZGlzcGxheT0iaW5saW5lIixhLnN0eWxlLnpvb209MSxpLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9YS5vZmZzZXRXaWR0aD09PTIsYS5zdHlsZS5kaXNwbGF5PSIiLGEuaW5uZXJIVE1MPSI8ZGl2IHN0eWxlPSd3aWR0aDo0cHg7Jz48L2Rpdj4iLGkuc2hyaW5rV3JhcEJsb2Nrcz1hLm9mZnNldFdpZHRoIT09MiksYS5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjA7Ym9yZGVyOjA7ZGlzcGxheTpub25lJz48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+IixtPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIikscT1tWzBdLm9mZnNldEhlaWdodD09PTAsbVswXS5zdHlsZS5kaXNwbGF5PSIiLG1bMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsaS5yZWxpYWJsZUhpZGRlbk9mZnNldHM9cSYmbVswXS5vZmZzZXRIZWlnaHQ9PT0wLGEuaW5uZXJIVE1MPSIiLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGg9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxoLnN0eWxlLndpZHRoPSIwIixoLnN0eWxlLm1hcmdpblJpZ2h0PSIwIixhLmFwcGVuZENoaWxkKGgpLGkucmVsaWFibGVNYXJnaW5SaWdodD0ocGFyc2VJbnQoYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGgsbnVsbCkubWFyZ2luUmlnaHQsMTApfHwwKT09PTApLGsuaW5uZXJIVE1MPSIiLGMuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGspO2lmKGEuYXR0YWNoRXZlbnQpZm9yKHAgaW57c3VibWl0OjEsY2hhbmdlOjEsZm9jdXNpbjoxfSlvPSJvbiIrcCxxPW8gaW4gYSxxfHwoYS5zZXRBdHRyaWJ1dGUobywicmV0dXJuOyIpLHE9dHlwZW9mIGFbb109PSJmdW5jdGlvbiIpLGlbcCsiQnViYmxlcyJdPXE7cmV0dXJuIGl9KCksZi5ib3hNb2RlbD1mLnN1cHBvcnQuYm94TW9kZWw7dmFyIGk9L14oPzpcey4qXH18XFsuKlxdKSQvLGo9LyhbYS16XSkoW0EtWl0pL2c7Zi5leHRlbmQoe2NhY2hlOnt9LHV1aWQ6MCxleHBhbmRvOiJqUXVlcnkiKyhmLmZuLmpxdWVyeStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxub0RhdGE6e2VtYmVkOiEwLG9iamVjdDoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIixhcHBsZXQ6ITB9LGhhc0RhdGE6ZnVuY3Rpb24oYSl7YT1hLm5vZGVUeXBlP2YuY2FjaGVbYVtmLmV4cGFuZG9dXTphW2YuZXhwYW5kb107cmV0dXJuISFhJiYhbChhKX0sZGF0YTpmdW5jdGlvbihhLGMsZCxlKXtpZighIWYuYWNjZXB0RGF0YShhKSl7dmFyIGc9Zi5leHBhbmRvLGg9dHlwZW9mIGM9PSJzdHJpbmciLGksaj1hLm5vZGVUeXBlLGs9aj9mLmNhY2hlOmEsbD1qP2FbZi5leHBhbmRvXTphW2YuZXhwYW5kb10mJmYuZXhwYW5kbztpZigoIWx8fGUmJmwmJiFrW2xdW2ddKSYmaCYmZD09PWIpcmV0dXJuO2x8fChqP2FbZi5leHBhbmRvXT1sPSsrZi51dWlkOmw9Zi5leHBhbmRvKSxrW2xdfHwoa1tsXT17fSxqfHwoa1tsXS50b0pTT049Zi5ub29wKSk7aWYodHlwZW9mIGM9PSJvYmplY3QifHx0eXBlb2YgYz09ImZ1bmN0aW9uIillP2tbbF1bZ109Zi5leHRlbmQoa1tsXVtnXSxjKTprW2xdPWYuZXh0ZW5kKGtbbF0sYyk7aT1rW2xdLGUmJihpW2ddfHwoaVtnXT17fSksaT1pW2ddKSxkIT09YiYmKGlbY109ZCk7aWYoYz09PSJldmVudHMiJiYhaVtjXSlyZXR1cm4gaVtnXSYmaVtnXS5ldmVudHM7cmV0dXJuIGg/aVtjXTppfX0scmVtb3ZlRGF0YTpmdW5jdGlvbihiLGMsZCl7aWYoISFmLmFjY2VwdERhdGEoYikpe3ZhciBlPWYuZXhwYW5kbyxnPWIubm9kZVR5cGUsaD1nP2YuY2FjaGU6YixpPWc/YltmLmV4cGFuZG9dOmYuZXhwYW5kbztpZighaFtpXSlyZXR1cm47aWYoYyl7dmFyIGo9ZD9oW2ldW2VdOmhbaV07aWYoail7ZGVsZXRlIGpbY107aWYoIWwoaikpcmV0dXJufX1pZihkKXtkZWxldGUgaFtpXVtlXTtpZighbChoW2ldKSlyZXR1cm59dmFyIGs9aFtpXVtlXTtmLnN1cHBvcnQuZGVsZXRlRXhwYW5kb3x8aCE9YT9kZWxldGUgaFtpXTpoW2ldPW51bGwsaz8oaFtpXT17fSxnfHwoaFtpXS50b0pTT049Zi5ub29wKSxoW2ldW2VdPWspOmcmJihmLnN1cHBvcnQuZGVsZXRlRXhwYW5kbz9kZWxldGUgYltmLmV4cGFuZG9dOmIucmVtb3ZlQXR0cmlidXRlP2IucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyk6YltmLmV4cGFuZG9dPW51bGwpfX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRhdGEoYSxiLGMsITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWYubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4gYiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn1yZXR1cm4hMH19KSxmLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGMpe3ZhciBkPW51bGw7aWYodHlwZW9mIGE9PSJ1bmRlZmluZWQiKXtpZih0aGlzLmxlbmd0aCl7ZD1mLmRhdGEodGhpc1swXSk7aWYodGhpc1swXS5ub2RlVHlwZT09PTEpe3ZhciBlPXRoaXNbMF0uYXR0cmlidXRlcyxnO2Zvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aDxpO2grKylnPWVbaF0ubmFtZSxnLmluZGV4T2YoImRhdGEtIik9PT0wJiYoZz1mLmNhbWVsQ2FzZShnLnN1YnN0cmluZyg1KSksayh0aGlzWzBdLGcsZFtnXSkpfX1yZXR1cm4gZH1pZih0eXBlb2YgYT09Im9iamVjdCIpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZGF0YSh0aGlzLGEpfSk7dmFyIGo9YS5zcGxpdCgiLiIpO2pbMV09alsxXT8iLiIralsxXToiIjtpZihjPT09Yil7ZD10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitqWzFdKyIhIixbalswXV0pLGQ9PT1iJiZ0aGlzLmxlbmd0aCYmKGQ9Zi5kYXRhKHRoaXNbMF0sYSksZD1rKHRoaXNbMF0sYSxkKSk7cmV0dXJuIGQ9PT1iJiZqWzFdP3RoaXMuZGF0YShqWzBdKTpkfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGQ9W2pbMF0sY107Yi50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIralsxXSsiISIsZCksZi5kYXRhKHRoaXMsYSxjKSxiLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitqWzFdKyIhIixkKX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLGYuZXh0ZW5kKHtfbWFyazpmdW5jdGlvbihhLGMpe2EmJihjPShjfHwiZngiKSsibWFyayIsZi5kYXRhKGEsYywoZi5kYXRhKGEsYyxiLCEwKXx8MCkrMSwhMCkpfSxfdW5tYXJrOmZ1bmN0aW9uKGEsYyxkKXthIT09ITAmJihkPWMsYz1hLGE9ITEpO2lmKGMpe2Q9ZHx8ImZ4Ijt2YXIgZT1kKyJtYXJrIixnPWE/MDooZi5kYXRhKGMsZSxiLCEwKXx8MSktMTtnP2YuZGF0YShjLGUsZywhMCk6KGYucmVtb3ZlRGF0YShjLGUsITApLG0oYyxkLCJtYXJrIikpfX0scXVldWU6ZnVuY3Rpb24oYSxjLGQpe2lmKGEpe2M9KGN8fCJmeCIpKyJxdWV1ZSI7dmFyIGU9Zi5kYXRhKGEsYyxiLCEwKTtkJiYoIWV8fGYuaXNBcnJheShkKT9lPWYuZGF0YShhLGMsZi5tYWtlQXJyYXkoZCksITApOmUucHVzaChkKSk7cmV0dXJuIGV8fFtdfX0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1mLnF1ZXVlKGEsYiksZD1jLnNoaWZ0KCksZTtkPT09ImlucHJvZ3Jlc3MiJiYoZD1jLnNoaWZ0KCkpLGQmJihiPT09ImZ4IiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZC5jYWxsKGEsZnVuY3Rpb24oKXtmLmRlcXVldWUoYSxiKX0pKSxjLmxlbmd0aHx8KGYucmVtb3ZlRGF0YShhLGIrInF1ZXVlIiwhMCksbShhLGIsInF1ZXVlIikpfX0pLGYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3R5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPSJmeCIpO2lmKGM9PT1iKXJldHVybiBmLnF1ZXVlKHRoaXNbMF0sYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYucXVldWUodGhpcyxhLGMpO2E9PT0iZngiJiZiWzBdIT09ImlucHJvZ3Jlc3MiJiZmLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmRlcXVldWUodGhpcyxhKX0pfSxkZWxheTpmdW5jdGlvbihhLGIpe2E9Zi5meD9mLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4IjtyZXR1cm4gdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKCl7dmFyIGM9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5kZXF1ZXVlKGMsYil9LGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBsKCl7LS1ofHxkLnJlc29sdmVXaXRoKGUsW2VdKX10eXBlb2YgYSE9InN0cmluZyImJihjPWEsYT1iKSxhPWF8fCJmeCI7dmFyIGQ9Zi5EZWZlcnJlZCgpLGU9dGhpcyxnPWUubGVuZ3RoLGg9MSxpPWErImRlZmVyIixqPWErInF1ZXVlIixrPWErIm1hcmsiO3doaWxlKGctLSlpZih0bXA9Zi5kYXRhKGVbZ10saSxiLCEwKXx8KGYuZGF0YShlW2ddLGosYiwhMCl8fGYuZGF0YShlW2ddLGssYiwhMCkpJiZmLmRhdGEoZVtnXSxpLGYuX0RlZmVycmVkKCksITApKWgrKyx0bXAuZG9uZShsKTtsKCk7cmV0dXJuIGQucHJvbWlzZSgpfX0pO3ZhciBuPS9bXG5cdFxyXS9nLG89L1xzKy8scD0vXHIvZyxxPS9eKD86YnV0dG9ufGlucHV0KSQvaSxyPS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLHM9L15hKD86cmVhKT8kL2ksdD0vXig/OmRhdGEtfGFyaWEtKS8sdT0vXDovLHY7Zi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGIsITAsZi5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5yZW1vdmVBdHRyKHRoaXMsYSl9KX0scHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYiwhMCxmLnByb3ApfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT1iLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGMpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsYy5hdHRyKCJjbGFzcyIpfHwiIikpfSk7aWYoYSYmdHlwZW9mIGE9PSJzdHJpbmciKXt2YXIgYj0oYXx8IiIpLnNwbGl0KG8pO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9dGhpc1tjXTtpZihlLm5vZGVUeXBlPT09MSlpZighZS5jbGFzc05hbWUpZS5jbGFzc05hbWU9YTtlbHNle3ZhciBnPSIgIitlLmNsYXNzTmFtZSsiICIsaD1lLmNsYXNzTmFtZTtmb3IodmFyIGk9MCxqPWIubGVuZ3RoO2k8ajtpKyspZy5pbmRleE9mKCIgIitiW2ldKyIgIik8MCYmKGgrPSIgIitiW2ldKTtlLmNsYXNzTmFtZT1mLnRyaW0oaCl9fX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsYy5hdHRyKCJjbGFzcyIpKSl9KTtpZihhJiZ0eXBlb2YgYT09InN0cmluZyJ8fGE9PT1iKXt2YXIgYz0oYXx8IiIpLnNwbGl0KG8pO2Zvcih2YXIgZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7dmFyIGc9dGhpc1tkXTtpZihnLm5vZGVUeXBlPT09MSYmZy5jbGFzc05hbWUpaWYoYSl7dmFyIGg9KCIgIitnLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UobiwiICIpO2Zvcih2YXIgaT0wLGo9Yy5sZW5ndGg7aTxqO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1mLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYj09ImJvb2xlYW4iO2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWYodGhpcyk7ZC50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLGQuYXR0cigiY2xhc3MiKSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGc9MCxoPWYodGhpcyksaT1iLGo9YS5zcGxpdChvKTt3aGlsZShlPWpbZysrXSlpPWQ/aTohaC5oYXNDbGFzcyhlKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpmLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylpZigoIiAiK3RoaXNbY10uY2xhc3NOYW1lKyIgIikucmVwbGFjZShuLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX0sdmFsOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzWzBdO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtpZihlKXtjPWYudmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8Zi52YWxIb29rc1tlLnR5cGVdO2lmKGMmJiJnZXQiaW4gYyYmKGQ9Yy5nZXQoZSwidmFsdWUiKSkhPT1iKXJldHVybiBkO3JldHVybihlLnZhbHVlfHwiIikucmVwbGFjZShwLCIiKX1yZXR1cm4gYn12YXIgZz1mLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihkKXt2YXIgZT1mKHRoaXMpLGg7aWYodGhpcy5ub2RlVHlwZT09PTEpe2c/aD1hLmNhbGwodGhpcyxkLGUudmFsKCkpOmg9YSxoPT1udWxsP2g9IiI6dHlwZW9mIGg9PSJudW1iZXIiP2grPSIiOmYuaXNBcnJheShoKSYmKGg9Zi5tYXAoaCxmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjphKyIifSkpLGM9Zi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldfHxmLnZhbEhvb2tzW3RoaXMudHlwZV07aWYoIWN8fCJzZXQiaW4gYyYmYy5zZXQodGhpcyxoLCJ2YWx1ZSIpPT09Yil0aGlzLnZhbHVlPWh9fSl9fSksZi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXMudmFsdWU7cmV0dXJuIWJ8fGIuc3BlY2lmaWVkP2EudmFsdWU6YS50ZXh0fX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zZWxlY3RlZEluZGV4LGM9W10sZD1hLm9wdGlvbnMsZT1hLnR5cGU9PT0ic2VsZWN0LW9uZSI7aWYoYjwwKXJldHVybiBudWxsO2Zvcih2YXIgZz1lP2I6MCxoPWU/YisxOmQubGVuZ3RoO2c8aDtnKyspe3ZhciBpPWRbZ107aWYoaS5zZWxlY3RlZCYmKGYuc3VwcG9ydC5vcHREaXNhYmxlZD8haS5kaXNhYmxlZDppLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIWkucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWYubm9kZU5hbWUoaS5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7dmFsdWU9ZihpKS52YWwoKTtpZihlKXJldHVybiB2YWx1ZTtjLnB1c2godmFsdWUpfX1pZihlJiYhYy5sZW5ndGgmJmQubGVuZ3RoKXJldHVybiBmKGRbYl0pLnZhbCgpO3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLm1ha2VBcnJheShiKTtmKGEpLmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkPWYuaW5BcnJheShmKHRoaXMpLnZhbCgpLGMpPj0wfSksYy5sZW5ndGh8fChhLnNlbGVjdGVkSW5kZXg9LTEpO3JldHVybiBjfX19LGF0dHJGbjp7dmFsOiEwLGNzczohMCxodG1sOiEwLHRleHQ6ITAsZGF0YTohMCx3aWR0aDohMCxoZWlnaHQ6ITAsb2Zmc2V0OiEwfSxhdHRyRml4Ont0YWJpbmRleDoidGFiSW5kZXgiLHJlYWRvbmx5OiJyZWFkT25seSJ9LGF0dHI6ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGc9YS5ub2RlVHlwZTtpZighYXx8Zz09PTN8fGc9PT04fHxnPT09MilyZXR1cm4gYjtpZihlJiZjIGluIGYuYXR0ckZuKXJldHVybiBmKGEpW2NdKGQpO3ZhciBoLGksaj1nIT09MXx8IWYuaXNYTUxEb2MoYSk7Yz1qJiZmLmF0dHJGaXhbY118fGMsaT1mLmF0dHJIb29rc1tjXXx8KHYmJihmLm5vZGVOYW1lKGEsImZvcm0iKXx8dS50ZXN0KGMpKT92OmIpO2lmKGQhPT1iKXtpZihkPT09bnVsbHx8ZD09PSExJiYhdC50ZXN0KGMpKXtmLnJlbW92ZUF0dHIoYSxjKTtyZXR1cm4gYn1pZihpJiYic2V0ImluIGkmJmomJihoPWkuc2V0KGEsZCxjKSkhPT1iKXJldHVybiBoO2Q9PT0hMCYmIXQudGVzdChjKSYmKGQ9YyksYS5zZXRBdHRyaWJ1dGUoYywiIitkKTtyZXR1cm4gZH1pZihpJiYiZ2V0ImluIGkmJmopcmV0dXJuIGkuZ2V0KGEsYyk7aD1hLmdldEF0dHJpYnV0ZShjKTtyZXR1cm4gaD09PW51bGw/YjpofSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7YS5ub2RlVHlwZT09PTEmJihiPWYuYXR0ckZpeFtiXXx8YixmLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlP2EucmVtb3ZlQXR0cmlidXRlKGIpOihmLmF0dHIoYSxiLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZU5vZGUoYS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKHEudGVzdChhLm5vZGVOYW1lKSYmYS5wYXJlbnROb2RlKWYuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2Vsc2UgaWYoIWYuc3VwcG9ydC5yYWRpb1ZhbHVlJiZiPT09InJhZGlvIiYmZi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKTthLnNldEF0dHJpYnV0ZSgidHlwZSIsYiksYyYmKGEudmFsdWU9Yyk7cmV0dXJuIGJ9fX0sdGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYz1hLmdldEF0dHJpYnV0ZU5vZGUoInRhYkluZGV4Iik7cmV0dXJuIGMmJmMuc3BlY2lmaWVkP3BhcnNlSW50KGMudmFsdWUsMTApOnIudGVzdChhLm5vZGVOYW1lKXx8cy50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDpifX19LHByb3BGaXg6e30scHJvcDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9YS5ub2RlVHlwZTtpZighYXx8ZT09PTN8fGU9PT04fHxlPT09MilyZXR1cm4gYjt2YXIgZyxoLGk9ZSE9PTF8fCFmLmlzWE1MRG9jKGEpO2M9aSYmZi5wcm9wRml4W2NdfHxjLGg9Zi5wcm9wSG9va3NbY107cmV0dXJuIGQhPT1iP2gmJiJzZXQiaW4gaCYmKGc9aC5zZXQoYSxkLGMpKSE9PWI/ZzphW2NdPWQ6aCYmImdldCJpbiBoJiYoZz1oLmdldChhLGMpKSE9PWI/ZzphW2NdfSxwcm9wSG9va3M6e319KSxmLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlfHwoZi5hdHRyRml4PWYuZXh0ZW5kKGYuYXR0ckZpeCx7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIsY2VsbHBhZGRpbmc6ImNlbGxQYWRkaW5nIixyb3dzcGFuOiJyb3dTcGFuIixjb2xzcGFuOiJjb2xTcGFuIix1c2VtYXA6InVzZU1hcCIsZnJhbWVib3JkZXI6ImZyYW1lQm9yZGVyIn0pLHY9Zi5hdHRySG9va3MubmFtZT1mLmF0dHJIb29rcy52YWx1ZT1mLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYyl7dmFyIGQ7aWYoYz09PSJ2YWx1ZSImJiFmLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiBhLmdldEF0dHJpYnV0ZShjKTtkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZCYmZC5zcGVjaWZpZWQ/ZC5ub2RlVmFsdWU6Yn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZU5vZGUoYyk7aWYoZCl7ZC5ub2RlVmFsdWU9YjtyZXR1cm4gYn19fSxmLmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYil7Zi5hdHRySG9va3NbYl09Zi5leHRlbmQoZi5hdHRySG9va3NbYl0se3NldDpmdW5jdGlvbihhLGMpe2lmKGM9PT0iIil7YS5zZXRBdHRyaWJ1dGUoYiwiYXV0byIpO3JldHVybiBjfX19KX0pKSxmLnN1cHBvcnQuaHJlZk5vcm1hbGl6ZWR8fGYuZWFjaChbImhyZWYiLCJzcmMiLCJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYyl7Zi5hdHRySG9va3NbY109Zi5leHRlbmQoZi5hdHRySG9va3NbY10se2dldDpmdW5jdGlvbihhKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShjLDIpO3JldHVybiBkPT09bnVsbD9iOmR9fSl9KSxmLnN1cHBvcnQuc3R5bGV8fChmLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHQudG9Mb3dlckNhc2UoKXx8Yn0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dD0iIitifX0pLGYuc3VwcG9ydC5vcHRTZWxlY3RlZHx8KGYucHJvcEhvb2tzLnNlbGVjdGVkPWYuZXh0ZW5kKGYucHJvcEhvb2tzLnNlbGVjdGVkLHtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSkpLGYuc3VwcG9ydC5jaGVja09ufHxmLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtmLnZhbEhvb2tzW3RoaXNdPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPT09bnVsbD8ib24iOmEudmFsdWV9fX0pLGYuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2YudmFsSG9va3NbdGhpc109Zi5leHRlbmQoZi52YWxIb29rc1t0aGlzXSx7c2V0OmZ1bmN0aW9uKGEsYil7aWYoZi5pc0FycmF5KGIpKXJldHVybiBhLmNoZWNrZWQ9Zi5pbkFycmF5KGYoYSkudmFsKCksYik+PTB9fSl9KTt2YXIgdz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHg9L1wuKC4qKSQvLHk9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLHo9L1wuL2csQT0vIC9nLEI9L1teXHdccy58YF0vZyxDPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoQiwiXFwkJiIpfTtmLmV2ZW50PXthZGQ6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtpZihkPT09ITEpZD1EO2Vsc2UgaWYoIWQpcmV0dXJuO3ZhciBnLGg7ZC5oYW5kbGVyJiYoZz1kLGQ9Zy5oYW5kbGVyKSxkLmd1aWR8fChkLmd1aWQ9Zi5ndWlkKyspO3ZhciBpPWYuX2RhdGEoYSk7aWYoIWkpcmV0dXJuO3ZhciBqPWkuZXZlbnRzLGs9aS5oYW5kbGU7anx8KGkuZXZlbnRzPWo9e30pLGt8fChpLmhhbmRsZT1rPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgZiE9InVuZGVmaW5lZCImJighYXx8Zi5ldmVudC50cmlnZ2VyZWQhPT1hLnR5cGUpP2YuZXZlbnQuaGFuZGxlLmFwcGx5KGsuZWxlbSxhcmd1bWVudHMpOmJ9KSxrLmVsZW09YSxjPWMuc3BsaXQoIiAiKTt2YXIgbCxtPTAsbjt3aGlsZShsPWNbbSsrXSl7aD1nP2YuZXh0ZW5kKHt9LGcpOntoYW5kbGVyOmQsZGF0YTplfSxsLmluZGV4T2YoIi4iKT4tMT8obj1sLnNwbGl0KCIuIiksbD1uLnNoaWZ0KCksaC5uYW1lc3BhY2U9bi5zbGljZSgwKS5zb3J0KCkuam9pbigiLiIpKToobj1bXSxoLm5hbWVzcGFjZT0iIiksaC50eXBlPWwsaC5ndWlkfHwoaC5ndWlkPWQuZ3VpZCk7dmFyIG89altsXSxwPWYuZXZlbnQuc3BlY2lhbFtsXXx8e307aWYoIW8pe289altsXT1bXTtpZighcC5zZXR1cHx8cC5zZXR1cC5jYWxsKGEsZSxuLGspPT09ITEpYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihsLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitsLGspfXAuYWRkJiYocC5hZGQuY2FsbChhLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9ZC5ndWlkKSksby5wdXNoKGgpLGYuZXZlbnQuZ2xvYmFsW2xdPSEwfWE9bnVsbH19LGdsb2JhbDp7fSxyZW1vdmU6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtkPT09ITEmJihkPUQpO3ZhciBnLGgsaSxqLGs9MCxsLG0sbixvLHAscSxyLHM9Zi5oYXNEYXRhKGEpJiZmLl9kYXRhKGEpLHQ9cyYmcy5ldmVudHM7aWYoIXN8fCF0KXJldHVybjtjJiZjLnR5cGUmJihkPWMuaGFuZGxlcixjPWMudHlwZSk7aWYoIWN8fHR5cGVvZiBjPT0ic3RyaW5nIiYmYy5jaGFyQXQoMCk9PT0iLiIpe2M9Y3x8IiI7Zm9yKGggaW4gdClmLmV2ZW50LnJlbW92ZShhLGgrYyk7cmV0dXJufWM9Yy5zcGxpdCgiICIpO3doaWxlKGg9Y1trKytdKXtyPWgscT1udWxsLGw9aC5pbmRleE9mKCIuIik8MCxtPVtdLGx8fChtPWguc3BsaXQoIi4iKSxoPW0uc2hpZnQoKSxuPW5ldyBSZWdFeHAoIihefFxcLikiK2YubWFwKG0uc2xpY2UoMCkuc29ydCgpLEMpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxwPXRbaF07aWYoIXApY29udGludWU7aWYoIWQpe2ZvcihqPTA7ajxwLmxlbmd0aDtqKyspe3E9cFtqXTtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWYuZXZlbnQucmVtb3ZlKGEscixxLmhhbmRsZXIsaikscC5zcGxpY2Uoai0tLDEpfWNvbnRpbnVlfW89Zi5ldmVudC5zcGVjaWFsW2hdfHx7fTtmb3Ioaj1lfHwwO2o8cC5sZW5ndGg7aisrKXtxPXBbal07aWYoZC5ndWlkPT09cS5ndWlkKXtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWU9PW51bGwmJnAuc3BsaWNlKGotLSwxKSxvLnJlbW92ZSYmby5yZW1vdmUuY2FsbChhLHEpO2lmKGUhPW51bGwpYnJlYWt9fWlmKHAubGVuZ3RoPT09MHx8ZSE9bnVsbCYmcC5sZW5ndGg9PT0xKSghby50ZWFyZG93bnx8by50ZWFyZG93bi5jYWxsKGEsbSk9PT0hMSkmJmYucmVtb3ZlRXZlbnQoYSxoLHMuaGFuZGxlKSxnPW51bGwsZGVsZXRlIHRbaF19aWYoZi5pc0VtcHR5T2JqZWN0KHQpKXt2YXIgdT1zLmhhbmRsZTt1JiYodS5lbGVtPW51bGwpLGRlbGV0ZSBzLmV2ZW50cyxkZWxldGUgcy5oYW5kbGUsZi5pc0VtcHR5T2JqZWN0KHMpJiZmLnJlbW92ZURhdGEoYSxiLCEwKX19fSxjdXN0b21FdmVudDp7Z2V0RGF0YTohMCxzZXREYXRhOiEwLGNoYW5nZURhdGE6ITB9LHRyaWdnZXI6ZnVuY3Rpb24oYyxkLGUsZyl7dmFyIGg9Yy50eXBlfHxjLGk9W10sajtoLmluZGV4T2YoIiEiKT49MCYmKGg9aC5zbGljZSgwLC0xKSxqPSEwKSxoLmluZGV4T2YoIi4iKT49MCYmKGk9aC5zcGxpdCgiLiIpLGg9aS5zaGlmdCgpLGkuc29ydCgpKTtpZighIWUmJiFmLmV2ZW50LmN1c3RvbUV2ZW50W2hdfHwhIWYuZXZlbnQuZ2xvYmFsW2hdKXtjPXR5cGVvZiBjPT0ib2JqZWN0Ij9jW2YuZXhwYW5kb10/YzpuZXcgZi5FdmVudChoLGMpOm5ldyBmLkV2ZW50KGgpLGMudHlwZT1oLGMuZXhjbHVzaXZlPWosYy5uYW1lc3BhY2U9aS5qb2luKCIuIiksYy5uYW1lc3BhY2VfcmU9bmV3IFJlZ0V4cCgiKF58XFwuKSIraS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKTtpZihnfHwhZSljLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKTtpZighZSl7Zi5lYWNoKGYuY2FjaGUsZnVuY3Rpb24oKXt2YXIgYT1mLmV4cGFuZG8sYj10aGlzW2FdO2ImJmIuZXZlbnRzJiZiLmV2ZW50c1toXSYmZi5ldmVudC50cmlnZ2VyKGMsZCxiLmhhbmRsZS5lbGVtKX0pO3JldHVybn1pZihlLm5vZGVUeXBlPT09M3x8ZS5ub2RlVHlwZT09PTgpcmV0dXJuO2MucmVzdWx0PWIsYy50YXJnZXQ9ZSxkPWQ/Zi5tYWtlQXJyYXkoZCk6W10sZC51bnNoaWZ0KGMpO3ZhciBrPWUsbD1oLmluZGV4T2YoIjoiKTwwPyJvbiIraDoiIjtkb3t2YXIgbT1mLl9kYXRhKGssImhhbmRsZSIpO2MuY3VycmVudFRhcmdldD1rLG0mJm0uYXBwbHkoayxkKSxsJiZmLmFjY2VwdERhdGEoaykmJmtbbF0mJmtbbF0uYXBwbHkoayxkKT09PSExJiYoYy5yZXN1bHQ9ITEsYy5wcmV2ZW50RGVmYXVsdCgpKSxrPWsucGFyZW50Tm9kZXx8ay5vd25lckRvY3VtZW50fHxrPT09Yy50YXJnZXQub3duZXJEb2N1bWVudCYmYX13aGlsZShrJiYhYy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKTtpZighYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIG4sbz1mLmV2ZW50LnNwZWNpYWxbaF18fHt9O2lmKCghby5fZGVmYXVsdHx8by5fZGVmYXVsdC5jYWxsKGUub3duZXJEb2N1bWVudCxjKT09PSExKSYmKGghPT0iY2xpY2sifHwhZi5ub2RlTmFtZShlLCJhIikpJiZmLmFjY2VwdERhdGEoZSkpe3RyeXtsJiZlW2hdJiYobj1lW2xdLG4mJihlW2xdPW51bGwpLGYuZXZlbnQudHJpZ2dlcmVkPWgsZVtoXSgpKX1jYXRjaChwKXt9biYmKGVbbF09biksZi5ldmVudC50cmlnZ2VyZWQ9Yn19cmV0dXJuIGMucmVzdWx0fX0saGFuZGxlOmZ1bmN0aW9uKGMpe2M9Zi5ldmVudC5maXgoY3x8YS5ldmVudCk7dmFyIGQ9KChmLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYy50eXBlXXx8W10pLnNsaWNlKDApLGU9IWMuZXhjbHVzaXZlJiYhYy5uYW1lc3BhY2UsZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Z1swXT1jLGMuY3VycmVudFRhcmdldD10aGlzO2Zvcih2YXIgaD0wLGk9ZC5sZW5ndGg7aDxpO2grKyl7dmFyIGo9ZFtoXTtpZihlfHxjLm5hbWVzcGFjZV9yZS50ZXN0KGoubmFtZXNwYWNlKSl7Yy5oYW5kbGVyPWouaGFuZGxlcixjLmRhdGE9ai5kYXRhLGMuaGFuZGxlT2JqPWo7dmFyIGs9ai5oYW5kbGVyLmFwcGx5KHRoaXMsZyk7ayE9PWImJihjLnJlc3VsdD1rLGs9PT0hMSYmKGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpKSk7aWYoYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX1yZXR1cm4gYy5yZXN1bHR9LHByb3BzOiJhbHRLZXkgYXR0ckNoYW5nZSBhdHRyTmFtZSBidWJibGVzIGJ1dHRvbiBjYW5jZWxhYmxlIGNoYXJDb2RlIGNsaWVudFggY2xpZW50WSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZGF0YSBkZXRhaWwgZXZlbnRQaGFzZSBmcm9tRWxlbWVudCBoYW5kbGVyIGtleUNvZGUgbGF5ZXJYIGxheWVyWSBtZXRhS2V5IG5ld1ZhbHVlIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBwcmV2VmFsdWUgcmVsYXRlZE5vZGUgcmVsYXRlZFRhcmdldCBzY3JlZW5YIHNjcmVlblkgc2hpZnRLZXkgc3JjRWxlbWVudCB0YXJnZXQgdG9FbGVtZW50IHZpZXcgd2hlZWxEZWx0YSB3aGljaCIuc3BsaXQoIiAiKSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtmLmV4cGFuZG9dKXJldHVybiBhO3ZhciBkPWE7YT1mLkV2ZW50KGQpO2Zvcih2YXIgZT10aGlzLnByb3BzLmxlbmd0aCxnO2U7KWc9dGhpcy5wcm9wc1stLWVdLGFbZ109ZFtnXTthLnRhcmdldHx8KGEudGFyZ2V0PWEuc3JjRWxlbWVudHx8YyksYS50YXJnZXQubm9kZVR5cGU9PT0zJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksIWEucmVsYXRlZFRhcmdldCYmYS5mcm9tRWxlbWVudCYmKGEucmVsYXRlZFRhcmdldD1hLmZyb21FbGVtZW50PT09YS50YXJnZXQ/YS50b0VsZW1lbnQ6YS5mcm9tRWxlbWVudCk7aWYoYS5wYWdlWD09bnVsbCYmYS5jbGllbnRYIT1udWxsKXt2YXIgaD1hLnRhcmdldC5vd25lckRvY3VtZW50fHxjLGk9aC5kb2N1bWVudEVsZW1lbnQsaj1oLmJvZHk7YS5wYWdlWD1hLmNsaWVudFgrKGkmJmkuc2Nyb2xsTGVmdHx8aiYmai5zY3JvbGxMZWZ0fHwwKS0oaSYmaS5jbGllbnRMZWZ0fHxqJiZqLmNsaWVudExlZnR8fDApLGEucGFnZVk9YS5jbGllbnRZKyhpJiZpLnNjcm9sbFRvcHx8aiYmai5zY3JvbGxUb3B8fDApLShpJiZpLmNsaWVudFRvcHx8aiYmai5jbGllbnRUb3B8fDApfWEud2hpY2g9PW51bGwmJihhLmNoYXJDb2RlIT1udWxsfHxhLmtleUNvZGUhPW51bGwpJiYoYS53aGljaD1hLmNoYXJDb2RlIT1udWxsP2EuY2hhckNvZGU6YS5rZXlDb2RlKSwhYS5tZXRhS2V5JiZhLmN0cmxLZXkmJihhLm1ldGFLZXk9YS5jdHJsS2V5KSwhYS53aGljaCYmYS5idXR0b24hPT1iJiYoYS53aGljaD1hLmJ1dHRvbiYxPzE6YS5idXR0b24mMj8zOmEuYnV0dG9uJjQ/MjowKTtyZXR1cm4gYX0sZ3VpZDoxZTgscHJveHk6Zi5wcm94eSxzcGVjaWFsOntyZWFkeTp7c2V0dXA6Zi5iaW5kUmVhZHksdGVhcmRvd246Zi5ub29wfSxsaXZlOnthZGQ6ZnVuY3Rpb24oYSl7Zi5ldmVudC5hZGQodGhpcyxOKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksZi5leHRlbmQoe30sYSx7aGFuZGxlcjpNLGd1aWQ6YS5oYW5kbGVyLmd1aWR9KSl9LHJlbW92ZTpmdW5jdGlvbihhKXtmLmV2ZW50LnJlbW92ZSh0aGlzLE4oYS5vcmlnVHlwZSxhLnNlbGVjdG9yKSxhKX19LGJlZm9yZXVubG9hZDp7c2V0dXA6ZnVuY3Rpb24oYSxiLGMpe2YuaXNXaW5kb3codGhpcykmJih0aGlzLm9uYmVmb3JldW5sb2FkPWMpfSx0ZWFyZG93bjpmdW5jdGlvbihhLGIpe3RoaXMub25iZWZvcmV1bmxvYWQ9PT1iJiYodGhpcy5vbmJlZm9yZXVubG9hZD1udWxsKX19fX0sZi5yZW1vdmVFdmVudD1jLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXthLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYixjKX0sZi5FdmVudD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLnByZXZlbnREZWZhdWx0KXJldHVybiBuZXcgZi5FdmVudChhLGIpO2EmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fGEucmV0dXJuVmFsdWU9PT0hMXx8YS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP0U6RCk6dGhpcy50eXBlPWEsYiYmZi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1mLm5vdygpLHRoaXNbZi5leHBhbmRvXT0hMH0sZi5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9RTt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7IWF8fChhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1FO3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDshYXx8KGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1FLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LGlzRGVmYXVsdFByZXZlbnRlZDpELGlzUHJvcGFnYXRpb25TdG9wcGVkOkQsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6RH07dmFyIEY9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZWxhdGVkVGFyZ2V0O3RyeXtpZihiJiZiIT09YyYmIWIucGFyZW50Tm9kZSlyZXR1cm47d2hpbGUoYiYmYiE9PXRoaXMpYj1iLnBhcmVudE5vZGU7YiE9PXRoaXMmJihhLnR5cGU9YS5kYXRhLGYuZXZlbnQuaGFuZGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9Y2F0Y2goZCl7fX0sRz1mdW5jdGlvbihhKXthLnR5cGU9YS5kYXRhLGYuZXZlbnQuaGFuZGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Zi5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oYSxiKXtmLmV2ZW50LnNwZWNpYWxbYV09e3NldHVwOmZ1bmN0aW9uKGMpe2YuZXZlbnQuYWRkKHRoaXMsYixjJiZjLnNlbGVjdG9yP0c6RixhKX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcyxiLGEmJmEuc2VsZWN0b3I/RzpGKX19fSksZi5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbihhLGIpe2lmKCFmLm5vZGVOYW1lKHRoaXMsImZvcm0iKSlmLmV2ZW50LmFkZCh0aGlzLCJjbGljay5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJzdWJtaXQifHxjPT09ImltYWdlIikmJmYoYikuY2xvc2VzdCgiZm9ybSIpLmxlbmd0aCYmSygic3VibWl0Iix0aGlzLGFyZ3VtZW50cyl9KSxmLmV2ZW50LmFkZCh0aGlzLCJrZXlwcmVzcy5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJ0ZXh0Inx8Yz09PSJwYXNzd29yZCIpJiZmKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJmEua2V5Q29kZT09PTEzJiZLKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX0pO2Vsc2UgcmV0dXJuITF9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsIi5zcGVjaWFsU3VibWl0Iil9fSk7aWYoIWYuc3VwcG9ydC5jaGFuZ2VCdWJibGVzKXt2YXIgSCxJPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZSxjPWEudmFsdWU7Yj09PSJyYWRpbyJ8fGI9PT0iY2hlY2tib3giP2M9YS5jaGVja2VkOmI9PT0ic2VsZWN0LW11bHRpcGxlIj9jPWEuc2VsZWN0ZWRJbmRleD4tMT9mLm1hcChhLm9wdGlvbnMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWR9KS5qb2luKCItIik6IiI6Zi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGM9YS5zZWxlY3RlZEluZGV4KTtyZXR1cm4gY30sSj1mdW5jdGlvbiBKKGEpe3ZhciBjPWEudGFyZ2V0LGQsZTtpZighIXkudGVzdChjLm5vZGVOYW1lKSYmIWMucmVhZE9ubHkpe2Q9Zi5fZGF0YShjLCJfY2hhbmdlX2RhdGEiKSxlPUkoYyksKGEudHlwZSE9PSJmb2N1c291dCJ8fGMudHlwZSE9PSJyYWRpbyIpJiZmLl9kYXRhKGMsIl9jaGFuZ2VfZGF0YSIsZSk7aWYoZD09PWJ8fGU9PT1kKXJldHVybjtpZihkIT1udWxsfHxlKWEudHlwZT0iY2hhbmdlIixhLmxpdmVGaXJlZD1iLGYuZXZlbnQudHJpZ2dlcihhLGFyZ3VtZW50c1sxXSxjKX19O2YuZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e2ZpbHRlcnM6e2ZvY3Vzb3V0OkosYmVmb3JlZGVhY3RpdmF0ZTpKLGNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Zi5ub2RlTmFtZShiLCJpbnB1dCIpP2IudHlwZToiIjsoYz09PSJyYWRpbyJ8fGM9PT0iY2hlY2tib3gifHxmLm5vZGVOYW1lKGIsInNlbGVjdCIpKSYmSi5jYWxsKHRoaXMsYSl9LGtleWRvd246ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1mLm5vZGVOYW1lKGIsImlucHV0Iik/Yi50eXBlOiIiOyhhLmtleUNvZGU9PT0xMyYmIWYubm9kZU5hbWUoYiwidGV4dGFyZWEiKXx8YS5rZXlDb2RlPT09MzImJihjPT09ImNoZWNrYm94Inx8Yz09PSJyYWRpbyIpfHxjPT09InNlbGVjdC1tdWx0aXBsZSIpJiZKLmNhbGwodGhpcyxhKX0sYmVmb3JlYWN0aXZhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7Zi5fZGF0YShiLCJfY2hhbmdlX2RhdGEiLEkoYikpfX0sc2V0dXA6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnR5cGU9PT0iZmlsZSIpcmV0dXJuITE7Zm9yKHZhciBjIGluIEgpZi5ldmVudC5hZGQodGhpcyxjKyIuc3BlY2lhbENoYW5nZSIsSFtjXSk7cmV0dXJuIHkudGVzdCh0aGlzLm5vZGVOYW1lKX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxDaGFuZ2UiKTtyZXR1cm4geS50ZXN0KHRoaXMubm9kZU5hbWUpfX0sSD1mLmV2ZW50LnNwZWNpYWwuY2hhbmdlLmZpbHRlcnMsSC5mb2N1cz1ILmJlZm9yZWFjdGl2YXRlfWYuc3VwcG9ydC5mb2N1c2luQnViYmxlc3x8Zi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGUoYSl7dmFyIGM9Zi5ldmVudC5maXgoYSk7Yy50eXBlPWIsYy5vcmlnaW5hbEV2ZW50PXt9LGYuZXZlbnQudHJpZ2dlcihjLG51bGwsYy50YXJnZXQpLGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmEucHJldmVudERlZmF1bHQoKX12YXIgZD0wO2YuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXtkKys9PT0wJiZjLmFkZEV2ZW50TGlzdGVuZXIoYSxlLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLWQ9PT0wJiZjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxlLCEwKX19fSksZi5lYWNoKFsiYmluZCIsIm9uZSJdLGZ1bmN0aW9uKGEsYyl7Zi5mbltjXT1mdW5jdGlvbihhLGQsZSl7dmFyIGc7aWYodHlwZW9mIGE9PSJvYmplY3QiKXtmb3IodmFyIGggaW4gYSl0aGlzW2NdKGgsZCxhW2hdLGUpO3JldHVybiB0aGlzfWlmKGFyZ3VtZW50cy5sZW5ndGg9PT0yfHxkPT09ITEpZT1kLGQ9YjtjPT09Im9uZSI/KGc9ZnVuY3Rpb24oYSl7Zih0aGlzKS51bmJpbmQoYSxnKTtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGcuZ3VpZD1lLmd1aWR8fGYuZ3VpZCsrKTpnPWU7aWYoYT09PSJ1bmxvYWQiJiZjIT09Im9uZSIpdGhpcy5vbmUoYSxkLGUpO2Vsc2UgZm9yKHZhciBpPTAsaj10aGlzLmxlbmd0aDtpPGo7aSsrKWYuZXZlbnQuYWRkKHRoaXNbaV0sYSxnLGQpO3JldHVybiB0aGlzfX0pLGYuZm4uZXh0ZW5kKHt1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYT09Im9iamVjdCImJiFhLnByZXZlbnREZWZhdWx0KWZvcih2YXIgYyBpbiBhKXRoaXMudW5iaW5kKGMsYVtjXSk7ZWxzZSBmb3IodmFyIGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspZi5ldmVudC5yZW1vdmUodGhpc1tkXSxhLGIpO3JldHVybiB0aGlzfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5saXZlKGIsYyxkLGEpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy51bmJpbmQoImxpdmUiKTp0aGlzLmRpZShiLG51bGwsYyxhKX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7aWYodGhpc1swXSlyZXR1cm4gZi5ldmVudC50cmlnZ2VyKGEsYix0aGlzWzBdLCEwKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cyxjPWEuZ3VpZHx8Zi5ndWlkKyssZD0wLGU9ZnVuY3Rpb24oYyl7dmFyIGU9KGYuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQpfHwwKSVkO2YuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQsZSsxKSxjLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGJbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwhMX07ZS5ndWlkPWM7d2hpbGUoZDxiLmxlbmd0aCliW2QrK10uZ3VpZD1jO3JldHVybiB0aGlzLmNsaWNrKGUpfSxob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KTt2YXIgTD17Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0Iixtb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In07Zi5lYWNoKFsibGl2ZSIsImRpZSJdLGZ1bmN0aW9uKGEsYyl7Zi5mbltjXT1mdW5jdGlvbihhLGQsZSxnKXt2YXIgaCxpPTAsaixrLGwsbT1nfHx0aGlzLnNlbGVjdG9yLG49Zz90aGlzOmYodGhpcy5jb250ZXh0KTtpZih0eXBlb2YgYT09Im9iamVjdCImJiFhLnByZXZlbnREZWZhdWx0KXtmb3IodmFyIG8gaW4gYSluW2NdKG8sZCxhW29dLG0pO3JldHVybiB0aGlzfWlmKGM9PT0iZGllIiYmIWEmJmcmJmcuY2hhckF0KDApPT09Ii4iKXtuLnVuYmluZChnKTtyZXR1cm4gdGhpc31pZihkPT09ITF8fGYuaXNGdW5jdGlvbihkKSllPWR8fEQsZD1iO2E9KGF8fCIiKS5zcGxpdCgiICIpO3doaWxlKChoPWFbaSsrXSkhPW51bGwpe2o9eC5leGVjKGgpLGs9IiIsaiYmKGs9alswXSxoPWgucmVwbGFjZSh4LCIiKSk7aWYoaD09PSJob3ZlciIpe2EucHVzaCgibW91c2VlbnRlciIraywibW91c2VsZWF2ZSIrayk7Y29udGludWV9bD1oLExbaF0/KGEucHVzaChMW2hdK2spLGg9aCtrKTpoPShMW2hdfHxoKStrO2lmKGM9PT0ibGl2ZSIpZm9yKHZhciBwPTAscT1uLmxlbmd0aDtwPHE7cCsrKWYuZXZlbnQuYWRkKG5bcF0sImxpdmUuIitOKGgsbSkse2RhdGE6ZCxzZWxlY3RvcjptLGhhbmRsZXI6ZSxvcmlnVHlwZTpoLG9yaWdIYW5kbGVyOmUscHJlVHlwZTpsfSk7ZWxzZSBuLnVuYmluZCgibGl2ZS4iK04oaCxtKSxlKX1yZXR1cm4gdGhpc319KSxmLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtmLmZuW2JdPWZ1bmN0aW9uKGEsYyl7Yz09bnVsbCYmKGM9YSxhPW51bGwpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5iaW5kKGIsYSxjKTp0aGlzLnRyaWdnZXIoYil9LGYuYXR0ckZuJiYoZi5hdHRyRm5bYl09ITApfSksZnVuY3Rpb24oKXtmdW5jdGlvbiB1KGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspe3ZhciBpPWRbZ107aWYoaSl7dmFyIGo9ITE7aT1pW2FdO3doaWxlKGkpe2lmKGkuc2l6Y2FjaGU9PT1jKXtqPWRbaS5zaXpzZXRdO2JyZWFrfWlmKGkubm9kZVR5cGU9PT0xKXtmfHwoaS5zaXpjYWNoZT1jLGkuc2l6c2V0PWcpO2lmKHR5cGVvZiBiIT0ic3RyaW5nIil7aWYoaT09PWIpe2o9ITA7YnJlYWt9fWVsc2UgaWYoay5maWx0ZXIoYixbaV0pLmxlbmd0aD4wKXtqPWk7YnJlYWt9fWk9aVthXX1kW2ddPWp9fX1mdW5jdGlvbiB0KGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspe3ZhciBpPWRbZ107aWYoaSl7dmFyIGo9ITE7aT1pW2FdO3doaWxlKGkpe2lmKGkuc2l6Y2FjaGU9PT1jKXtqPWRbaS5zaXpzZXRdO2JyZWFrfWkubm9kZVR5cGU9PT0xJiYhZiYmKGkuc2l6Y2FjaGU9YyxpLnNpenNldD1nKTtpZihpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iKXtqPWk7YnJlYWt9aT1pW2FdfWRbZ109an19fXZhciBhPS8oKD86XCgoPzpcKFteKCldK1wpfFteKCldKykrXCl8XFsoPzpcW1teXFtcXV0qXF18WyciXVteJyJdKlsnIl18W15cW1xdJyJdKykrXF18XFwufFteID4rfiwoXFtcXF0rKSt8Wz4rfl0pKFxzKixccyopPygoPzoufFxyfFxuKSopL2csZD0wLGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxnPSExLGg9ITAsaT0vXFwvZyxqPS9cVy87WzAsMF0uc29ydChmdW5jdGlvbigpe2g9ITE7cmV0dXJuIDB9KTt2YXIgaz1mdW5jdGlvbihiLGQsZixnKXtmPWZ8fFtdLGQ9ZHx8Yzt2YXIgaD1kO2lmKGQubm9kZVR5cGUhPT0xJiZkLm5vZGVUeXBlIT09OSlyZXR1cm5bXTtpZighYnx8dHlwZW9mIGIhPSJzdHJpbmciKXJldHVybiBmO3ZhciBpLGosbixvLHEscixzLHQsdT0hMCx3PWsuaXNYTUwoZCkseD1bXSx5PWI7ZG97YS5leGVjKCIiKSxpPWEuZXhlYyh5KTtpZihpKXt5PWlbM10seC5wdXNoKGlbMV0pO2lmKGlbMl0pe289aVszXTticmVha319fXdoaWxlKGkpO2lmKHgubGVuZ3RoPjEmJm0uZXhlYyhiKSlpZih4Lmxlbmd0aD09PTImJmwucmVsYXRpdmVbeFswXV0paj12KHhbMF0reFsxXSxkKTtlbHNle2o9bC5yZWxhdGl2ZVt4WzBdXT9bZF06ayh4LnNoaWZ0KCksZCk7d2hpbGUoeC5sZW5ndGgpYj14LnNoaWZ0KCksbC5yZWxhdGl2ZVtiXSYmKGIrPXguc2hpZnQoKSksaj12KGIsail9ZWxzZXshZyYmeC5sZW5ndGg+MSYmZC5ub2RlVHlwZT09PTkmJiF3JiZsLm1hdGNoLklELnRlc3QoeFswXSkmJiFsLm1hdGNoLklELnRlc3QoeFt4Lmxlbmd0aC0xXSkmJihxPWsuZmluZCh4LnNoaWZ0KCksZCx3KSxkPXEuZXhwcj9rLmZpbHRlcihxLmV4cHIscS5zZXQpWzBdOnEuc2V0WzBdKTtpZihkKXtxPWc/e2V4cHI6eC5wb3AoKSxzZXQ6cChnKX06ay5maW5kKHgucG9wKCkseC5sZW5ndGg9PT0xJiYoeFswXT09PSJ+Inx8eFswXT09PSIrIikmJmQucGFyZW50Tm9kZT9kLnBhcmVudE5vZGU6ZCx3KSxqPXEuZXhwcj9rLmZpbHRlcihxLmV4cHIscS5zZXQpOnEuc2V0LHgubGVuZ3RoPjA/bj1wKGopOnU9ITE7d2hpbGUoeC5sZW5ndGgpcj14LnBvcCgpLHM9cixsLnJlbGF0aXZlW3JdP3M9eC5wb3AoKTpyPSIiLHM9PW51bGwmJihzPWQpLGwucmVsYXRpdmVbcl0obixzLHcpfWVsc2Ugbj14PVtdfW58fChuPWopLG58fGsuZXJyb3Iocnx8Yik7aWYoZS5jYWxsKG4pPT09IltvYmplY3QgQXJyYXldIilpZighdSlmLnB1c2guYXBwbHkoZixuKTtlbHNlIGlmKGQmJmQubm9kZVR5cGU9PT0xKWZvcih0PTA7blt0XSE9bnVsbDt0Kyspblt0XSYmKG5bdF09PT0hMHx8blt0XS5ub2RlVHlwZT09PTEmJmsuY29udGFpbnMoZCxuW3RdKSkmJmYucHVzaChqW3RdKTtlbHNlIGZvcih0PTA7blt0XSE9bnVsbDt0Kyspblt0XSYmblt0XS5ub2RlVHlwZT09PTEmJmYucHVzaChqW3RdKTtlbHNlIHAobixmKTtvJiYoayhvLGgsZixnKSxrLnVuaXF1ZVNvcnQoZikpO3JldHVybiBmfTtrLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7aWYocil7Zz1oLGEuc29ydChyKTtpZihnKWZvcih2YXIgYj0xO2I8YS5sZW5ndGg7YisrKWFbYl09PT1hW2ItMV0mJmEuc3BsaWNlKGItLSwxKX1yZXR1cm4gYX0say5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGsoYSxudWxsLG51bGwsYil9LGsubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGsoYixudWxsLG51bGwsW2FdKS5sZW5ndGg+MH0say5maW5kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZighYSlyZXR1cm5bXTtmb3IodmFyIGU9MCxmPWwub3JkZXIubGVuZ3RoO2U8ZjtlKyspe3ZhciBnLGg9bC5vcmRlcltlXTtpZihnPWwubGVmdE1hdGNoW2hdLmV4ZWMoYSkpe3ZhciBqPWdbMV07Zy5zcGxpY2UoMSwxKTtpZihqLnN1YnN0cihqLmxlbmd0aC0xKSE9PSJcXCIpe2dbMV09KGdbMV18fCIiKS5yZXBsYWNlKGksIiIpLGQ9bC5maW5kW2hdKGcsYixjKTtpZihkIT1udWxsKXthPWEucmVwbGFjZShsLm1hdGNoW2hdLCIiKTticmVha319fX1kfHwoZD10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCI/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOltdKTtyZXR1cm57c2V0OmQsZXhwcjphfX0say5maWx0ZXI9ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGYsZyxoPWEsaT1bXSxqPWMsbT1jJiZjWzBdJiZrLmlzWE1MKGNbMF0pO3doaWxlKGEmJmMubGVuZ3RoKXtmb3IodmFyIG4gaW4gbC5maWx0ZXIpaWYoKGY9bC5sZWZ0TWF0Y2hbbl0uZXhlYyhhKSkhPW51bGwmJmZbMl0pe3ZhciBvLHAscT1sLmZpbHRlcltuXSxyPWZbMV07Zz0hMSxmLnNwbGljZSgxLDEpO2lmKHIuc3Vic3RyKHIubGVuZ3RoLTEpPT09IlxcIiljb250aW51ZTtqPT09aSYmKGk9W10pO2lmKGwucHJlRmlsdGVyW25dKXtmPWwucHJlRmlsdGVyW25dKGYsaixkLGksZSxtKTtpZighZilnPW89ITA7ZWxzZSBpZihmPT09ITApY29udGludWV9aWYoZilmb3IodmFyIHM9MDsocD1qW3NdKSE9bnVsbDtzKyspaWYocCl7bz1xKHAsZixzLGopO3ZhciB0PWVeISFvO2QmJm8hPW51bGw/dD9nPSEwOmpbc109ITE6dCYmKGkucHVzaChwKSxnPSEwKX1pZihvIT09Yil7ZHx8KGo9aSksYT1hLnJlcGxhY2UobC5tYXRjaFtuXSwiIik7aWYoIWcpcmV0dXJuW107YnJlYWt9fWlmKGE9PT1oKWlmKGc9PW51bGwpay5lcnJvcihhKTtlbHNlIGJyZWFrO2g9YX1yZXR1cm4gan0say5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2F9O3ZhciBsPWsuc2VsZWN0b3JzPXtvcmRlcjpbIklEIiwiTkFNRSIsIlRBRyJdLG1hdGNoOntJRDovIygoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKS8sQ0xBU1M6L1wuKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxOQU1FOi9cW25hbWU9WyciXSooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKylbJyJdKlxdLyxBVFRSOi9cW1xzKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVxzKig/OihcUz89KVxzKig/OihbJyJdKSguKj8pXDN8KCM/KD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKil8KXwpXHMqXF0vLFRBRzovXigoPzpbXHdcdTAwYzAtXHVGRkZGXCpcLV18XFwuKSspLyxDSElMRDovOihvbmx5fG50aHxsYXN0fGZpcnN0KS1jaGlsZCg/OlwoXHMqKGV2ZW58b2RkfCg/OlsrXC1dP1xkK3woPzpbK1wtXT9cZCopP25ccyooPzpbK1wtXVxzKlxkKyk/KSlccypcKSk/LyxQT1M6LzoobnRofGVxfGd0fGx0fGZpcnN0fGxhc3R8ZXZlbnxvZGQpKD86XCgoXGQqKVwpKT8oPz1bXlwtXXwkKS8sUFNFVURPOi86KCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspKD86XCgoWyciXT8pKCg/OlwoW15cKV0rXCl8W15cKFwpXSopKylcMlwpKT8vfSxsZWZ0TWF0Y2g6e30sYXR0ck1hcDp7ImNsYXNzIjoiY2xhc3NOYW1lIiwiZm9yIjoiaHRtbEZvciJ9LGF0dHJIYW5kbGU6e2hyZWY6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIil9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJ0eXBlIil9fSxyZWxhdGl2ZTp7IisiOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGI9PSJzdHJpbmciLGQ9YyYmIWoudGVzdChiKSxlPWMmJiFkO2QmJihiPWIudG9Mb3dlckNhc2UoKSk7Zm9yKHZhciBmPTAsZz1hLmxlbmd0aCxoO2Y8ZztmKyspaWYoaD1hW2ZdKXt3aGlsZSgoaD1oLnByZXZpb3VzU2libGluZykmJmgubm9kZVR5cGUhPT0xKTthW2ZdPWV8fGgmJmgubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWI/aHx8ITE6aD09PWJ9ZSYmay5maWx0ZXIoYixhLCEwKX0sIj4iOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD10eXBlb2YgYj09InN0cmluZyIsZT0wLGY9YS5sZW5ndGg7aWYoZCYmIWoudGVzdChiKSl7Yj1iLnRvTG93ZXJDYXNlKCk7Zm9yKDtlPGY7ZSsrKXtjPWFbZV07aWYoYyl7dmFyIGc9Yy5wYXJlbnROb2RlO2FbZV09Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yj9nOiExfX19ZWxzZXtmb3IoO2U8ZjtlKyspYz1hW2VdLGMmJihhW2VdPWQ/Yy5wYXJlbnROb2RlOmMucGFyZW50Tm9kZT09PWIpO2QmJmsuZmlsdGVyKGIsYSwhMCl9fSwiIjpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZj1kKyssZz11O3R5cGVvZiBiPT0ic3RyaW5nIiYmIWoudGVzdChiKSYmKGI9Yi50b0xvd2VyQ2FzZSgpLGU9YixnPXQpLGcoInBhcmVudE5vZGUiLGIsZixhLGUsYyl9LCJ+IjpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZj1kKyssZz11O3R5cGVvZiBiPT0ic3RyaW5nIiYmIWoudGVzdChiKSYmKGI9Yi50b0xvd2VyQ2FzZSgpLGU9YixnPXQpLGcoInByZXZpb3VzU2libGluZyIsYixmLGEsZSxjKX19LGZpbmQ6e0lEOmZ1bmN0aW9uKGEsYixjKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50QnlJZCE9InVuZGVmaW5lZCImJiFjKXt2YXIgZD1iLmdldEVsZW1lbnRCeUlkKGFbMV0pO3JldHVybiBkJiZkLnBhcmVudE5vZGU/W2RdOltdfX0sTkFNRTpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlOYW1lIT0idW5kZWZpbmVkIil7dmFyIGM9W10sZD1iLmdldEVsZW1lbnRzQnlOYW1lKGFbMV0pO2Zvcih2YXIgZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKylkW2VdLmdldEF0dHJpYnV0ZSgibmFtZSIpPT09YVsxXSYmYy5wdXNoKGRbZV0pO3JldHVybiBjLmxlbmd0aD09PTA/bnVsbDpjfX0sVEFHOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiKXJldHVybiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFbMV0pfX0scHJlRmlsdGVyOntDTEFTUzpmdW5jdGlvbihhLGIsYyxkLGUsZil7YT0iICIrYVsxXS5yZXBsYWNlKGksIiIpKyIgIjtpZihmKXJldHVybiBhO2Zvcih2YXIgZz0wLGg7KGg9YltnXSkhPW51bGw7ZysrKWgmJihlXihoLmNsYXNzTmFtZSYmKCIgIitoLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoL1tcdFxuXHJdL2csIiAiKS5pbmRleE9mKGEpPj0wKT9jfHxkLnB1c2goaCk6YyYmKGJbZ109ITEpKTtyZXR1cm4hMX0sSUQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV0ucmVwbGFjZShpLCIiKX0sVEFHOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMV0ucmVwbGFjZShpLCIiKS50b0xvd2VyQ2FzZSgpfSxDSElMRDpmdW5jdGlvbihhKXtpZihhWzFdPT09Im50aCIpe2FbMl18fGsuZXJyb3IoYVswXSksYVsyXT1hWzJdLnJlcGxhY2UoL15cK3xccyovZywiIik7dmFyIGI9LygtPykoXGQqKSg/Om4oWytcLV0/XGQqKSk/Ly5leGVjKGFbMl09PT0iZXZlbiImJiIybiJ8fGFbMl09PT0ib2RkIiYmIjJuKzEifHwhL1xELy50ZXN0KGFbMl0pJiYiMG4rIithWzJdfHxhWzJdKTthWzJdPWJbMV0rKGJbMl18fDEpLTAsYVszXT1iWzNdLTB9ZWxzZSBhWzJdJiZrLmVycm9yKGFbMF0pO2FbMF09ZCsrO3JldHVybiBhfSxBVFRSOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hWzFdPWFbMV0ucmVwbGFjZShpLCIiKTshZiYmbC5hdHRyTWFwW2ddJiYoYVsxXT1sLmF0dHJNYXBbZ10pLGFbNF09KGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGksIiIpLGFbMl09PT0ifj0iJiYoYVs0XT0iICIrYVs0XSsiICIpO3JldHVybiBhfSxQU0VVRE86ZnVuY3Rpb24oYixjLGQsZSxmKXtpZihiWzFdPT09Im5vdCIpaWYoKGEuZXhlYyhiWzNdKXx8IiIpLmxlbmd0aD4xfHwvXlx3Ly50ZXN0KGJbM10pKWJbM109ayhiWzNdLG51bGwsbnVsbCxjKTtlbHNle3ZhciBnPWsuZmlsdGVyKGJbM10sYyxkLCEwXmYpO2R8fGUucHVzaC5hcHBseShlLGcpO3JldHVybiExfWVsc2UgaWYobC5tYXRjaC5QT1MudGVzdChiWzBdKXx8bC5tYXRjaC5DSElMRC50ZXN0KGJbMF0pKXJldHVybiEwO3JldHVybiBifSxQT1M6ZnVuY3Rpb24oYSl7YS51bnNoaWZ0KCEwKTtyZXR1cm4gYX19LGZpbHRlcnM6e2VuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMSYmYS50eXBlIT09ImhpZGRlbiJ9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hlY2tlZD09PSEwfSxzZWxlY3RlZDpmdW5jdGlvbihhKXthLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O3JldHVybiBhLnNlbGVjdGVkPT09ITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hIWEuZmlyc3RDaGlsZH0sZW1wdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZmlyc3RDaGlsZH0saGFzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4hIWsoY1szXSxhKS5sZW5ndGh9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4vaFxkL2kudGVzdChhLm5vZGVOYW1lKX0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpLGM9YS50eXBlO3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYidGV4dCI9PT1jJiYoYj09PWN8fGI9PT1udWxsKX0scmFkaW86ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJyYWRpbyI9PT1hLnR5cGV9LGNoZWNrYm94OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYiY2hlY2tib3giPT09YS50eXBlfSxmaWxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYiZmlsZSI9PT1hLnR5cGV9LHBhc3N3b3JkOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYicGFzc3dvcmQiPT09YS50eXBlfSxzdWJtaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihiPT09ImlucHV0Inx8Yj09PSJidXR0b24iKSYmInN1Ym1pdCI9PT1hLnR5cGV9LGltYWdlOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYiaW1hZ2UiPT09YS50eXBlfSxyZXNldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInJlc2V0Ij09PWEudHlwZX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYj09PSJpbnB1dCImJiJidXR0b24iPT09YS50eXBlfHxiPT09ImJ1dHRvbiJ9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChhLm5vZGVOYW1lKX0sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PT0wfSxsYXN0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiPT09ZC5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihhLGIpe3JldHVybiBiJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MX0sbHQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPGNbM10tMH0sZ3Q6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPmNbM10tMH0sbnRoOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn0sZXE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjWzNdLTA9PT1ifX0sZmlsdGVyOntQU0VVRE86ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsxXSxmPWwuZmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpO2lmKGU9PT0iY29udGFpbnMiKXJldHVybihhLnRleHRDb250ZW50fHxhLmlubmVyVGV4dHx8ay5nZXRUZXh0KFthXSl8fCIiKS5pbmRleE9mKGJbM10pPj0wO2lmKGU9PT0ibm90Iil7dmFyIGc9YlszXTtmb3IodmFyIGg9MCxpPWcubGVuZ3RoO2g8aTtoKyspaWYoZ1toXT09PWEpcmV0dXJuITE7cmV0dXJuITB9ay5lcnJvcihlKX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iWzFdLGQ9YTtzd2l0Y2goYyl7Y2FzZSJvbmx5IjpjYXNlImZpcnN0Ijp3aGlsZShkPWQucHJldmlvdXNTaWJsaW5nKWlmKGQubm9kZVR5cGU9PT0xKXJldHVybiExO2lmKGM9PT0iZmlyc3QiKXJldHVybiEwO2Q9YTtjYXNlImxhc3QiOndoaWxlKGQ9ZC5uZXh0U2libGluZylpZihkLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtyZXR1cm4hMDtjYXNlIm50aCI6dmFyIGU9YlsyXSxmPWJbM107aWYoZT09PTEmJmY9PT0wKXJldHVybiEwO3ZhciBnPWJbMF0saD1hLnBhcmVudE5vZGU7aWYoaCYmKGguc2l6Y2FjaGUhPT1nfHwhYS5ub2RlSW5kZXgpKXt2YXIgaT0wO2ZvcihkPWguZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylkLm5vZGVUeXBlPT09MSYmKGQubm9kZUluZGV4PSsraSk7aC5zaXpjYWNoZT1nfXZhciBqPWEubm9kZUluZGV4LWY7cmV0dXJuIGU9PT0wP2o9PT0wOmolZT09PTAmJmovZT49MH19LElEOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09IioiJiZhLm5vZGVUeXBlPT09MXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn0sQ0xBU1M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIiAiKyhhLmNsYXNzTmFtZXx8YS5nZXRBdHRyaWJ1dGUoImNsYXNzIikpKyIgIikuaW5kZXhPZihiKT4tMX0sQVRUUjpmdW5jdGlvbihhLGIpe3ZhciBjPWJbMV0sZD1sLmF0dHJIYW5kbGVbY10/bC5hdHRySGFuZGxlW2NdKGEpOmFbY10hPW51bGw/YVtjXTphLmdldEF0dHJpYnV0ZShjKSxlPWQrIiIsZj1iWzJdLGc9Yls0XTtyZXR1cm4gZD09bnVsbD9mPT09IiE9IjpmPT09Ij0iP2U9PT1nOmY9PT0iKj0iP2UuaW5kZXhPZihnKT49MDpmPT09In49Ij8oIiAiK2UrIiAiKS5pbmRleE9mKGcpPj0wOmc/Zj09PSIhPSI/ZSE9PWc6Zj09PSJePSI/ZS5pbmRleE9mKGcpPT09MDpmPT09IiQ9Ij9lLnN1YnN0cihlLmxlbmd0aC1nLmxlbmd0aCk9PT1nOmY9PT0ifD0iP2U9PT1nfHxlLnN1YnN0cigwLGcubGVuZ3RoKzEpPT09ZysiLSI6ITE6ZSYmZCE9PSExfSxQT1M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsyXSxmPWwuc2V0RmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpfX19LG09bC5tYXRjaC5QT1Msbj1mdW5jdGlvbihhLGIpe3JldHVybiJcXCIrKGItMCsxKX07Zm9yKHZhciBvIGluIGwubWF0Y2gpbC5tYXRjaFtvXT1uZXcgUmVnRXhwKGwubWF0Y2hbb10uc291cmNlKy8oPyFbXlxbXSpcXSkoPyFbXlwoXSpcKSkvLnNvdXJjZSksbC5sZWZ0TWF0Y2hbb109bmV3IFJlZ0V4cCgvKF4oPzoufFxyfFxuKSo/KS8uc291cmNlK2wubWF0Y2hbb10uc291cmNlLnJlcGxhY2UoL1xcKFxkKykvZyxuKSk7dmFyIHA9ZnVuY3Rpb24oYSxiKXthPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsMCk7aWYoYil7Yi5wdXNoLmFwcGx5KGIsYSk7cmV0dXJuIGJ9cmV0dXJuIGF9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApWzBdLm5vZGVUeXBlfWNhdGNoKHEpe3A9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9Ynx8W107aWYoZS5jYWxsKGEpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLGEpO2Vsc2UgaWYodHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIilmb3IodmFyIGY9YS5sZW5ndGg7YzxmO2MrKylkLnB1c2goYVtjXSk7ZWxzZSBmb3IoO2FbY107YysrKWQucHVzaChhW2NdKTtyZXR1cm4gZH19dmFyIHIscztjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9yPWZ1bmN0aW9uKGEsYil7aWYoYT09PWIpe2c9ITA7cmV0dXJuIDB9aWYoIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb258fCFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPy0xOjE7cmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmND8tMToxfToocj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1bXSxmPVtdLGg9YS5wYXJlbnROb2RlLGk9Yi5wYXJlbnROb2RlLGo9aDtpZihhPT09Yil7Zz0hMDtyZXR1cm4gMH1pZihoPT09aSlyZXR1cm4gcyhhLGIpO2lmKCFoKXJldHVybi0xO2lmKCFpKXJldHVybiAxO3doaWxlKGopZS51bnNoaWZ0KGopLGo9ai5wYXJlbnROb2RlO2o9aTt3aGlsZShqKWYudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtjPWUubGVuZ3RoLGQ9Zi5sZW5ndGg7Zm9yKHZhciBrPTA7azxjJiZrPGQ7aysrKWlmKGVba10hPT1mW2tdKXJldHVybiBzKGVba10sZltrXSk7cmV0dXJuIGs9PT1jP3MoYSxmW2tdLC0xKTpzKGVba10sYiwxKX0scz1mdW5jdGlvbihhLGIsYyl7aWYoYT09PWIpcmV0dXJuIGM7dmFyIGQ9YS5uZXh0U2libGluZzt3aGlsZShkKXtpZihkPT09YilyZXR1cm4tMTtkPWQubmV4dFNpYmxpbmd9cmV0dXJuIDF9KSxrLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYztmb3IodmFyIGQ9MDthW2RdO2QrKyljPWFbZF0sYy5ub2RlVHlwZT09PTN8fGMubm9kZVR5cGU9PT00P2IrPWMubm9kZVZhbHVlOmMubm9kZVR5cGUhPT04JiYoYis9ay5nZXRUZXh0KGMuY2hpbGROb2RlcykpO3JldHVybiBifSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD0ic2NyaXB0IisobmV3IERhdGUpLmdldFRpbWUoKSxlPWMuZG9jdW1lbnRFbGVtZW50O2EuaW5uZXJIVE1MPSI8YSBuYW1lPSciK2QrIicvPiIsZS5pbnNlcnRCZWZvcmUoYSxlLmZpcnN0Q2hpbGQpLGMuZ2V0RWxlbWVudEJ5SWQoZCkmJihsLmZpbmQuSUQ9ZnVuY3Rpb24oYSxjLGQpe2lmKHR5cGVvZiBjLmdldEVsZW1lbnRCeUlkIT0idW5kZWZpbmVkIiYmIWQpe3ZhciBlPWMuZ2V0RWxlbWVudEJ5SWQoYVsxXSk7cmV0dXJuIGU/ZS5pZD09PWFbMV18fHR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUhPSJ1bmRlZmluZWQiJiZlLmdldEF0dHJpYnV0ZU5vZGUoImlkIikubm9kZVZhbHVlPT09YVsxXT9bZV06YjpbXX19LGwuZmlsdGVyLklEPWZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9InVuZGVmaW5lZCImJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYS5ub2RlVHlwZT09PTEmJmMmJmMubm9kZVZhbHVlPT09Yn0pLGUucmVtb3ZlQ2hpbGQoYSksZT1hPW51bGx9KCksZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuYXBwZW5kQ2hpbGQoYy5jcmVhdGVDb21tZW50KCIiKSksYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aD4wJiYobC5maW5kLlRBRz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYVsxXSk7aWYoYVsxXT09PSIqIil7dmFyIGQ9W107Zm9yKHZhciBlPTA7Y1tlXTtlKyspY1tlXS5ub2RlVHlwZT09PTEmJmQucHVzaChjW2VdKTtjPWR9cmV0dXJuIGN9KSxhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsYS5maXJzdENoaWxkJiZ0eXBlb2YgYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSE9InVuZGVmaW5lZCImJmEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKSE9PSIjIiYmKGwuYXR0ckhhbmRsZS5ocmVmPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaHJlZiIsMil9KSxhPW51bGx9KCksYy5xdWVyeVNlbGVjdG9yQWxsJiZmdW5jdGlvbigpe3ZhciBhPWssYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9Il9fc2l6emxlX18iO2IuaW5uZXJIVE1MPSI8cCBjbGFzcz0nVEVTVCc+PC9wPiI7aWYoIWIucXVlcnlTZWxlY3RvckFsbHx8Yi5xdWVyeVNlbGVjdG9yQWxsKCIuVEVTVCIpLmxlbmd0aCE9PTApe2s9ZnVuY3Rpb24oYixlLGYsZyl7ZT1lfHxjO2lmKCFnJiYhay5pc1hNTChlKSl7dmFyIGg9L14oXHcrJCl8XlwuKFtcd1wtXSskKXxeIyhbXHdcLV0rJCkvLmV4ZWMoYik7aWYoaCYmKGUubm9kZVR5cGU9PT0xfHxlLm5vZGVUeXBlPT09OSkpe2lmKGhbMV0pcmV0dXJuIHAoZS5nZXRFbGVtZW50c0J5VGFnTmFtZShiKSxmKTtpZihoWzJdJiZsLmZpbmQuQ0xBU1MmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gcChlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaFsyXSksZil9aWYoZS5ub2RlVHlwZT09PTkpe2lmKGI9PT0iYm9keSImJmUuYm9keSlyZXR1cm4gcChbZS5ib2R5XSxmKTtpZihoJiZoWzNdKXt2YXIgaT1lLmdldEVsZW1lbnRCeUlkKGhbM10pO2lmKCFpfHwhaS5wYXJlbnROb2RlKXJldHVybiBwKFtdLGYpO2lmKGkuaWQ9PT1oWzNdKXJldHVybiBwKFtpXSxmKX10cnl7cmV0dXJuIHAoZS5xdWVyeVNlbGVjdG9yQWxsKGIpLGYpfWNhdGNoKGope319ZWxzZSBpZihlLm5vZGVUeXBlPT09MSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im9iamVjdCIpe3ZhciBtPWUsbj1lLmdldEF0dHJpYnV0ZSgiaWQiKSxvPW58fGQscT1lLnBhcmVudE5vZGUscj0vXlxzKlsrfl0vLnRlc3QoYik7bj9vPW8ucmVwbGFjZSgvJy9nLCJcXCQmIik6ZS5zZXRBdHRyaWJ1dGUoImlkIixvKSxyJiZxJiYoZT1lLnBhcmVudE5vZGUpO3RyeXtpZighcnx8cSlyZXR1cm4gcChlLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZD0nIitvKyInXSAiK2IpLGYpfWNhdGNoKHMpe31maW5hbGx5e258fG0ucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGEoYixlLGYsZyl9O2Zvcih2YXIgZSBpbiBhKWtbZV09YVtlXTtiPW51bGx9fSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5kb2N1bWVudEVsZW1lbnQsYj1hLm1hdGNoZXNTZWxlY3Rvcnx8YS5tb3pNYXRjaGVzU2VsZWN0b3J8fGEud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxhLm1zTWF0Y2hlc1NlbGVjdG9yO2lmKGIpe3ZhciBkPSFiLmNhbGwoYy5jcmVhdGVFbGVtZW50KCJkaXYiKSwiZGl2IiksZT0hMTt0cnl7Yi5jYWxsKGMuZG9jdW1lbnRFbGVtZW50LCJbdGVzdCE9JyddOnNpenpsZSIpfWNhdGNoKGYpe2U9ITB9ay5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxjKXtjPWMucmVwbGFjZSgvXD1ccyooW14nIlxdXSopXHMqXF0vZywiPSckMSddIik7aWYoIWsuaXNYTUwoYSkpdHJ5e2lmKGV8fCFsLm1hdGNoLlBTRVVETy50ZXN0KGMpJiYhLyE9Ly50ZXN0KGMpKXt2YXIgZj1iLmNhbGwoYSxjKTtpZihmfHwhZHx8YS5kb2N1bWVudCYmYS5kb2N1bWVudC5ub2RlVHlwZSE9PTExKXJldHVybiBmfX1jYXRjaChnKXt9cmV0dXJuIGsoYyxudWxsLG51bGwsW2FdKS5sZW5ndGg+MH19fSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmlubmVySFRNTD0iPGRpdiBjbGFzcz0ndGVzdCBlJz48L2Rpdj48ZGl2IGNsYXNzPSd0ZXN0Jz48L2Rpdj4iO2lmKCEhYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGghPT0wKXthLmxhc3RDaGlsZC5jbGFzc05hbWU9ImUiO2lmKGEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aD09PTEpcmV0dXJuO2wub3JkZXIuc3BsaWNlKDEsMCwiQ0xBU1MiKSxsLmZpbmQuQ0xBU1M9ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPSJ1bmRlZmluZWQiJiYhYylyZXR1cm4gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGFbMV0pfSxhPW51bGx9fSgpLGMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zP2suY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWImJihhLmNvbnRhaW5zP2EuY29udGFpbnMoYik6ITApfTpjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9rLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSYxNil9OmsuY29udGFpbnM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0say5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj0oYT9hLm93bmVyRG9jdW1lbnR8fGE6MCkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiP2Iubm9kZU5hbWUhPT0iSFRNTCI6ITF9O3ZhciB2PWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPSIiLGY9Yi5ub2RlVHlwZT9bYl06Yjt3aGlsZShjPWwubWF0Y2guUFNFVURPLmV4ZWMoYSkpZSs9Y1swXSxhPWEucmVwbGFjZShsLm1hdGNoLlBTRVVETywiIik7YT1sLnJlbGF0aXZlW2FdP2ErIioiOmE7Zm9yKHZhciBnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKWsoYSxmW2ddLGQpO3JldHVybiBrLmZpbHRlcihlLGQpfTtmLmZpbmQ9ayxmLmV4cHI9ay5zZWxlY3RvcnMsZi5leHByWyI6Il09Zi5leHByLmZpbHRlcnMsZi51bmlxdWU9ay51bmlxdWVTb3J0LGYudGV4dD1rLmdldFRleHQsZi5pc1hNTERvYz1rLmlzWE1MLGYuY29udGFpbnM9ay5jb250YWluc30oKTt2YXIgTz0vVW50aWwkLyxQPS9eKD86cGFyZW50c3xwcmV2VW50aWx8cHJldkFsbCkvLFE9LywvLFI9L14uW146I1xbXC4sXSokLyxTPUFycmF5LnByb3RvdHlwZS5zbGljZSxUPWYuZXhwci5tYXRjaC5QT1MsVT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGMsZDtpZih0eXBlb2YgYSE9InN0cmluZyIpcmV0dXJuIGYoYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspaWYoZi5jb250YWlucyhiW2NdLHRoaXMpKXJldHVybiEwfSk7dmFyIGU9dGhpcy5wdXNoU3RhY2soIiIsImZpbmQiLGEpLGcsaCxpO2ZvcihjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKXtnPWUubGVuZ3RoLGYuZmluZChhLHRoaXNbY10sZSk7aWYoYz4wKWZvcihoPWc7aDxlLmxlbmd0aDtoKyspZm9yKGk9MDtpPGc7aSsrKWlmKGVbaV09PT1lW2hdKXtlLnNwbGljZShoLS0sMSk7YnJlYWt9fXJldHVybiBlfSxoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9ZihhKTtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxjPWIubGVuZ3RoO2E8YzthKyspaWYoZi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soVyh0aGlzLGEsITEpLCJub3QiLGEpfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFcodGhpcyxhLCEwKSwiZmlsdGVyIixhKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISFhJiYodHlwZW9mIGE9PSJzdHJpbmciP2YuZmlsdGVyKGEsdGhpcykubGVuZ3RoPjA6dGhpcy5maWx0ZXIoYSkubGVuZ3RoPjApfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZCxlLGc9dGhpc1swXTtpZihmLmlzQXJyYXkoYSkpe3ZhciBoLGksaj17fSxrPTE7aWYoZyYmYS5sZW5ndGgpe2ZvcihkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWk9YVtkXSxqW2ldfHwoaltpXT1ULnRlc3QoaSk/ZihpLGJ8fHRoaXMuY29udGV4dCk6aSk7d2hpbGUoZyYmZy5vd25lckRvY3VtZW50JiZnIT09Yil7Zm9yKGkgaW4gailoPWpbaV0sKGguanF1ZXJ5P2guaW5kZXgoZyk+LTE6ZihnKS5pcyhoKSkmJmMucHVzaCh7c2VsZWN0b3I6aSxlbGVtOmcsbGV2ZWw6a30pO2c9Zy5wYXJlbnROb2RlLGsrK319cmV0dXJuIGN9dmFyIGw9VC50ZXN0KGEpfHx0eXBlb2YgYSE9InN0cmluZyI/ZihhLGJ8fHRoaXMuY29udGV4dCk6MDtmb3IoZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7Zz10aGlzW2RdO3doaWxlKGcpe2lmKGw/bC5pbmRleChnKT4tMTpmLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGcsYSkpe2MucHVzaChnKTticmVha31nPWcucGFyZW50Tm9kZTtpZighZ3x8IWcub3duZXJEb2N1bWVudHx8Zz09PWJ8fGcubm9kZVR5cGU9PT0xMSlicmVha319Yz1jLmxlbmd0aD4xP2YudW5pcXVlKGMpOmM7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGMsImNsb3Nlc3QiLGEpfSxpbmRleDpmdW5jdGlvbihhKXtpZighYXx8dHlwZW9mIGE9PSJzdHJpbmciKXJldHVybiBmLmluQXJyYXkodGhpc1swXSxhP2YoYSk6dGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpKTtyZXR1cm4gZi5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE9PSJzdHJpbmciP2YoYSxiKTpmLm1ha2VBcnJheShhJiZhLm5vZGVUeXBlP1thXTphKSxkPWYubWVyZ2UodGhpcy5nZXQoKSxjKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soVihjWzBdKXx8VihkWzBdKT9kOmYudW5pcXVlKGQpKX0sYW5kU2VsZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZCh0aGlzLnByZXZPYmplY3QpfX0pLGYuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5ub2RlVHlwZSE9PTExP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRpcihhLCJwYXJlbnROb2RlIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gZi5udGgoYSwyLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBmLm50aChhLDIsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBmLmRpcihhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBmLmRpcihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwibmV4dFNpYmxpbmciLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRpcihhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gZi5zaWJsaW5nKGEucGFyZW50Tm9kZS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gZi5zaWJsaW5nKGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBmLm5vZGVOYW1lKGEsImlmcmFtZSIpP2EuY29udGVudERvY3VtZW50fHxhLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6Zi5tYWtlQXJyYXkoYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPWYubWFwKHRoaXMsYixjKSxnPVMuY2FsbChhcmd1bWVudHMpO08udGVzdChhKXx8KGQ9YyksZCYmdHlwZW9mIGQ9PSJzdHJpbmciJiYoZT1mLmZpbHRlcihkLGUpKSxlPXRoaXMubGVuZ3RoPjEmJiFVW2FdP2YudW5pcXVlKGUpOmUsKHRoaXMubGVuZ3RoPjF8fFEudGVzdChkKSkmJlAudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhlLGEsZy5qb2luKCIsIikpfX0pLGYuZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oYSxiLGMpe2MmJihhPSI6bm90KCIrYSsiKSIpO3JldHVybiBiLmxlbmd0aD09PTE/Zi5maW5kLm1hdGNoZXNTZWxlY3RvcihiWzBdLGEpP1tiWzBdXTpbXTpmLmZpbmQubWF0Y2hlcyhhLGIpfSxkaXI6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPVtdLGc9YVtjXTt3aGlsZShnJiZnLm5vZGVUeXBlIT09OSYmKGQ9PT1ifHxnLm5vZGVUeXBlIT09MXx8IWYoZykuaXMoZCkpKWcubm9kZVR5cGU9PT0xJiZlLnB1c2goZyksZz1nW2NdO3JldHVybiBlfSxudGg6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1ifHwxO3ZhciBlPTA7Zm9yKDthO2E9YVtjXSlpZihhLm5vZGVUeXBlPT09MSYmKytlPT09YilicmVhaztyZXR1cm4gYX0sc2libGluZzpmdW5jdGlvbihhLGIpe3ZhciBjPVtdO2Zvcig7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlVHlwZT09PTEmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9fSk7dmFyIFg9LyBqUXVlcnlcZCs9Iig/OlxkK3xudWxsKSIvZyxZPS9eXHMrLyxaPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vaWcsJD0vPChbXHc6XSspLyxfPS88dGJvZHkvaSxiYT0vPHwmIz9cdys7LyxiYj0vPCg/OnNjcmlwdHxvYmplY3R8ZW1iZWR8b3B0aW9ufHN0eWxlKS9pLGJjPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGJkPS9cLyhqYXZhfGVjbWEpc2NyaXB0L2ksYmU9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLGxlZ2VuZDpbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07YmUub3B0Z3JvdXA9YmUub3B0aW9uLGJlLnRib2R5PWJlLnRmb290PWJlLmNvbGdyb3VwPWJlLmNhcHRpb249YmUudGhlYWQsYmUudGg9YmUudGQsZi5zdXBwb3J0Lmh0bWxTZXJpYWxpemV8fChiZS5fZGVmYXVsdD1bMSwiZGl2PGRpdj4iLCI8L2Rpdj4iXSksZi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLnRleHQoYS5jYWxsKHRoaXMsYixjLnRleHQoKSkpfSk7aWYodHlwZW9mIGEhPSJvYmplY3QiJiZhIT09YilyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxjKS5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGYudGV4dCh0aGlzKX0sd3JhcEFsbDpmdW5jdGlvbihhKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9ZihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmYS5maXJzdENoaWxkLm5vZGVUeXBlPT09MSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2YodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmKHRoaXMpLndyYXBBbGwoYSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2Yubm9kZU5hbWUodGhpcywiYm9keSIpfHxmKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmFwcGVuZENoaWxkKGEpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oYSl7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMuaW5zZXJ0QmVmb3JlKGEsdGhpcy5maXJzdENoaWxkKX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPWYoYXJndW1lbnRzWzBdKTthLnB1c2guYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGEsImJlZm9yZSIsYXJndW1lbnRzKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT10aGlzLnB1c2hTdGFjayh0aGlzLCJhZnRlciIsYXJndW1lbnRzKTthLnB1c2guYXBwbHkoYSxmKGFyZ3VtZW50c1swXSkudG9BcnJheSgpKTtyZXR1cm4gYX19LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ7KGQ9dGhpc1tjXSkhPW51bGw7YysrKWlmKCFhfHxmLmZpbHRlcihhLFtkXSkubGVuZ3RoKSFiJiZkLm5vZGVUeXBlPT09MSYmKGYuY2xlYW5EYXRhKGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksZi5jbGVhbkRhdGEoW2RdKSksZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjsoYj10aGlzW2FdKSE9bnVsbDthKyspe2Iubm9kZVR5cGU9PT0xJiZmLmNsZWFuRGF0YShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpO3doaWxlKGIuZmlyc3RDaGlsZCliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7YT1hPT1udWxsPyExOmEsYj1iPT1udWxsP2E6YjtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpc1swXSYmdGhpc1swXS5ub2RlVHlwZT09PTE/dGhpc1swXS5pbm5lckhUTUwucmVwbGFjZShYLCIiKTpudWxsO2lmKHR5cGVvZiBhPT0ic3RyaW5nIiYmIWJiLnRlc3QoYSkmJihmLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2V8fCFZLnRlc3QoYSkpJiYhYmVbKCQuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9YS5yZXBsYWNlKFosIjwkMT48LyQyPiIpO3RyeXtmb3IodmFyIGM9MCxkPXRoaXMubGVuZ3RoO2M8ZDtjKyspdGhpc1tjXS5ub2RlVHlwZT09PTEmJihmLmNsZWFuRGF0YSh0aGlzW2NdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLHRoaXNbY10uaW5uZXJIVE1MPWEpfWNhdGNoKGUpe3RoaXMuZW1wdHkoKS5hcHBlbmQoYSl9fWVsc2UgZi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpO2MuaHRtbChhLmNhbGwodGhpcyxiLGMuaHRtbCgpKSl9KTp0aGlzLmVtcHR5KCkuYXBwZW5kKGEpO3JldHVybiB0aGlzfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWYodGhpcyksZD1jLmh0bWwoKTtjLnJlcGxhY2VXaXRoKGEuY2FsbCh0aGlzLGIsZCkpfSk7dHlwZW9mIGEhPSJzdHJpbmciJiYoYT1mKGEpLmRldGFjaCgpKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5uZXh0U2libGluZyxjPXRoaXMucGFyZW50Tm9kZTtmKHRoaXMpLnJlbW92ZSgpLGI/ZihiKS5iZWZvcmUoYSk6ZihjKS5hcHBlbmQoYSl9KX1yZXR1cm4gdGhpcy5sZW5ndGg/dGhpcy5wdXNoU3RhY2soZihmLmlzRnVuY3Rpb24oYSk/YSgpOmEpLCJyZXBsYWNlV2l0aCIsYSk6dGhpc30sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGcsaCxpLGo9YVswXSxrPVtdO2lmKCFmLnN1cHBvcnQuY2hlY2tDbG9uZSYmYXJndW1lbnRzLmxlbmd0aD09PTMmJnR5cGVvZiBqPT0ic3RyaW5nIiYmYmMudGVzdChqKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zih0aGlzKS5kb21NYW5pcChhLGMsZCwhMCl9KTtpZihmLmlzRnVuY3Rpb24oaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgZz1mKHRoaXMpO2FbMF09ai5jYWxsKHRoaXMsZSxjP2cuaHRtbCgpOmIpLGcuZG9tTWFuaXAoYSxjLGQpfSk7aWYodGhpc1swXSl7aT1qJiZqLnBhcmVudE5vZGUsZi5zdXBwb3J0LnBhcmVudE5vZGUmJmkmJmkubm9kZVR5cGU9PT0xMSYmaS5jaGlsZE5vZGVzLmxlbmd0aD09PXRoaXMubGVuZ3RoP2U9e2ZyYWdtZW50Oml9OmU9Zi5idWlsZEZyYWdtZW50KGEsdGhpcyxrKSxoPWUuZnJhZ21lbnQsaC5jaGlsZE5vZGVzLmxlbmd0aD09PTE/Zz1oPWguZmlyc3RDaGlsZDpnPWguZmlyc3RDaGlsZDtpZihnKXtjPWMmJmYubm9kZU5hbWUoZywidHIiKTtmb3IodmFyIGw9MCxtPXRoaXMubGVuZ3RoLG49bS0xO2w8bTtsKyspZC5jYWxsKGM/YmYodGhpc1tsXSxnKTp0aGlzW2xdLGUuY2FjaGVhYmxlfHxtPjEmJmw8bj9mLmNsb25lKGgsITAsITApOmgpfWsubGVuZ3RoJiZmLmVhY2goayxibCl9cmV0dXJuIHRoaXN9fSksZi5idWlsZEZyYWdtZW50PWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxnLGgsaT1iJiZiWzBdP2JbMF0ub3duZXJEb2N1bWVudHx8YlswXTpjO2EubGVuZ3RoPT09MSYmdHlwZW9mIGFbMF09PSJzdHJpbmciJiZhWzBdLmxlbmd0aDw1MTImJmk9PT1jJiZhWzBdLmNoYXJBdCgwKT09PSI8IiYmIWJiLnRlc3QoYVswXSkmJihmLnN1cHBvcnQuY2hlY2tDbG9uZXx8IWJjLnRlc3QoYVswXSkpJiYoZz0hMCxoPWYuZnJhZ21lbnRzW2FbMF1dLGgmJmghPT0xJiYoZT1oKSksZXx8KGU9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZi5jbGVhbihhLGksZSxkKSksZyYmKGYuZnJhZ21lbnRzW2FbMF1dPWg/ZToxKTtyZXR1cm57ZnJhZ21lbnQ6ZSxjYWNoZWFibGU6Z319LGYuZnJhZ21lbnRzPXt9LGYuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjKXt2YXIgZD1bXSxlPWYoYyksZz10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihnJiZnLm5vZGVUeXBlPT09MTEmJmcuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZlLmxlbmd0aD09PTEpe2VbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9Zm9yKHZhciBoPTAsaT1lLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj0oaD4wP3RoaXMuY2xvbmUoITApOnRoaXMpLmdldCgpO2YoZVtoXSlbYl0oaiksZD1kLmNvbmNhdChqKX1yZXR1cm4gdGhpcy5wdXNoU3RhY2soZCxhLGUuc2VsZWN0b3IpfX0pLGYuZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5jbG9uZU5vZGUoITApLGUsZyxoO2lmKCghZi5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IWYuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkmJihhLm5vZGVUeXBlPT09MXx8YS5ub2RlVHlwZT09PTExKSYmIWYuaXNYTUxEb2MoYSkpe2JoKGEsZCksZT1iaShhKSxnPWJpKGQpO2ZvcihoPTA7ZVtoXTsrK2gpYmgoZVtoXSxnW2hdKX1pZihiKXtiZyhhLGQpO2lmKGMpe2U9YmkoYSksZz1iaShkKTtmb3IoaD0wO2VbaF07KytoKWJnKGVbaF0sZ1toXSl9fXJldHVybiBkfSxjbGVhbjpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZztiPWJ8fGMsdHlwZW9mIGIuY3JlYXRlRWxlbWVudD09InVuZGVmaW5lZCImJihiPWIub3duZXJEb2N1bWVudHx8YlswXSYmYlswXS5vd25lckRvY3VtZW50fHxjKTt2YXIgaD1bXTtmb3IodmFyIGk9MCxqOyhqPWFbaV0pIT1udWxsO2krKyl7dHlwZW9mIGo9PSJudW1iZXIiJiYoais9IiIpO2lmKCFqKWNvbnRpbnVlO2lmKHR5cGVvZiBqPT0ic3RyaW5nIilpZighYmEudGVzdChqKSlqPWIuY3JlYXRlVGV4dE5vZGUoaik7ZWxzZXtqPWoucmVwbGFjZShaLCI8JDE+PC8kMj4iKTt2YXIgaz0oJC5leGVjKGopfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGw9YmVba118fGJlLl9kZWZhdWx0LG09bFswXSxuPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5pbm5lckhUTUw9bFsxXStqK2xbMl07d2hpbGUobS0tKW49bi5sYXN0Q2hpbGQ7aWYoIWYuc3VwcG9ydC50Ym9keSl7dmFyIG89Xy50ZXN0KGopLHA9az09PSJ0YWJsZSImJiFvP24uZmlyc3RDaGlsZCYmbi5maXJzdENoaWxkLmNoaWxkTm9kZXM6bFsxXT09PSI8dGFibGU+IiYmIW8/bi5jaGlsZE5vZGVzOltdO2Zvcih2YXIgcT1wLmxlbmd0aC0xO3E+PTA7LS1xKWYubm9kZU5hbWUocFtxXSwidGJvZHkiKSYmIXBbcV0uY2hpbGROb2Rlcy5sZW5ndGgmJnBbcV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwW3FdKX0hZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZZLnRlc3QoaikmJm4uaW5zZXJ0QmVmb3JlKGIuY3JlYXRlVGV4dE5vZGUoWS5leGVjKGopWzBdKSxuLmZpcnN0Q2hpbGQpLGo9bi5jaGlsZE5vZGVzfXZhciByO2lmKCFmLnN1cHBvcnQuYXBwZW5kQ2hlY2tlZClpZihqWzBdJiZ0eXBlb2YgKHI9ai5sZW5ndGgpPT0ibnVtYmVyIilmb3IoaT0wO2k8cjtpKyspYmsoaltpXSk7ZWxzZSBiayhqKTtqLm5vZGVUeXBlP2gucHVzaChqKTpoPWYubWVyZ2UoaCxqKX1pZihkKXtnPWZ1bmN0aW9uKGEpe3JldHVybiFhLnR5cGV8fGJkLnRlc3QoYS50eXBlKX07Zm9yKGk9MDtoW2ldO2krKylpZihlJiZmLm5vZGVOYW1lKGhbaV0sInNjcmlwdCIpJiYoIWhbaV0udHlwZXx8aFtpXS50eXBlLnRvTG93ZXJDYXNlKCk9PT0idGV4dC9qYXZhc2NyaXB0IikpZS5wdXNoKGhbaV0ucGFyZW50Tm9kZT9oW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaFtpXSk6aFtpXSk7ZWxzZXtpZihoW2ldLm5vZGVUeXBlPT09MSl7dmFyIHM9Zi5ncmVwKGhbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGcpO2guc3BsaWNlLmFwcGx5KGgsW2krMSwwXS5jb25jYXQocykpfWQuYXBwZW5kQ2hpbGQoaFtpXSl9fXJldHVybiBofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWYuY2FjaGUsZT1mLmV4cGFuZG8sZz1mLmV2ZW50LnNwZWNpYWwsaD1mLnN1cHBvcnQuZGVsZXRlRXhwYW5kbztmb3IodmFyIGk9MCxqOyhqPWFbaV0pIT1udWxsO2krKyl7aWYoai5ub2RlTmFtZSYmZi5ub0RhdGFbai5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSljb250aW51ZTtjPWpbZi5leHBhbmRvXTtpZihjKXtiPWRbY10mJmRbY11bZV07aWYoYiYmYi5ldmVudHMpe2Zvcih2YXIgayBpbiBiLmV2ZW50cylnW2tdP2YuZXZlbnQucmVtb3ZlKGosayk6Zi5yZW1vdmVFdmVudChqLGssYi5oYW5kbGUpO2IuaGFuZGxlJiYoYi5oYW5kbGUuZWxlbT1udWxsKX1oP2RlbGV0ZSBqW2YuZXhwYW5kb106ai5yZW1vdmVBdHRyaWJ1dGUmJmoucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyksZGVsZXRlIGRbY119fX19KTt2YXIgYm09L2FscGhhXChbXildKlwpL2ksYm49L29wYWNpdHk9KFteKV0qKS8sYm89Ly0oW2Etel0pL2lnLGJwPS8oW0EtWl18Xm1zKS9nLGJxPS9eLT9cZCsoPzpweCk/JC9pLGJyPS9eLT9cZC8sYnM9L15bK1wtXT0vLGJ0PS9bXitcLVwuXGRlXSsvZyxidT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sYnY9WyJMZWZ0IiwiUmlnaHQiXSxidz1bIlRvcCIsIkJvdHRvbSJdLGJ4LGJ5LGJ6LGJBPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07Zi5mbi5jc3M9ZnVuY3Rpb24oYSxjKXtpZihhcmd1bWVudHMubGVuZ3RoPT09MiYmYz09PWIpcmV0dXJuIHRoaXM7cmV0dXJuIGYuYWNjZXNzKHRoaXMsYSxjLCEwLGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gZCE9PWI/Zi5zdHlsZShhLGMsZCk6Zi5jc3MoYSxjKX0pfSxmLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPWJ4KGEsIm9wYWNpdHkiLCJvcGFjaXR5Iik7cmV0dXJuIGM9PT0iIj8iMSI6Y31yZXR1cm4gYS5zdHlsZS5vcGFjaXR5fX19LGNzc051bWJlcjp7ekluZGV4OiEwLGZvbnRXZWlnaHQ6ITAsb3BhY2l0eTohMCx6b29tOiEwLGxpbmVIZWlnaHQ6ITAsd2lkb3dzOiEwLG9ycGhhbnM6ITB9LGNzc1Byb3BzOnsiZmxvYXQiOmYuc3VwcG9ydC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoISFhJiZhLm5vZGVUeXBlIT09MyYmYS5ub2RlVHlwZSE9PTgmJiEhYS5zdHlsZSl7dmFyIGcsaCxpPWYuY2FtZWxDYXNlKGMpLGo9YS5zdHlsZSxrPWYuY3NzSG9va3NbaV07Yz1mLmNzc1Byb3BzW2ldfHxpO2lmKGQ9PT1iKXtpZihrJiYiZ2V0ImluIGsmJihnPWsuZ2V0KGEsITEsZSkpIT09YilyZXR1cm4gZztyZXR1cm4galtjXX1oPXR5cGVvZiBkO2lmKGg9PT0ibnVtYmVyIiYmaXNOYU4oZCl8fGQ9PW51bGwpcmV0dXJuO2g9PT0ic3RyaW5nIiYmYnMudGVzdChkKSYmKGQ9K2QucmVwbGFjZShidCwiIikrcGFyc2VGbG9hdChmLmNzcyhhLGMpKSksaD09PSJudW1iZXIiJiYhZi5jc3NOdW1iZXJbaV0mJihkKz0icHgiKTtpZigha3x8ISgic2V0ImluIGspfHwoZD1rLnNldChhLGQpKSE9PWIpdHJ5e2pbY109ZH1jYXRjaChsKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxnO2M9Zi5jYW1lbENhc2UoYyksZz1mLmNzc0hvb2tzW2NdLGM9Zi5jc3NQcm9wc1tjXXx8YyxjPT09ImNzc0Zsb2F0IiYmKGM9ImZsb2F0Iik7aWYoZyYmImdldCJpbiBnJiYoZT1nLmdldChhLCEwLGQpKSE9PWIpcmV0dXJuIGU7aWYoYngpcmV0dXJuIGJ4KGEsYyl9LHN3YXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9O2Zvcih2YXIgZSBpbiBiKWRbZV09YS5zdHlsZVtlXSxhLnN0eWxlW2VdPWJbZV07Yy5jYWxsKGEpO2ZvcihlIGluIGIpYS5zdHlsZVtlXT1kW2VdfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShibyxiQSl9fSksZi5jdXJDU1M9Zi5jc3MsZi5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihhLGIpe2YuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU7aWYoYyl7YS5vZmZzZXRXaWR0aCE9PTA/ZT1iQihhLGIsZCk6Zi5zd2FwKGEsYnUsZnVuY3Rpb24oKXtlPWJCKGEsYixkKX0pO2lmKGU8PTApe2U9YngoYSxiLGIpLGU9PT0iMHB4IiYmYnomJihlPWJ6KGEsYixiKSk7aWYoZSE9bnVsbClyZXR1cm4gZT09PSIifHxlPT09ImF1dG8iPyIwcHgiOmV9aWYoZTwwfHxlPT1udWxsKXtlPWEuc3R5bGVbYl07cmV0dXJuIGU9PT0iInx8ZT09PSJhdXRvIj8iMHB4IjplfXJldHVybiB0eXBlb2YgZT09InN0cmluZyI/ZTplKyJweCJ9fSxzZXQ6ZnVuY3Rpb24oYSxiKXtpZighYnEudGVzdChiKSlyZXR1cm4gYjtiPXBhcnNlRmxvYXQoYik7aWYoYj49MClyZXR1cm4gYisicHgifX19KSxmLnN1cHBvcnQub3BhY2l0eXx8KGYuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGJuLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT9wYXJzZUZsb2F0KFJlZ0V4cC4kMSkvMTAwKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnN0eWxlLGQ9YS5jdXJyZW50U3R5bGU7Yy56b29tPTE7dmFyIGU9Zi5pc05hTihiKT8iIjoiYWxwaGEob3BhY2l0eT0iK2IqMTAwKyIpIixnPWQmJmQuZmlsdGVyfHxjLmZpbHRlcnx8IiI7Yy5maWx0ZXI9Ym0udGVzdChnKT9nLnJlcGxhY2UoYm0sZSk6ZysiICIrZX19KSxmKGZ1bmN0aW9uKCl7Zi5zdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHR8fChmLmNzc0hvb2tzLm1hcmdpblJpZ2h0PXtnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztmLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sZnVuY3Rpb24oKXtiP2M9YngoYSwibWFyZ2luLXJpZ2h0IiwibWFyZ2luUmlnaHQiKTpjPWEuc3R5bGUubWFyZ2luUmlnaHR9KTtyZXR1cm4gY319KX0pLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGJ5PWZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxnO2M9Yy5yZXBsYWNlKGJwLCItJDEiKS50b0xvd2VyQ2FzZSgpO2lmKCEoZT1hLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpKXJldHVybiBiO2lmKGc9ZS5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkpZD1nLmdldFByb3BlcnR5VmFsdWUoYyksZD09PSIiJiYhZi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGEpJiYoZD1mLnN0eWxlKGEsYykpO3JldHVybiBkfSksYy5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoYno9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEuY3VycmVudFN0eWxlJiZhLmN1cnJlbnRTdHlsZVtiXSxlPWEucnVudGltZVN0eWxlJiZhLnJ1bnRpbWVTdHlsZVtiXSxmPWEuc3R5bGU7IWJxLnRlc3QoZCkmJmJyLnRlc3QoZCkmJihjPWYubGVmdCxlJiYoYS5ydW50aW1lU3R5bGUubGVmdD1hLmN1cnJlbnRTdHlsZS5sZWZ0KSxmLmxlZnQ9Yj09PSJmb250U2l6ZSI/IjFlbSI6ZHx8MCxkPWYucGl4ZWxMZWZ0KyJweCIsZi5sZWZ0PWMsZSYmKGEucnVudGltZVN0eWxlLmxlZnQ9ZSkpO3JldHVybiBkPT09IiI/ImF1dG8iOmR9KSxieD1ieXx8YnosZi5leHByJiZmLmV4cHIuZmlsdGVycyYmKGYuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldFdpZHRoLGM9YS5vZmZzZXRIZWlnaHQ7cmV0dXJuIGI9PT0wJiZjPT09MHx8IWYuc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMmJihhLnN0eWxlLmRpc3BsYXl8fGYuY3NzKGEsImRpc3BsYXkiKSk9PT0ibm9uZSJ9LGYuZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIWYuZXhwci5maWx0ZXJzLmhpZGRlbihhKX0pO3ZhciBiQz0vJTIwL2csYkQ9L1xbXF0kLyxiRT0vXHI/XG4vZyxiRj0vIy4qJC8sYkc9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9tZyxiSD0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZW1haWx8aGlkZGVufG1vbnRofG51bWJlcnxwYXNzd29yZHxyYW5nZXxzZWFyY2h8dGVsfHRleHR8dGltZXx1cmx8d2VlaykkL2ksYkk9L14oPzphYm91dHxhcHB8YXBwXC1zdG9yYWdlfC4rXC1leHRlbnNpb258ZmlsZXx3aWRnZXQpOiQvLGJKPS9eKD86R0VUfEhFQUQpJC8sYks9L15cL1wvLyxiTD0vXD8vLGJNPS88c2NyaXB0XGJbXjxdKig/Oig/ITxcL3NjcmlwdD4pPFtePF0qKSo8XC9zY3JpcHQ+L2dpLGJOPS9eKD86c2VsZWN0fHRleHRhcmVhKS9pLGJPPS9ccysvLGJQPS8oWz8mXSlfPVteJl0qLyxiUT0vXihbXHdcK1wuXC1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspKT8pPy8sYlI9Zi5mbi5sb2FkLGJTPXt9LGJUPXt9LGJVLGJWO3RyeXtiVT1lLmhyZWZ9Y2F0Y2goYlcpe2JVPWMuY3JlYXRlRWxlbWVudCgiYSIpLGJVLmhyZWY9IiIsYlU9YlUuaHJlZn1iVj1iUS5leGVjKGJVLnRvTG93ZXJDYXNlKCkpfHxbXSxmLmZuLmV4dGVuZCh7bG9hZDpmdW5jdGlvbihhLGMsZCl7aWYodHlwZW9mIGEhPSJzdHJpbmciJiZiUilyZXR1cm4gYlIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgZT1hLmluZGV4T2YoIiAiKTtpZihlPj0wKXt2YXIgZz1hLnNsaWNlKGUsYS5sZW5ndGgpO2E9YS5zbGljZSgwLGUpfXZhciBoPSJHRVQiO2MmJihmLmlzRnVuY3Rpb24oYyk/KGQ9YyxjPWIpOnR5cGVvZiBjPT0ib2JqZWN0IiYmKGM9Zi5wYXJhbShjLGYuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxoPSJQT1NUIikpO3ZhciBpPXRoaXM7Zi5hamF4KHt1cmw6YSx0eXBlOmgsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yyxjb21wbGV0ZTpmdW5jdGlvbihhLGIsYyl7Yz1hLnJlc3BvbnNlVGV4dCxhLmlzUmVzb2x2ZWQoKSYmKGEuZG9uZShmdW5jdGlvbihhKXtjPWF9KSxpLmh0bWwoZz9mKCI8ZGl2PiIpLmFwcGVuZChjLnJlcGxhY2UoYk0sIiIpKS5maW5kKGcpOmMpKSxkJiZpLmVhY2goZCxbYyxiLGFdKX19KTtyZXR1cm4gdGhpc30sc2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGYucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50cz9mLm1ha2VBcnJheSh0aGlzLmVsZW1lbnRzKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSYmIXRoaXMuZGlzYWJsZWQmJih0aGlzLmNoZWNrZWR8fGJOLnRlc3QodGhpcy5ub2RlTmFtZSl8fGJILnRlc3QodGhpcy50eXBlKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1mKHRoaXMpLnZhbCgpO3JldHVybiBjPT1udWxsP251bGw6Zi5pc0FycmF5KGMpP2YubWFwKGMsZnVuY3Rpb24oYSxjKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKGJFLCJcclxuIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShiRSwiXHJcbiIpfX0pLmdldCgpfX0pLGYuZWFjaCgiYWpheFN0YXJ0IGFqYXhTdG9wIGFqYXhDb21wbGV0ZSBhamF4RXJyb3IgYWpheFN1Y2Nlc3MgYWpheFNlbmQiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtmLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJpbmQoYixhKX19KSxmLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxjKXtmW2NdPWZ1bmN0aW9uKGEsZCxlLGcpe2YuaXNGdW5jdGlvbihkKSYmKGc9Z3x8ZSxlPWQsZD1iKTtyZXR1cm4gZi5hamF4KHt0eXBlOmMsdXJsOmEsZGF0YTpkLHN1Y2Nlc3M6ZSxkYXRhVHlwZTpnfSl9fSksZi5leHRlbmQoe2dldFNjcmlwdDpmdW5jdGlvbihhLGMpe3JldHVybiBmLmdldChhLGIsYywic2NyaXB0Iil9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmdldChhLGIsYywianNvbiIpfSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtiP2YuZXh0ZW5kKCEwLGEsZi5hamF4U2V0dGluZ3MsYik6KGI9YSxhPWYuZXh0ZW5kKCEwLGYuYWpheFNldHRpbmdzLGIpKTtmb3IodmFyIGMgaW57Y29udGV4dDoxLHVybDoxfSljIGluIGI/YVtjXT1iW2NdOmMgaW4gZi5hamF4U2V0dGluZ3MmJihhW2NdPWYuYWpheFNldHRpbmdzW2NdKTtyZXR1cm4gYX0sYWpheFNldHRpbmdzOnt1cmw6YlUsaXNMb2NhbDpiSS50ZXN0KGJWWzFdKSxnbG9iYWw6ITAsdHlwZToiR0VUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixwcm9jZXNzRGF0YTohMCxhc3luYzohMCxhY2NlcHRzOnt4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGh0bWw6InRleHQvaHRtbCIsdGV4dDoidGV4dC9wbGFpbiIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0IiwiKiI6IiovKiJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjphLlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpmLnBhcnNlSlNPTiwidGV4dCB4bWwiOmYucGFyc2VYTUx9fSxhamF4UHJlZmlsdGVyOmJYKGJTKSxhamF4VHJhbnNwb3J0OmJYKGJUKSxhamF4OmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gdyhhLGMsbCxtKXtpZihzIT09Mil7cz0yLHEmJmNsZWFyVGltZW91dChxKSxwPWIsbj1tfHwiIix2LnJlYWR5U3RhdGU9YT80OjA7dmFyIG8scix1LHc9bD9iJChkLHYsbCk6Yix4LHk7aWYoYT49MjAwJiZhPDMwMHx8YT09PTMwNCl7aWYoZC5pZk1vZGlmaWVkKXtpZih4PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSlmLmxhc3RNb2RpZmllZFtrXT14O2lmKHk9di5nZXRSZXNwb25zZUhlYWRlcigiRXRhZyIpKWYuZXRhZ1trXT15fWlmKGE9PT0zMDQpYz0ibm90bW9kaWZpZWQiLG89ITA7ZWxzZSB0cnl7cj1iXyhkLHcpLGM9InN1Y2Nlc3MiLG89ITB9Y2F0Y2goeil7Yz0icGFyc2VyZXJyb3IiLHU9en19ZWxzZXt1PWM7aWYoIWN8fGEpYz0iZXJyb3IiLGE8MCYmKGE9MCl9di5zdGF0dXM9YSx2LnN0YXR1c1RleHQ9YyxvP2gucmVzb2x2ZVdpdGgoZSxbcixjLHZdKTpoLnJlamVjdFdpdGgoZSxbdixjLHVdKSx2LnN0YXR1c0NvZGUoaiksaj1iLHQmJmcudHJpZ2dlcigiYWpheCIrKG8/IlN1Y2Nlc3MiOiJFcnJvciIpLFt2LGQsbz9yOnVdKSxpLnJlc29sdmVXaXRoKGUsW3YsY10pLHQmJihnLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3YsZF0pLC0tZi5hY3RpdmV8fGYuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9fXR5cGVvZiBhPT0ib2JqZWN0IiYmKGM9YSxhPWIpLGM9Y3x8e307dmFyIGQ9Zi5hamF4U2V0dXAoe30sYyksZT1kLmNvbnRleHR8fGQsZz1lIT09ZCYmKGUubm9kZVR5cGV8fGUgaW5zdGFuY2VvZiBmKT9mKGUpOmYuZXZlbnQsaD1mLkRlZmVycmVkKCksaT1mLl9EZWZlcnJlZCgpLGo9ZC5zdGF0dXNDb2RlfHx7fSxrLGw9e30sbT17fSxuLG8scCxxLHIscz0wLHQsdSx2PXtyZWFkeVN0YXRlOjAsc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe2lmKCFzKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7YT1tW2NdPW1bY118fGEsbFthXT1ifXJldHVybiB0aGlzfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gcz09PTI/bjpudWxsfSxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYztpZihzPT09Mil7aWYoIW8pe289e307d2hpbGUoYz1iRy5leGVjKG4pKW9bY1sxXS50b0xvd2VyQ2FzZSgpXT1jWzJdfWM9b1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBjPT09Yj9udWxsOmN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7c3x8KGQubWltZVR5cGU9YSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe2E9YXx8ImFib3J0IixwJiZwLmFib3J0KGEpLHcoMCxhKTtyZXR1cm4gdGhpc319O2gucHJvbWlzZSh2KSx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLHYuY29tcGxldGU9aS5kb25lLHYuc3RhdHVzQ29kZT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYjtpZihzPDIpZm9yKGIgaW4gYSlqW2JdPVtqW2JdLGFbYl1dO2Vsc2UgYj1hW3Yuc3RhdHVzXSx2LnRoZW4oYixiKX1yZXR1cm4gdGhpc30sZC51cmw9KChhfHxkLnVybCkrIiIpLnJlcGxhY2UoYkYsIiIpLnJlcGxhY2UoYkssYlZbMV0rIi8vIiksZC5kYXRhVHlwZXM9Zi50cmltKGQuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5zcGxpdChiTyksZC5jcm9zc0RvbWFpbj09bnVsbCYmKHI9YlEuZXhlYyhkLnVybC50b0xvd2VyQ2FzZSgpKSxkLmNyb3NzRG9tYWluPSEoIXJ8fHJbMV09PWJWWzFdJiZyWzJdPT1iVlsyXSYmKHJbM118fChyWzFdPT09Imh0dHA6Ij84MDo0NDMpKT09KGJWWzNdfHwoYlZbMV09PT0iaHR0cDoiPzgwOjQ0MykpKSksZC5kYXRhJiZkLnByb2Nlc3NEYXRhJiZ0eXBlb2YgZC5kYXRhIT0ic3RyaW5nIiYmKGQuZGF0YT1mLnBhcmFtKGQuZGF0YSxkLnRyYWRpdGlvbmFsKSksYlkoYlMsZCxjLHYpO2lmKHM9PT0yKXJldHVybiExO3Q9ZC5nbG9iYWwsZC50eXBlPWQudHlwZS50b1VwcGVyQ2FzZSgpLGQuaGFzQ29udGVudD0hYkoudGVzdChkLnR5cGUpLHQmJmYuYWN0aXZlKys9PT0wJiZmLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpO2lmKCFkLmhhc0NvbnRlbnQpe2QuZGF0YSYmKGQudXJsKz0oYkwudGVzdChkLnVybCk/IiYiOiI/IikrZC5kYXRhKSxrPWQudXJsO2lmKGQuY2FjaGU9PT0hMSl7dmFyIHg9Zi5ub3coKSx5PWQudXJsLnJlcGxhY2UoYlAsIiQxXz0iK3gpO2QudXJsPXkrKHk9PT1kLnVybD8oYkwudGVzdChkLnVybCk/IiYiOiI/IikrIl89Iit4OiIiKX19KGQuZGF0YSYmZC5oYXNDb250ZW50JiZkLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ2LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZC5jb250ZW50VHlwZSksZC5pZk1vZGlmaWVkJiYoaz1rfHxkLnVybCxmLmxhc3RNb2RpZmllZFtrXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsZi5sYXN0TW9kaWZpZWRba10pLGYuZXRhZ1trXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixmLmV0YWdba10pKSx2LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsZC5kYXRhVHlwZXNbMF0mJmQuYWNjZXB0c1tkLmRhdGFUeXBlc1swXV0/ZC5hY2NlcHRzW2QuZGF0YVR5cGVzWzBdXSsoZC5kYXRhVHlwZXNbMF0hPT0iKiI/IiwgKi8qOyBxPTAuMDEiOiIiKTpkLmFjY2VwdHNbIioiXSk7Zm9yKHUgaW4gZC5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcih1LGQuaGVhZGVyc1t1XSk7aWYoZC5iZWZvcmVTZW5kJiYoZC5iZWZvcmVTZW5kLmNhbGwoZSx2LGQpPT09ITF8fHM9PT0yKSl7di5hYm9ydCgpO3JldHVybiExfWZvcih1IGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbdV0oZFt1XSk7cD1iWShiVCxkLGMsdik7aWYoIXApdygtMSwiTm8gVHJhbnNwb3J0Iik7ZWxzZXt2LnJlYWR5U3RhdGU9MSx0JiZnLnRyaWdnZXIoImFqYXhTZW5kIixbdixkXSksZC5hc3luYyYmZC50aW1lb3V0PjAmJihxPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KCJ0aW1lb3V0Iil9LGQudGltZW91dCkpO3RyeXtzPTEscC5zZW5kKGwsdyl9Y2F0Y2goeil7c3RhdHVzPDI/dygtMSx6KTpmLmVycm9yKHopfX1yZXR1cm4gdn0scGFyYW06ZnVuY3Rpb24oYSxjKXt2YXIgZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1mLmlzRnVuY3Rpb24oYik/YigpOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2M9PT1iJiYoYz1mLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYoZi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIWYuaXNQbGFpbk9iamVjdChhKSlmLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IodmFyIGcgaW4gYSliWihnLGFbZ10sYyxlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZShiQywiKyIpfX0pLGYuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fX0pO3ZhciBjYT1mLm5vdygpLGNiPS8oXD0pXD8oJnwkKXxcP1w/L2k7Zi5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiBmLmV4cGFuZG8rIl8iK2NhKyt9fSksZi5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGU9Yi5jb250ZW50VHlwZT09PSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiJiZ0eXBlb2YgYi5kYXRhPT0ic3RyaW5nIjtpZihiLmRhdGFUeXBlc1swXT09PSJqc29ucCJ8fGIuanNvbnAhPT0hMSYmKGNiLnRlc3QoYi51cmwpfHxlJiZjYi50ZXN0KGIuZGF0YSkpKXt2YXIgZyxoPWIuanNvbnBDYWxsYmFjaz1mLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaT1hW2hdLGo9Yi51cmwsaz1iLmRhdGEsbD0iJDEiK2grIiQyIjtiLmpzb25wIT09ITEmJihqPWoucmVwbGFjZShjYixsKSxiLnVybD09PWomJihlJiYoaz1rLnJlcGxhY2UoY2IsbCkpLGIuZGF0YT09PWsmJihqKz0oL1w/Ly50ZXN0KGopPyImIjoiPyIpK2IuanNvbnArIj0iK2gpKSksYi51cmw9aixiLmRhdGE9ayxhW2hdPWZ1bmN0aW9uKGEpe2c9W2FdfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbaF09aSxnJiZmLmlzRnVuY3Rpb24oaSkmJmFbaF0oZ1swXSl9KSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtnfHxmLmVycm9yKGgrIiB3YXMgbm90IGNhbGxlZCIpO3JldHVybiBnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiI7cmV0dXJuInNjcmlwdCJ9fSksZi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9qYXZhc2NyaXB0fGVjbWFzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe2YuZ2xvYmFsRXZhbChhKTtyZXR1cm4gYX19fSksZi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2EuY2FjaGU9PT1iJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIixhLmdsb2JhbD0hMSl9KSxmLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGQsZT1jLmhlYWR8fGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZixnKXtkPWMuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksZC5hc3luYz0iYXN5bmMiLGEuc2NyaXB0Q2hhcnNldCYmKGQuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGQuc3JjPWEudXJsLGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7aWYoY3x8IWQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChkLnJlYWR5U3RhdGUpKWQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZSYmZC5wYXJlbnROb2RlJiZlLnJlbW92ZUNoaWxkKGQpLGQ9YixjfHxnKDIwMCwic3VjY2VzcyIpfSxlLmluc2VydEJlZm9yZShkLGUuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZC5vbmxvYWQoMCwxKX19fX0pO3ZhciBjYz1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gY2UpY2VbYV0oMCwxKX06ITEsY2Q9MCxjZTtmLmFqYXhTZXR0aW5ncy54aHI9YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmY2YoKXx8Y2coKX06Y2YsZnVuY3Rpb24oYSl7Zi5leHRlbmQoZi5zdXBwb3J0LHthamF4OiEhYSxjb3JzOiEhYSYmIndpdGhDcmVkZW50aWFscyJpbiBhfSl9KGYuYWpheFNldHRpbmdzLnhocigpKSxmLnN1cHBvcnQuYWpheCYmZi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGMpe2lmKCFjLmNyb3NzRG9tYWlufHxmLnN1cHBvcnQuY29ycyl7dmFyIGQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxnKXt2YXIgaD1jLnhocigpLGksajtjLnVzZXJuYW1lP2gub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyxjLnVzZXJuYW1lLGMucGFzc3dvcmQpOmgub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyk7aWYoYy54aHJGaWVsZHMpZm9yKGogaW4gYy54aHJGaWVsZHMpaFtqXT1jLnhockZpZWxkc1tqXTtjLm1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZShjLm1pbWVUeXBlKSwhYy5jcm9zc0RvbWFpbiYmIWVbIlgtUmVxdWVzdGVkLVdpdGgiXSYmKGVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTt0cnl7Zm9yKGogaW4gZSloLnNldFJlcXVlc3RIZWFkZXIoaixlW2pdKX1jYXRjaChrKXt9aC5zZW5kKGMuaGFzQ29udGVudCYmYy5kYXRhfHxudWxsKSxkPWZ1bmN0aW9uKGEsZSl7dmFyIGosayxsLG0sbjt0cnl7aWYoZCYmKGV8fGgucmVhZHlTdGF0ZT09PTQpKXtkPWIsaSYmKGgub25yZWFkeXN0YXRlY2hhbmdlPWYubm9vcCxjYyYmZGVsZXRlIGNlW2ldKTtpZihlKWgucmVhZHlTdGF0ZSE9PTQmJmguYWJvcnQoKTtlbHNle2o9aC5zdGF0dXMsbD1oLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLG09e30sbj1oLnJlc3BvbnNlWE1MLG4mJm4uZG9jdW1lbnRFbGVtZW50JiYobS54bWw9biksbS50ZXh0PWgucmVzcG9uc2VUZXh0O3RyeXtrPWguc3RhdHVzVGV4dH1jYXRjaChvKXtrPSIifSFqJiZjLmlzTG9jYWwmJiFjLmNyb3NzRG9tYWluP2o9bS50ZXh0PzIwMDo0MDQ6aj09PTEyMjMmJihqPTIwNCl9fX1jYXRjaChwKXtlfHxnKC0xLHApfW0mJmcoaixrLG0sbCl9LCFjLmFzeW5jfHxoLnJlYWR5U3RhdGU9PT00P2QoKTooaT0rK2NkLGNjJiYoY2V8fChjZT17fSxmKGEpLnVubG9hZChjYykpLGNlW2ldPWQpLGgub25yZWFkeXN0YXRlY2hhbmdlPWQpfSxhYm9ydDpmdW5jdGlvbigpe2QmJmQoMCwxKX19fX0pO3ZhciBjaD17fSxjaSxjaixjaz0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sY2w9L14oWytcLV09KT8oW1xkKy5cLV0rKShbYS16JV0qKSQvaSxjbSxjbj1bWyJoZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLFsid2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCJdLFsib3BhY2l0eSJdXSxjbyxjcD1hLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGEub1JlcXVlc3RBbmltYXRpb25GcmFtZTtmLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNzKCJzaG93IiwzKSxhLGIsYyk7Zm9yKHZhciBnPTAsaD10aGlzLmxlbmd0aDtnPGg7ZysrKWQ9dGhpc1tnXSxkLnN0eWxlJiYoZT1kLnN0eWxlLmRpc3BsYXksIWYuX2RhdGEoZCwib2xkZGlzcGxheSIpJiZlPT09Im5vbmUiJiYoZT1kLnN0eWxlLmRpc3BsYXk9IiIpLGU9PT0iIiYmZi5jc3MoZCwiZGlzcGxheSIpPT09Im5vbmUiJiZmLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGN0KGQubm9kZU5hbWUpKSk7Zm9yKGc9MDtnPGg7ZysrKXtkPXRoaXNbZ107aWYoZC5zdHlsZSl7ZT1kLnN0eWxlLmRpc3BsYXk7aWYoZT09PSIifHxlPT09Im5vbmUiKWQuc3R5bGUuZGlzcGxheT1mLl9kYXRhKGQsIm9sZGRpc3BsYXkiKXx8IiJ9fXJldHVybiB0aGlzfSxoaWRlOmZ1bmN0aW9uKGEsYixjKXtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNzKCJoaWRlIiwzKSxhLGIsYyk7Zm9yKHZhciBkPTAsZT10aGlzLmxlbmd0aDtkPGU7ZCsrKWlmKHRoaXNbZF0uc3R5bGUpe3ZhciBnPWYuY3NzKHRoaXNbZF0sImRpc3BsYXkiKTtnIT09Im5vbmUiJiYhZi5fZGF0YSh0aGlzW2RdLCJvbGRkaXNwbGF5IikmJmYuX2RhdGEodGhpc1tkXSwib2xkZGlzcGxheSIsZyl9Zm9yKGQ9MDtkPGU7ZCsrKXRoaXNbZF0uc3R5bGUmJih0aGlzW2RdLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTtyZXR1cm4gdGhpc30sX3RvZ2dsZTpmLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXR5cGVvZiBhPT0iYm9vbGVhbiI7Zi5pc0Z1bmN0aW9uKGEpJiZmLmlzRnVuY3Rpb24oYik/dGhpcy5fdG9nZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphPT1udWxsfHxkP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWQ/YTpmKHRoaXMpLmlzKCI6aGlkZGVuIik7Zih0aGlzKVtiPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUoY3MoInRvZ2dsZSIsMyksYSxiLGMpO3JldHVybiB0aGlzfSxmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKCI6aGlkZGVuIikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Zi5zcGVlZChiLGMsZCk7aWYoZi5pc0VtcHR5T2JqZWN0KGEpKXJldHVybiB0aGlzLmVhY2goZS5jb21wbGV0ZSxbITFdKTtyZXR1cm4gdGhpc1tlLnF1ZXVlPT09ITE/ImVhY2giOiJxdWV1ZSJdKGZ1bmN0aW9uKCl7ZS5xdWV1ZT09PSExJiZmLl9tYXJrKHRoaXMpO3ZhciBiPWYuZXh0ZW5kKHt9LGUpLGM9dGhpcy5ub2RlVHlwZT09PTEsZD1jJiZmKHRoaXMpLmlzKCI6aGlkZGVuIiksZyxoLGksaixrLGwsbSxuLG87Yi5hbmltYXRlZFByb3BlcnRpZXM9e307Zm9yKGkgaW4gYSl7Zz1mLmNhbWVsQ2FzZShpKSxpIT09ZyYmKGFbZ109YVtpXSxkZWxldGUgYVtpXSksaD1hW2ddO2lmKGg9PT0iaGlkZSImJmR8fGg9PT0ic2hvdyImJiFkKXJldHVybiBiLmNvbXBsZXRlLmNhbGwodGhpcyk7YyYmKGc9PT0iaGVpZ2h0Inx8Zz09PSJ3aWR0aCIpJiYoYi5vdmVyZmxvdz1bdGhpcy5zdHlsZS5vdmVyZmxvdyx0aGlzLnN0eWxlLm92ZXJmbG93WCx0aGlzLnN0eWxlLm92ZXJmbG93WV0sZi5jc3ModGhpcywiZGlzcGxheSIpPT09ImlubGluZSImJmYuY3NzKHRoaXMsImZsb2F0Iik9PT0ibm9uZSImJihmLnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dD8oaj1jdCh0aGlzLm5vZGVOYW1lKSxqPT09ImlubGluZSI/dGhpcy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siOih0aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsdGhpcy5zdHlsZS56b29tPTEpKTp0aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxiLmFuaW1hdGVkUHJvcGVydGllc1tnXT1mLmlzQXJyYXkoaCk/aFsxXTpiLnNwZWNpYWxFYXNpbmcmJmIuc3BlY2lhbEVhc2luZ1tnXXx8Yi5lYXNpbmd8fCJzd2luZyJ9Yi5vdmVyZmxvdyE9bnVsbCYmKHRoaXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpO2ZvcihpIGluIGEpaz1uZXcgZi5meCh0aGlzLGIsaSksaD1hW2ldLGNrLnRlc3QoaCk/a1toPT09InRvZ2dsZSI/ZD8ic2hvdyI6ImhpZGUiOmhdKCk6KGw9Y2wuZXhlYyhoKSxtPWsuY3VyKCksbD8obj1wYXJzZUZsb2F0KGxbMl0pLG89bFszXXx8KGYuY3NzTnVtYmVyW2ddPyIiOiJweCIpLG8hPT0icHgiJiYoZi5zdHlsZSh0aGlzLGksKG58fDEpK28pLG09KG58fDEpL2suY3VyKCkqbSxmLnN0eWxlKHRoaXMsaSxtK28pKSxsWzFdJiYobj0obFsxXT09PSItPSI/LTE6MSkqbittKSxrLmN1c3RvbShtLG4sbykpOmsuY3VzdG9tKG0saCwiIikpO3JldHVybiEwfSl9LHN0b3A6ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnF1ZXVlKFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1mLnRpbWVycyxjPWEubGVuZ3RoO2J8fGYuX3VubWFyayghMCx0aGlzKTt3aGlsZShjLS0pYVtjXS5lbGVtPT09dGhpcyYmKGImJmFbY10oITApLGEuc3BsaWNlKGMsMSkpfSksYnx8dGhpcy5kZXF1ZXVlKCk7cmV0dXJuIHRoaXN9fSksZi5lYWNoKHtzbGlkZURvd246Y3MoInNob3ciLDEpLHNsaWRlVXA6Y3MoImhpZGUiLDEpLHNsaWRlVG9nZ2xlOmNzKCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtmLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLGYuZXh0ZW5kKHtzcGVlZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmdHlwZW9mIGE9PSJvYmplY3QiP2YuZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8Zi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFmLmlzRnVuY3Rpb24oYikmJmJ9O2QuZHVyYXRpb249Zi5meC5vZmY/MDp0eXBlb2YgZC5kdXJhdGlvbj09Im51bWJlciI/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIGYuZnguc3BlZWRzP2YuZnguc3BlZWRzW2QuZHVyYXRpb25dOmYuZnguc3BlZWRzLl9kZWZhdWx0LGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbihhKXtkLnF1ZXVlIT09ITE/Zi5kZXF1ZXVlKHRoaXMpOmEhPT0hMSYmZi5fdW5tYXJrKHRoaXMpLGYuaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyl9O3JldHVybiBkfSxlYXNpbmc6e2xpbmVhcjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYytkKmF9LHN3aW5nOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybigtTWF0aC5jb3MoYSpNYXRoLlBJKS8yKy41KSpkK2N9fSx0aW1lcnM6W10sZng6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucz1iLHRoaXMuZWxlbT1hLHRoaXMucHJvcD1jLGIub3JpZz1iLm9yaWd8fHt9fX0pLGYuZngucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksKGYuZnguc3RlcFt0aGlzLnByb3BdfHxmLmZ4LnN0ZXAuX2RlZmF1bHQpKHRoaXMpfSxjdXI6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1bdGhpcy5wcm9wXSE9bnVsbCYmKCF0aGlzLmVsZW0uc3R5bGV8fHRoaXMuZWxlbS5zdHlsZVt0aGlzLnByb3BdPT1udWxsKSlyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF07dmFyIGEsYj1mLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wKTtyZXR1cm4gaXNOYU4oYT1wYXJzZUZsb2F0KGIpKT8hYnx8Yj09PSJhdXRvIj8wOmI6YX0sY3VzdG9tOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBoKGEpe3JldHVybiBkLnN0ZXAoYSl9dmFyIGQ9dGhpcyxlPWYuZngsZzt0aGlzLnN0YXJ0VGltZT1jb3x8Y3EoKSx0aGlzLnN0YXJ0PWEsdGhpcy5lbmQ9Yix0aGlzLnVuaXQ9Y3x8dGhpcy51bml0fHwoZi5jc3NOdW1iZXJbdGhpcy5wcm9wXT8iIjoicHgiKSx0aGlzLm5vdz10aGlzLnN0YXJ0LHRoaXMucG9zPXRoaXMuc3RhdGU9MCxoLmVsZW09dGhpcy5lbGVtLGgoKSYmZi50aW1lcnMucHVzaChoKSYmIWNtJiYoY3A/KGNtPTEsZz1mdW5jdGlvbigpe2NtJiYoY3AoZyksZS50aWNrKCkpfSxjcChnKSk6Y209c2V0SW50ZXJ2YWwoZS50aWNrLGUuaW50ZXJ2YWwpKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09Zi5zdHlsZSh0aGlzLmVsZW0sdGhpcy5wcm9wKSx0aGlzLm9wdGlvbnMuc2hvdz0hMCx0aGlzLmN1c3RvbSh0aGlzLnByb3A9PT0id2lkdGgifHx0aGlzLnByb3A9PT0iaGVpZ2h0Ij8xOjAsdGhpcy5jdXIoKSksZih0aGlzLmVsZW0pLnNob3coKX0saGlkZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09Zi5zdHlsZSh0aGlzLmVsZW0sdGhpcy5wcm9wKSx0aGlzLm9wdGlvbnMuaGlkZT0hMCx0aGlzLmN1c3RvbSh0aGlzLmN1cigpLDApfSxzdGVwOmZ1bmN0aW9uKGEpe3ZhciBiPWNvfHxjcSgpLGM9ITAsZD10aGlzLmVsZW0sZT10aGlzLm9wdGlvbnMsZyxoO2lmKGF8fGI+PWUuZHVyYXRpb24rdGhpcy5zdGFydFRpbWUpe3RoaXMubm93PXRoaXMuZW5kLHRoaXMucG9zPXRoaXMuc3RhdGU9MSx0aGlzLnVwZGF0ZSgpLGUuYW5pbWF0ZWRQcm9wZXJ0aWVzW3RoaXMucHJvcF09ITA7Zm9yKGcgaW4gZS5hbmltYXRlZFByb3BlcnRpZXMpZS5hbmltYXRlZFByb3BlcnRpZXNbZ10hPT0hMCYmKGM9ITEpO2lmKGMpe2Uub3ZlcmZsb3chPW51bGwmJiFmLnN1cHBvcnQuc2hyaW5rV3JhcEJsb2NrcyYmZi5lYWNoKFsiIiwiWCIsIlkiXSxmdW5jdGlvbihhLGIpe2Quc3R5bGVbIm92ZXJmbG93IitiXT1lLm92ZXJmbG93W2FdfSksZS5oaWRlJiZmKGQpLmhpZGUoKTtpZihlLmhpZGV8fGUuc2hvdylmb3IodmFyIGkgaW4gZS5hbmltYXRlZFByb3BlcnRpZXMpZi5zdHlsZShkLGksZS5vcmlnW2ldKTtlLmNvbXBsZXRlLmNhbGwoZCl9cmV0dXJuITF9ZS5kdXJhdGlvbj09SW5maW5pdHk/dGhpcy5ub3c9YjooaD1iLXRoaXMuc3RhcnRUaW1lLHRoaXMuc3RhdGU9aC9lLmR1cmF0aW9uLHRoaXMucG9zPWYuZWFzaW5nW2UuYW5pbWF0ZWRQcm9wZXJ0aWVzW3RoaXMucHJvcF1dKHRoaXMuc3RhdGUsaCwwLDEsZS5kdXJhdGlvbiksdGhpcy5ub3c9dGhpcy5zdGFydCsodGhpcy5lbmQtdGhpcy5zdGFydCkqdGhpcy5wb3MpLHRoaXMudXBkYXRlKCk7cmV0dXJuITB9fSxmLmV4dGVuZChmLmZ4LHt0aWNrOmZ1bmN0aW9uKCl7dmFyIGE9Zi50aW1lcnMsYj1hLmxlbmd0aDt3aGlsZShiLS0pYVtiXSgpfHxhLnNwbGljZShiLDEpO2EubGVuZ3RofHxmLmZ4LnN0b3AoKX0saW50ZXJ2YWw6MTMsc3RvcDpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoY20pLGNtPW51bGx9LHNwZWVkczp7c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxzdGVwOntvcGFjaXR5OmZ1bmN0aW9uKGEpe2Yuc3R5bGUoYS5lbGVtLCJvcGFjaXR5IixhLm5vdyl9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe2EuZWxlbS5zdHlsZSYmYS5lbGVtLnN0eWxlW2EucHJvcF0hPW51bGw/YS5lbGVtLnN0eWxlW2EucHJvcF09KGEucHJvcD09PSJ3aWR0aCJ8fGEucHJvcD09PSJoZWlnaHQiP01hdGgubWF4KDAsYS5ub3cpOmEubm93KSthLnVuaXQ6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0pLGYuZXhwciYmZi5leHByLmZpbHRlcnMmJihmLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gZi5ncmVwKGYudGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofSk7dmFyIGN1PS9edCg/OmFibGV8ZHxoKSQvaSxjdj0vXig/OmJvZHl8aHRtbCkkL2k7ImdldEJvdW5kaW5nQ2xpZW50UmVjdCJpbiBjLmRvY3VtZW50RWxlbWVudD9mLmZuLm9mZnNldD1mdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdLGM7aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGYub2Zmc2V0LmJvZHlPZmZzZXQoYik7dHJ5e2M9Yi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChkKXt9dmFyIGU9Yi5vd25lckRvY3VtZW50LGc9ZS5kb2N1bWVudEVsZW1lbnQ7aWYoIWN8fCFmLmNvbnRhaW5zKGcsYikpcmV0dXJuIGM/e3RvcDpjLnRvcCxsZWZ0OmMubGVmdH06e3RvcDowLGxlZnQ6MH07dmFyIGg9ZS5ib2R5LGk9Y3coZSksaj1nLmNsaWVudFRvcHx8aC5jbGllbnRUb3B8fDAsaz1nLmNsaWVudExlZnR8fGguY2xpZW50TGVmdHx8MCxsPWkucGFnZVlPZmZzZXR8fGYuc3VwcG9ydC5ib3hNb2RlbCYmZy5zY3JvbGxUb3B8fGguc2Nyb2xsVG9wLG09aS5wYWdlWE9mZnNldHx8Zi5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbExlZnR8fGguc2Nyb2xsTGVmdCxuPWMudG9wK2wtaixvPWMubGVmdCttLWs7cmV0dXJue3RvcDpuLGxlZnQ6b319OmYuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF07aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGYub2Zmc2V0LmJvZHlPZmZzZXQoYik7Zi5vZmZzZXQuaW5pdGlhbGl6ZSgpO3ZhciBjLGQ9Yi5vZmZzZXRQYXJlbnQsZT1iLGc9Yi5vd25lckRvY3VtZW50LGg9Zy5kb2N1bWVudEVsZW1lbnQsaT1nLmJvZHksaj1nLmRlZmF1bHRWaWV3LGs9aj9qLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZSxsPWIub2Zmc2V0VG9wLG09Yi5vZmZzZXRMZWZ0O3doaWxlKChiPWIucGFyZW50Tm9kZSkmJmIhPT1pJiZiIT09aCl7aWYoZi5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIilicmVhaztjPWo/ai5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUsbC09Yi5zY3JvbGxUb3AsbS09Yi5zY3JvbGxMZWZ0LGI9PT1kJiYobCs9Yi5vZmZzZXRUb3AsbSs9Yi5vZmZzZXRMZWZ0LGYub2Zmc2V0LmRvZXNOb3RBZGRCb3JkZXImJighZi5vZmZzZXQuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHN8fCFjdS50ZXN0KGIubm9kZU5hbWUpKSYmKGwrPXBhcnNlRmxvYXQoYy5ib3JkZXJUb3BXaWR0aCl8fDAsbSs9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCl8fDApLGU9ZCxkPWIub2Zmc2V0UGFyZW50KSxmLm9mZnNldC5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGUmJmMub3ZlcmZsb3chPT0idmlzaWJsZSImJihsKz1wYXJzZUZsb2F0KGMuYm9yZGVyVG9wV2lkdGgpfHwwLG0rPXBhcnNlRmxvYXQoYy5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxrPWN9aWYoay5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGsucG9zaXRpb249PT0ic3RhdGljIilsKz1pLm9mZnNldFRvcCxtKz1pLm9mZnNldExlZnQ7Zi5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIiYmKGwrPU1hdGgubWF4KGguc2Nyb2xsVG9wLGkuc2Nyb2xsVG9wKSxtKz1NYXRoLm1heChoLnNjcm9sbExlZnQsaS5zY3JvbGxMZWZ0KSk7cmV0dXJue3RvcDpsLGxlZnQ6bX19LGYub2Zmc2V0PXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9Yy5ib2R5LGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLGUsZyxoLGk9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsaj0iPGRpdiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7Jz48ZGl2PjwvZGl2PjwvZGl2Pjx0YWJsZSBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7JyBjZWxscGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnPjx0cj48dGQ+PC90ZD48L3RyPjwvdGFibGU+IjtmLmV4dGVuZChiLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxib3JkZXI6MCx3aWR0aDoiMXB4IixoZWlnaHQ6IjFweCIsdmlzaWJpbGl0eToiaGlkZGVuIn0pLGIuaW5uZXJIVE1MPWosYS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpLGQ9Yi5maXJzdENoaWxkLGU9ZC5maXJzdENoaWxkLGg9ZC5uZXh0U2libGluZy5maXJzdENoaWxkLmZpcnN0Q2hpbGQsdGhpcy5kb2VzTm90QWRkQm9yZGVyPWUub2Zmc2V0VG9wIT09NSx0aGlzLmRvZXNBZGRCb3JkZXJGb3JUYWJsZUFuZENlbGxzPWgub2Zmc2V0VG9wPT09NSxlLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIsZS5zdHlsZS50b3A9IjIwcHgiLHRoaXMuc3VwcG9ydHNGaXhlZFBvc2l0aW9uPWUub2Zmc2V0VG9wPT09MjB8fGUub2Zmc2V0VG9wPT09MTUsZS5zdHlsZS5wb3NpdGlvbj1lLnN0eWxlLnRvcD0iIixkLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIix0aGlzLnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZT1lLm9mZnNldFRvcD09PS01LHRoaXMuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQ9YS5vZmZzZXRUb3AhPT1pLGEucmVtb3ZlQ2hpbGQoYiksZi5vZmZzZXQuaW5pdGlhbGl6ZT1mLm5vb3B9LGJvZHlPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRUb3AsYz1hLm9mZnNldExlZnQ7Zi5vZmZzZXQuaW5pdGlhbGl6ZSgpLGYub2Zmc2V0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYoYis9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYys9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwKTtyZXR1cm57dG9wOmIsbGVmdDpjfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mLmNzcyhhLCJwb3NpdGlvbiIpO2Q9PT0ic3RhdGljIiYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGU9ZihhKSxnPWUub2Zmc2V0KCksaD1mLmNzcyhhLCJ0b3AiKSxpPWYuY3NzKGEsImxlZnQiKSxqPShkPT09ImFic29sdXRlInx8ZD09PSJmaXhlZCIpJiZmLmluQXJyYXkoImF1dG8iLFtoLGldKT4tMSxrPXt9LGw9e30sbSxuO2o/KGw9ZS5wb3NpdGlvbigpLG09bC50b3Asbj1sLmxlZnQpOihtPXBhcnNlRmxvYXQoaCl8fDAsbj1wYXJzZUZsb2F0KGkpfHwwKSxmLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsZykpLGIudG9wIT1udWxsJiYoay50b3A9Yi50b3AtZy50b3ArbSksYi5sZWZ0IT1udWxsJiYoay5sZWZ0PWIubGVmdC1nLmxlZnQrbiksInVzaW5nImluIGI/Yi51c2luZy5jYWxsKGEsayk6ZS5jc3Moayl9fSxmLmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm4gbnVsbDt2YXIgYT10aGlzWzBdLGI9dGhpcy5vZmZzZXRQYXJlbnQoKSxjPXRoaXMub2Zmc2V0KCksZD1jdi50ZXN0KGJbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCk7Yy50b3AtPXBhcnNlRmxvYXQoZi5jc3MoYSwibWFyZ2luVG9wIikpfHwwLGMubGVmdC09cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwLGQudG9wKz1wYXJzZUZsb2F0KGYuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLGQubGVmdCs9cGFyc2VGbG9hdChmLmNzcyhiWzBdLCJib3JkZXJMZWZ0V2lkdGgiKSl8fDA7cmV0dXJue3RvcDpjLnRvcC1kLnRvcCxsZWZ0OmMubGVmdC1kLmxlZnR9fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8Yy5ib2R5O3doaWxlKGEmJiFjdi50ZXN0KGEubm9kZU5hbWUpJiZmLmNzcyhhLCJwb3NpdGlvbiIpPT09InN0YXRpYyIpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYX0pfX0pLGYuZWFjaChbIkxlZnQiLCJUb3AiXSxmdW5jdGlvbihhLGMpe3ZhciBkPSJzY3JvbGwiK2M7Zi5mbltkXT1mdW5jdGlvbihjKXt2YXIgZSxnO2lmKGM9PT1iKXtlPXRoaXNbMF07aWYoIWUpcmV0dXJuIG51bGw7Zz1jdyhlKTtyZXR1cm4gZz8icGFnZVhPZmZzZXQiaW4gZz9nW2E/InBhZ2VZT2Zmc2V0IjoicGFnZVhPZmZzZXQiXTpmLnN1cHBvcnQuYm94TW9kZWwmJmcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W2RdfHxnLmRvY3VtZW50LmJvZHlbZF06ZVtkXX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zz1jdyh0aGlzKSxnP2cuc2Nyb2xsVG8oYT9mKGcpLnNjcm9sbExlZnQoKTpjLGE/YzpmKGcpLnNjcm9sbFRvcCgpKTp0aGlzW2RdPWN9KX19KSxmLmVhY2goWyJIZWlnaHQiLCJXaWR0aCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy50b0xvd2VyQ2FzZSgpO2YuZm5bImlubmVyIitjXT1mdW5jdGlvbigpe3JldHVybiB0aGlzWzBdP3BhcnNlRmxvYXQoZi5jc3ModGhpc1swXSxkLCJwYWRkaW5nIikpOm51bGx9LGYuZm5bIm91dGVyIitjXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpc1swXT9wYXJzZUZsb2F0KGYuY3NzKHRoaXNbMF0sZCxhPyJtYXJnaW4iOiJib3JkZXIiKSk6bnVsbH0sZi5mbltkXT1mdW5jdGlvbihhKXt2YXIgZT10aGlzWzBdO2lmKCFlKXJldHVybiBhPT1udWxsP251bGw6dGhpcztpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpO2NbZF0oYS5jYWxsKHRoaXMsYixjW2RdKCkpKX0pO2lmKGYuaXNXaW5kb3coZSkpe3ZhciBnPWUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2NdO3JldHVybiBlLmRvY3VtZW50LmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCImJmd8fGUuZG9jdW1lbnQuYm9keVsiY2xpZW50IitjXXx8Z31pZihlLm5vZGVUeXBlPT09OSlyZXR1cm4gTWF0aC5tYXgoZS5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrY10sZS5ib2R5WyJzY3JvbGwiK2NdLGUuZG9jdW1lbnRFbGVtZW50WyJzY3JvbGwiK2NdLGUuYm9keVsib2Zmc2V0IitjXSxlLmRvY3VtZW50RWxlbWVudFsib2Zmc2V0IitjXSk7aWYoYT09PWIpe3ZhciBoPWYuY3NzKGUsZCksaT1wYXJzZUZsb2F0KGgpO3JldHVybiBmLmlzTmFOKGkpP2g6aX1yZXR1cm4gdGhpcy5jc3MoZCx0eXBlb2YgYT09InN0cmluZyI/YTphKyJweCIpfX0pLGEualF1ZXJ5PWEuJD1mfSkod2luZG93KTs=", "content_type": "application/javascript"}, ".DS_Store": {"data": "AAAAAUJ1ZDEAABgAAAAIAAAAGAAAABALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAABcAAAABAAAQAAB1AHMALgBqAHMAIwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAgLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAACAAAAABAAAAQAAAAAEAAACAAAAAAQAAAQAAAAABAAACAAAAAAEAAAQAAAAAAAAAAAEAABAAAAAAAQAAIAAAAAABAABAAAAAAAEAAIAAAAAAAQABAAAAAAABAAIAAAAAAAEABAAAAAAAAQAIAAAAAAABABAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAIAAAAAAAAEBAAAAAAAAAQIAAAAAAAABBAAAAAAAAAEIAAAAAAAAARAAAAAAAAABIAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFwAAAAoAIwBmAG8AYwB1AHMALgBqAHMAI0lsb2NibG9iAAAAEAAAAVIAAAF4////////AAAAAAAMAC4AIwBpAG4AZABlAHgALgBoAHQAbQBsSWxvY2Jsb2IAAAAQAAAAzAAAAlj///////8AAAAAAAoALgAjAHQAYQBzAGsAcwAuAGoAc0lsb2NibG9iAAAAEAAAAMwAAAAo////////AAAAAAAJAC4ARABTAF8AUwB0AG8AcgBlSWxvY2Jsb2IAAAAQAAAB2AAAACj///////8AAAAAAA8ANgAxAF8AdABtAHAAMgAwADEANgAwADkAMgA4ADBJbG9jYmxvYgAAABAAAADMAAACyP///////wAAAAAAFQBhAHIAYwBoAGkAdgBlAF8AdABtAHAAMQA3ADUAMQA4ADQANwA1ADcAOElsb2NibG9iAAAAEAAAAMwAAALI////////AAAAAAATAGMAbABvAHUAZABfAHQAbQBwADEAMwAwADYAOQAxADIANgAyADVJbG9jYmxvYgAAABAAAADMAAACyP///////wAAAAAAEQBjAG8AbgB0AHIAbwBsAC0AcABhAHUAcwBlAC4AcABuAGdJbG9jYmxvYgAAABAAAAC7AAAAsgAAAAL//wAAAAAACABlAHkAZQAyAC4AcABuAGdJbG9jYmxvYgAAABAAAABAAAAADf///////wAAAAAACABmAG8AYwB1AHMALgBqAHNJbG9jYmxvYgAAABAAAAC7AAAADf///////wAAAAAACwBmAHIAaQBkAGEAeQAuAGgAdABtAGxJbG9jYmxvYgAAABAAAAE2AAAADf///////wAAAAAACgBoAGEAbQBtAGUAcgAuAHAAbgBnSWxvY2Jsb2IAAAAQAAABsQAAAA3///////8AAAAAAAMAaQBtAGdJbG9jYmxvYgAAABAAAAGVAAAAOgAAACX//2VAAAAACgBpAG4AZABlAHgALgBoAHQAbQBsSWxvY2Jsb2IAAAAQAAAAQAAAAET///////8AAAAAAAIAagBzSWxvY2Jsb2IAAAAQAAABOAAAAD8AAAAe//9SQAAAAAsAbABvAGEAZABpAG4AZwAuAGcAaQBmSWxvY2Jsb2IAAAAQAAAAuwAAAEQAAAAB//8AAAAAABAAbABvAGEAZABpAG4AZwBzAG0AYQBsAGwALgBnAGkAZklsb2NibG9iAAAAEAAAATYAAACyAAAAA///AAAAAAALAG8AdQB0AGwAaQBuAGUALgBwAG4AZ0lsb2NibG9iAAAAEAAAAbEAAABE////////AAAAAAAJAHIAZQBwAGwALgBoAHQAbQBsSWxvY2Jsb2IAAAAQAAAAQAAAAHv///////8AAAAAABMAcwBlAHIAdgBlAHIAXwB0AG0AcAA2ADYAOAA5ADgAOAAyADMANElsb2NibG9iAAAAEAAAAdgAAALI////////AAAAAAAIAHMAdABhAHIALgBwAG4AZ0lsb2NibG9iAAAAEAAAALsAAAB7////////AAAAAAAFAHMAdAB5AGwAZUlsb2NibG9iAAAAEAAAAMwAAAA+AAAAG///TEAAAAAKAHQAaQBjAGsAZQB0AC4AcABuAGdJbG9jYmxvYgAAABAAAAGxAAAAe////////wAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAYCwAAAEUAABALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEERFNEQgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAgAAAAYAAAAAAAAAABAAAAgAAAAAEAAAEAAAAAAQAAAgAAAAABAAAEAAAAAAEAAAgAAAAAAAAAAAEAACAAAAAAAQAAQAAAAAABAACAAAAAAAEAAQAAAAAAAQACAAAAAAABAAQAAAAAAAEACAAAAAAAAQAQAAAAAAABACAAAAAAAAEAQAAAAAAAAQCAAAAAAAABAQAAAAAAAAECAAAAAAAAAQQAAAAAAAABCAAAAAAAAAEQAAAAAAAAASAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==", "content_type": ""}, "js/jquery-1.5.2.min.js": {"data": "LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuNS4yCiAqIGh0dHA6Ly9qcXVlcnkuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMSwgSm9obiBSZXNpZwogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBJbmNsdWRlcyBTaXp6bGUuanMKICogaHR0cDovL3NpenpsZWpzLmNvbS8KICogQ29weXJpZ2h0IDIwMTEsIFRoZSBEb2pvIEZvdW5kYXRpb24KICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCwgQlNELCBhbmQgR1BMIExpY2Vuc2VzLgogKgogKiBEYXRlOiBUaHUgTWFyIDMxIDE1OjI4OjIzIDIwMTEgLTA0MDAKICovCihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGNpKGEpe3JldHVybiBkLmlzV2luZG93KGEpP2E6YS5ub2RlVHlwZT09PTk/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9ZnVuY3Rpb24gY2YoYSl7aWYoIWJfW2FdKXt2YXIgYj1kKCI8IithKyI+IikuYXBwZW5kVG8oImJvZHkiKSxjPWIuY3NzKCJkaXNwbGF5Iik7Yi5yZW1vdmUoKTtpZihjPT09Im5vbmUifHxjPT09IiIpYz0iYmxvY2siO2JfW2FdPWN9cmV0dXJuIGJfW2FdfWZ1bmN0aW9uIGNlKGEsYil7dmFyIGM9e307ZC5lYWNoKGNkLmNvbmNhdC5hcHBseShbXSxjZC5zbGljZSgwLGIpKSxmdW5jdGlvbigpe2NbdGhpc109YX0pO3JldHVybiBjfWZ1bmN0aW9uIGIkKCl7dHJ5e3JldHVybiBuZXcgYS5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpfWNhdGNoKGIpe319ZnVuY3Rpb24gYlooKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319ZnVuY3Rpb24gYlkoKXtkKGEpLnVubG9hZChmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBiVyliV1thXSgwLDEpfSl9ZnVuY3Rpb24gYlMoYSxjKXthLmRhdGFGaWx0ZXImJihjPWEuZGF0YUZpbHRlcihjLGEuZGF0YVR5cGUpKTt2YXIgZT1hLmRhdGFUeXBlcyxmPXt9LGcsaCxpPWUubGVuZ3RoLGosaz1lWzBdLGwsbSxuLG8scDtmb3IoZz0xO2c8aTtnKyspe2lmKGc9PT0xKWZvcihoIGluIGEuY29udmVydGVycyl0eXBlb2YgaD09PSJzdHJpbmciJiYoZltoLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1toXSk7bD1rLGs9ZVtnXTtpZihrPT09IioiKWs9bDtlbHNlIGlmKGwhPT0iKiImJmwhPT1rKXttPWwrIiAiK2ssbj1mW21dfHxmWyIqICIra107aWYoIW4pe3A9Yjtmb3IobyBpbiBmKXtqPW8uc3BsaXQoIiAiKTtpZihqWzBdPT09bHx8alswXT09PSIqIil7cD1mW2pbMV0rIiAiK2tdO2lmKHApe289ZltvXSxvPT09ITA/bj1wOnA9PT0hMCYmKG49byk7YnJlYWt9fX19IW4mJiFwJiZkLmVycm9yKCJObyBjb252ZXJzaW9uIGZyb20gIittLnJlcGxhY2UoIiAiLCIgdG8gIikpLG4hPT0hMCYmKGM9bj9uKGMpOnAobyhjKSkpfX1yZXR1cm4gY31mdW5jdGlvbiBiUihhLGMsZCl7dmFyIGU9YS5jb250ZW50cyxmPWEuZGF0YVR5cGVzLGc9YS5yZXNwb25zZUZpZWxkcyxoLGksaixrO2ZvcihpIGluIGcpaSBpbiBkJiYoY1tnW2ldXT1kW2ldKTt3aGlsZShmWzBdPT09IioiKWYuc2hpZnQoKSxoPT09YiYmKGg9YS5taW1lVHlwZXx8Yy5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpO2lmKGgpZm9yKGkgaW4gZSlpZihlW2ldJiZlW2ldLnRlc3QoaCkpe2YudW5zaGlmdChpKTticmVha31pZihmWzBdaW4gZClqPWZbMF07ZWxzZXtmb3IoaSBpbiBkKXtpZighZlswXXx8YS5jb252ZXJ0ZXJzW2krIiAiK2ZbMF1dKXtqPWk7YnJlYWt9a3x8KGs9aSl9aj1qfHxrfWlmKGope2ohPT1mWzBdJiZmLnVuc2hpZnQoaik7cmV0dXJuIGRbal19fWZ1bmN0aW9uIGJRKGEsYixjLGUpe2lmKGQuaXNBcnJheShiKSYmYi5sZW5ndGgpZC5lYWNoKGIsZnVuY3Rpb24oYixmKXtjfHxicy50ZXN0KGEpP2UoYSxmKTpiUShhKyJbIisodHlwZW9mIGY9PT0ib2JqZWN0Inx8ZC5pc0FycmF5KGYpP2I6IiIpKyJdIixmLGMsZSl9KTtlbHNlIGlmKGN8fGI9PW51bGx8fHR5cGVvZiBiIT09Im9iamVjdCIpZShhLGIpO2Vsc2UgaWYoZC5pc0FycmF5KGIpfHxkLmlzRW1wdHlPYmplY3QoYikpZShhLCIiKTtlbHNlIGZvcih2YXIgZiBpbiBiKWJRKGErIlsiK2YrIl0iLGJbZl0sYyxlKX1mdW5jdGlvbiBiUChhLGMsZCxlLGYsZyl7Zj1mfHxjLmRhdGFUeXBlc1swXSxnPWd8fHt9LGdbZl09ITA7dmFyIGg9YVtmXSxpPTAsaj1oP2gubGVuZ3RoOjAsaz1hPT09YkosbDtmb3IoO2k8aiYmKGt8fCFsKTtpKyspbD1oW2ldKGMsZCxlKSx0eXBlb2YgbD09PSJzdHJpbmciJiYoIWt8fGdbbF0/bD1iOihjLmRhdGFUeXBlcy51bnNoaWZ0KGwpLGw9YlAoYSxjLGQsZSxsLGcpKSk7KGt8fCFsKSYmIWdbIioiXSYmKGw9YlAoYSxjLGQsZSwiKiIsZykpO3JldHVybiBsfWZ1bmN0aW9uIGJPKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3R5cGVvZiBiIT09InN0cmluZyImJihjPWIsYj0iKiIpO2lmKGQuaXNGdW5jdGlvbihjKSl7dmFyIGU9Yi50b0xvd2VyQ2FzZSgpLnNwbGl0KGJEKSxmPTAsZz1lLmxlbmd0aCxoLGksajtmb3IoO2Y8ZztmKyspaD1lW2ZdLGo9L15cKy8udGVzdChoKSxqJiYoaD1oLnN1YnN0cigxKXx8IioiKSxpPWFbaF09YVtoXXx8W10saVtqPyJ1bnNoaWZ0IjoicHVzaCJdKGMpfX19ZnVuY3Rpb24gYnEoYSxiLGMpe3ZhciBlPWI9PT0id2lkdGgiP2JrOmJsLGY9Yj09PSJ3aWR0aCI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodDtpZihjPT09ImJvcmRlciIpcmV0dXJuIGY7ZC5lYWNoKGUsZnVuY3Rpb24oKXtjfHwoZi09cGFyc2VGbG9hdChkLmNzcyhhLCJwYWRkaW5nIit0aGlzKSl8fDApLGM9PT0ibWFyZ2luIj9mKz1wYXJzZUZsb2F0KGQuY3NzKGEsIm1hcmdpbiIrdGhpcykpfHwwOmYtPXBhcnNlRmxvYXQoZC5jc3MoYSwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MH0pO3JldHVybiBmfWZ1bmN0aW9uIGJjKGEsYil7Yi5zcmM/ZC5hamF4KHt1cmw6Yi5zcmMsYXN5bmM6ITEsZGF0YVR5cGU6InNjcmlwdCJ9KTpkLmdsb2JhbEV2YWwoYi50ZXh0fHxiLnRleHRDb250ZW50fHxiLmlubmVySFRNTHx8IiIpLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIGJiKGEpe3JldHVybiJnZXRFbGVtZW50c0J5VGFnTmFtZSJpbiBhP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKToicXVlcnlTZWxlY3RvckFsbCJpbiBhP2EucXVlcnlTZWxlY3RvckFsbCgiKiIpOltdfWZ1bmN0aW9uIGJhKGEsYil7aWYoYi5ub2RlVHlwZT09PTEpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtiLmNsZWFyQXR0cmlidXRlcygpLGIubWVyZ2VBdHRyaWJ1dGVzKGEpO2lmKGM9PT0ib2JqZWN0IiliLm91dGVySFRNTD1hLm91dGVySFRNTDtlbHNlIGlmKGMhPT0iaW5wdXQifHxhLnR5cGUhPT0iY2hlY2tib3giJiZhLnR5cGUhPT0icmFkaW8iKXtpZihjPT09Im9wdGlvbiIpYi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDtlbHNlIGlmKGM9PT0iaW5wdXQifHxjPT09InRleHRhcmVhIiliLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZX1lbHNlIGEuY2hlY2tlZCYmKGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCksYi52YWx1ZSE9PWEudmFsdWUmJihiLnZhbHVlPWEudmFsdWUpO2IucmVtb3ZlQXR0cmlidXRlKGQuZXhwYW5kbyl9fWZ1bmN0aW9uIF8oYSxiKXtpZihiLm5vZGVUeXBlPT09MSYmZC5oYXNEYXRhKGEpKXt2YXIgYz1kLmV4cGFuZG8sZT1kLmRhdGEoYSksZj1kLmRhdGEoYixlKTtpZihlPWVbY10pe3ZhciBnPWUuZXZlbnRzO2Y9ZltjXT1kLmV4dGVuZCh7fSxlKTtpZihnKXtkZWxldGUgZi5oYW5kbGUsZi5ldmVudHM9e307Zm9yKHZhciBoIGluIGcpZm9yKHZhciBpPTAsaj1nW2hdLmxlbmd0aDtpPGo7aSsrKWQuZXZlbnQuYWRkKGIsaCsoZ1toXVtpXS5uYW1lc3BhY2U/Ii4iOiIiKStnW2hdW2ldLm5hbWVzcGFjZSxnW2hdW2ldLGdbaF1baV0uZGF0YSl9fX19ZnVuY3Rpb24gJChhLGIpe3JldHVybiBkLm5vZGVOYW1lKGEsInRhYmxlIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBRKGEsYixjKXtpZihkLmlzRnVuY3Rpb24oYikpcmV0dXJuIGQuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7dmFyIGU9ISFiLmNhbGwoYSxkLGEpO3JldHVybiBlPT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIGQuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGE9PT1iPT09Y30pO2lmKHR5cGVvZiBiPT09InN0cmluZyIpe3ZhciBlPWQuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVUeXBlPT09MX0pO2lmKEwudGVzdChiKSlyZXR1cm4gZC5maWx0ZXIoYixlLCFjKTtiPWQuZmlsdGVyKGIsZSl9cmV0dXJuIGQuZ3JlcChhLGZ1bmN0aW9uKGEsZSl7cmV0dXJuIGQuaW5BcnJheShhLGIpPj0wPT09Y30pfWZ1bmN0aW9uIFAoYSl7cmV0dXJuIWF8fCFhLnBhcmVudE5vZGV8fGEucGFyZW50Tm9kZS5ub2RlVHlwZT09PTExfWZ1bmN0aW9uIEgoYSxiKXtyZXR1cm4oYSYmYSE9PSIqIj9hKyIuIjoiIikrYi5yZXBsYWNlKHQsImAiKS5yZXBsYWNlKHUsIiYiKX1mdW5jdGlvbiBHKGEpe3ZhciBiLGMsZSxmLGcsaCxpLGosayxsLG0sbixvLHA9W10scT1bXSxzPWQuX2RhdGEodGhpcywiZXZlbnRzIik7aWYoYS5saXZlRmlyZWQhPT10aGlzJiZzJiZzLmxpdmUmJiFhLnRhcmdldC5kaXNhYmxlZCYmKCFhLmJ1dHRvbnx8YS50eXBlIT09ImNsaWNrIikpe2EubmFtZXNwYWNlJiYobj1uZXcgUmVnRXhwKCIoXnxcXC4pIithLm5hbWVzcGFjZS5zcGxpdCgiLiIpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxhLmxpdmVGaXJlZD10aGlzO3ZhciB0PXMubGl2ZS5zbGljZSgwKTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWc9dFtpXSxnLm9yaWdUeXBlLnJlcGxhY2UociwiIik9PT1hLnR5cGU/cS5wdXNoKGcuc2VsZWN0b3IpOnQuc3BsaWNlKGktLSwxKTtmPWQoYS50YXJnZXQpLmNsb3Nlc3QocSxhLmN1cnJlbnRUYXJnZXQpO2ZvcihqPTAsaz1mLmxlbmd0aDtqPGs7aisrKXttPWZbal07Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyl7Zz10W2ldO2lmKG0uc2VsZWN0b3I9PT1nLnNlbGVjdG9yJiYoIW58fG4udGVzdChnLm5hbWVzcGFjZSkpJiYhbS5lbGVtLmRpc2FibGVkKXtoPW0uZWxlbSxlPW51bGw7aWYoZy5wcmVUeXBlPT09Im1vdXNlZW50ZXIifHxnLnByZVR5cGU9PT0ibW91c2VsZWF2ZSIpYS50eXBlPWcucHJlVHlwZSxlPWQoYS5yZWxhdGVkVGFyZ2V0KS5jbG9zZXN0KGcuc2VsZWN0b3IpWzBdOyghZXx8ZSE9PWgpJiZwLnB1c2goe2VsZW06aCxoYW5kbGVPYmo6ZyxsZXZlbDptLmxldmVsfSl9fX1mb3Ioaj0wLGs9cC5sZW5ndGg7ajxrO2orKyl7Zj1wW2pdO2lmKGMmJmYubGV2ZWw+YylicmVhazthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGEuZGF0YT1mLmhhbmRsZU9iai5kYXRhLGEuaGFuZGxlT2JqPWYuaGFuZGxlT2JqLG89Zi5oYW5kbGVPYmoub3JpZ0hhbmRsZXIuYXBwbHkoZi5lbGVtLGFyZ3VtZW50cyk7aWYobz09PSExfHxhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2M9Zi5sZXZlbCxvPT09ITEmJihiPSExKTtpZihhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpYnJlYWt9fXJldHVybiBifX1mdW5jdGlvbiBFKGEsYyxlKXt2YXIgZj1kLmV4dGVuZCh7fSxlWzBdKTtmLnR5cGU9YSxmLm9yaWdpbmFsRXZlbnQ9e30sZi5saXZlRmlyZWQ9YixkLmV2ZW50LmhhbmRsZS5jYWxsKGMsZiksZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmZVswXS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIHkoKXtyZXR1cm4hMH1mdW5jdGlvbiB4KCl7cmV0dXJuITF9ZnVuY3Rpb24gaShhKXtmb3IodmFyIGIgaW4gYSlpZihiIT09InRvSlNPTiIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaChhLGMsZSl7aWYoZT09PWImJmEubm9kZVR5cGU9PT0xKXtlPWEuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYyk7aWYodHlwZW9mIGU9PT0ic3RyaW5nIil7dHJ5e2U9ZT09PSJ0cnVlIj8hMDplPT09ImZhbHNlIj8hMTplPT09Im51bGwiP251bGw6ZC5pc05hTihlKT9nLnRlc3QoZSk/ZC5wYXJzZUpTT04oZSk6ZTpwYXJzZUZsb2F0KGUpfWNhdGNoKGYpe31kLmRhdGEoYSxjLGUpfWVsc2UgZT1ifXJldHVybiBlfXZhciBjPWEuZG9jdW1lbnQsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIEcoKXtpZighZC5pc1JlYWR5KXt0cnl7Yy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChhKXtzZXRUaW1lb3V0KEcsMSk7cmV0dXJufWQucmVhZHkoKX19dmFyIGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGQuZm4uaW5pdChhLGIsZyl9LGU9YS5qUXVlcnksZj1hLiQsZyxoPS9eKD86W148XSooPFtcd1xXXSs+KVtePl0qJHwjKFtcd1wtXSspJCkvLGk9L1xTLyxqPS9eXHMrLyxrPS9ccyskLyxsPS9cZC8sbT0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT4pPyQvLG49L15bXF0sOnt9XHNdKiQvLG89L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyxwPS8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZyxxPS8oPzpefDp8LCkoPzpccypcWykrL2cscj0vKHdlYmtpdClbIFwvXShbXHcuXSspLyxzPS8ob3BlcmEpKD86Lip2ZXJzaW9uKT9bIFwvXShbXHcuXSspLyx0PS8obXNpZSkgKFtcdy5dKykvLHU9Lyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKSk/Lyx2PW5hdmlnYXRvci51c2VyQWdlbnQsdyx4LHksej1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxCPUFycmF5LnByb3RvdHlwZS5wdXNoLEM9QXJyYXkucHJvdG90eXBlLnNsaWNlLEQ9U3RyaW5nLnByb3RvdHlwZS50cmltLEU9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsRj17fTtkLmZuPWQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkLGluaXQ6ZnVuY3Rpb24oYSxlLGYpe3ZhciBnLGksaixrO2lmKCFhKXJldHVybiB0aGlzO2lmKGEubm9kZVR5cGUpe3RoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31pZihhPT09ImJvZHkiJiYhZSYmYy5ib2R5KXt0aGlzLmNvbnRleHQ9Yyx0aGlzWzBdPWMuYm9keSx0aGlzLnNlbGVjdG9yPSJib2R5Iix0aGlzLmxlbmd0aD0xO3JldHVybiB0aGlzfWlmKHR5cGVvZiBhPT09InN0cmluZyIpe2c9aC5leGVjKGEpO2lmKCFnfHwhZ1sxXSYmZSlyZXR1cm4hZXx8ZS5qcXVlcnk/KGV8fGYpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihlKS5maW5kKGEpO2lmKGdbMV0pe2U9ZSBpbnN0YW5jZW9mIGQ/ZVswXTplLGs9ZT9lLm93bmVyRG9jdW1lbnR8fGU6YyxqPW0uZXhlYyhhKSxqP2QuaXNQbGFpbk9iamVjdChlKT8oYT1bYy5jcmVhdGVFbGVtZW50KGpbMV0pXSxkLmZuLmF0dHIuY2FsbChhLGUsITApKTphPVtrLmNyZWF0ZUVsZW1lbnQoalsxXSldOihqPWQuYnVpbGRGcmFnbWVudChbZ1sxXV0sW2tdKSxhPShqLmNhY2hlYWJsZT9kLmNsb25lKGouZnJhZ21lbnQpOmouZnJhZ21lbnQpLmNoaWxkTm9kZXMpO3JldHVybiBkLm1lcmdlKHRoaXMsYSl9aT1jLmdldEVsZW1lbnRCeUlkKGdbMl0pO2lmKGkmJmkucGFyZW50Tm9kZSl7aWYoaS5pZCE9PWdbMl0pcmV0dXJuIGYuZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09aX10aGlzLmNvbnRleHQ9Yyx0aGlzLnNlbGVjdG9yPWE7cmV0dXJuIHRoaXN9aWYoZC5pc0Z1bmN0aW9uKGEpKXJldHVybiBmLnJlYWR5KGEpO2Euc2VsZWN0b3IhPT1iJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpO3JldHVybiBkLm1ha2VBcnJheShhLHRoaXMpfSxzZWxlY3RvcjoiIixqcXVlcnk6IjEuNS4yIixsZW5ndGg6MCxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIEMuY2FsbCh0aGlzLDApfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/dGhpcy50b0FycmF5KCk6YTwwP3RoaXNbdGhpcy5sZW5ndGgrYV06dGhpc1thXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT10aGlzLmNvbnN0cnVjdG9yKCk7ZC5pc0FycmF5KGEpP0IuYXBwbHkoZSxhKTpkLm1lcmdlKGUsYSksZS5wcmV2T2JqZWN0PXRoaXMsZS5jb250ZXh0PXRoaXMuY29udGV4dCxiPT09ImZpbmQiP2Uuc2VsZWN0b3I9dGhpcy5zZWxlY3RvcisodGhpcy5zZWxlY3Rvcj8iICI6IiIpK2M6YiYmKGUuc2VsZWN0b3I9dGhpcy5zZWxlY3RvcisiLiIrYisiKCIrYysiKSIpO3JldHVybiBlfSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQuZWFjaCh0aGlzLGEsYil9LHJlYWR5OmZ1bmN0aW9uKGEpe2QuYmluZFJlYWR5KCkseC5kb25lKGEpO3JldHVybiB0aGlzfSxlcTpmdW5jdGlvbihhKXtyZXR1cm4gYT09PS0xP3RoaXMuc2xpY2UoYSk6dGhpcy5zbGljZShhLCthKzEpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhDLmFwcGx5KHRoaXMsYXJndW1lbnRzKSwic2xpY2UiLEMuY2FsbChhcmd1bWVudHMpLmpvaW4oIiwiKSl9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOkIsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LGQuZm4uaW5pdC5wcm90b3R5cGU9ZC5mbixkLmV4dGVuZD1kLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGMsZSxmLGcsaCxpPWFyZ3VtZW50c1swXXx8e30saj0xLGs9YXJndW1lbnRzLmxlbmd0aCxsPSExO3R5cGVvZiBpPT09ImJvb2xlYW4iJiYobD1pLGk9YXJndW1lbnRzWzFdfHx7fSxqPTIpLHR5cGVvZiBpIT09Im9iamVjdCImJiFkLmlzRnVuY3Rpb24oaSkmJihpPXt9KSxrPT09aiYmKGk9dGhpcywtLWopO2Zvcig7ajxrO2orKylpZigoYT1hcmd1bWVudHNbal0pIT1udWxsKWZvcihjIGluIGEpe2U9aVtjXSxmPWFbY107aWYoaT09PWYpY29udGludWU7bCYmZiYmKGQuaXNQbGFpbk9iamVjdChmKXx8KGc9ZC5pc0FycmF5KGYpKSk/KGc/KGc9ITEsaD1lJiZkLmlzQXJyYXkoZSk/ZTpbXSk6aD1lJiZkLmlzUGxhaW5PYmplY3QoZSk/ZTp7fSxpW2NdPWQuZXh0ZW5kKGwsaCxmKSk6ZiE9PWImJihpW2NdPWYpfXJldHVybiBpfSxkLmV4dGVuZCh7bm9Db25mbGljdDpmdW5jdGlvbihiKXthLiQ9ZixiJiYoYS5qUXVlcnk9ZSk7cmV0dXJuIGR9LGlzUmVhZHk6ITEscmVhZHlXYWl0OjEscmVhZHk6ZnVuY3Rpb24oYSl7YT09PSEwJiZkLnJlYWR5V2FpdC0tO2lmKCFkLnJlYWR5V2FpdHx8YSE9PSEwJiYhZC5pc1JlYWR5KXtpZighYy5ib2R5KXJldHVybiBzZXRUaW1lb3V0KGQucmVhZHksMSk7ZC5pc1JlYWR5PSEwO2lmKGEhPT0hMCYmLS1kLnJlYWR5V2FpdD4wKXJldHVybjt4LnJlc29sdmVXaXRoKGMsW2RdKSxkLmZuLnRyaWdnZXImJmQoYykudHJpZ2dlcigicmVhZHkiKS51bmJpbmQoInJlYWR5Iil9fSxiaW5kUmVhZHk6ZnVuY3Rpb24oKXtpZigheCl7eD1kLl9EZWZlcnJlZCgpO2lmKGMucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpcmV0dXJuIHNldFRpbWVvdXQoZC5yZWFkeSwxKTtpZihjLmFkZEV2ZW50TGlzdGVuZXIpYy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix5LCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQucmVhZHksITEpO2Vsc2UgaWYoYy5hdHRhY2hFdmVudCl7Yy5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIix5KSxhLmF0dGFjaEV2ZW50KCJvbmxvYWQiLGQucmVhZHkpO3ZhciBiPSExO3RyeXtiPWEuZnJhbWVFbGVtZW50PT1udWxsfWNhdGNoKGUpe31jLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmYiYmRygpfX19LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGQudHlwZShhKT09PSJmdW5jdGlvbiJ9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIGQudHlwZShhKT09PSJhcnJheSJ9LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYT09PSJvYmplY3QiJiYic2V0SW50ZXJ2YWwiaW4gYX0saXNOYU46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGx8fCFsLnRlc3QoYSl8fGlzTmFOKGEpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP1N0cmluZyhhKTpGW3ouY2FsbChhKV18fCJvYmplY3QifSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKCFhfHxkLnR5cGUoYSkhPT0ib2JqZWN0Inx8YS5ub2RlVHlwZXx8ZC5pc1dpbmRvdyhhKSlyZXR1cm4hMTtpZihhLmNvbnN0cnVjdG9yJiYhQS5jYWxsKGEsImNvbnN0cnVjdG9yIikmJiFBLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4hMTt2YXIgYztmb3IoYyBpbiBhKXt9cmV0dXJuIGM9PT1ifHxBLmNhbGwoYSxjKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgYX0scGFyc2VKU09OOmZ1bmN0aW9uKGIpe2lmKHR5cGVvZiBiIT09InN0cmluZyJ8fCFiKXJldHVybiBudWxsO2I9ZC50cmltKGIpO2lmKG4udGVzdChiLnJlcGxhY2UobywiQCIpLnJlcGxhY2UocCwiXSIpLnJlcGxhY2UocSwiIikpKXJldHVybiBhLkpTT04mJmEuSlNPTi5wYXJzZT9hLkpTT04ucGFyc2UoYik6KG5ldyBGdW5jdGlvbigicmV0dXJuICIrYikpKCk7ZC5lcnJvcigiSW52YWxpZCBKU09OOiAiK2IpfSxwYXJzZVhNTDpmdW5jdGlvbihiLGMsZSl7YS5ET01QYXJzZXI/KGU9bmV3IERPTVBhcnNlcixjPWUucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksYy5hc3luYz0iZmFsc2UiLGMubG9hZFhNTChiKSksZT1jLmRvY3VtZW50RWxlbWVudCwoIWV8fCFlLm5vZGVOYW1lfHxlLm5vZGVOYW1lPT09InBhcnNlcmVycm9yIikmJmQuZXJyb3IoIkludmFsaWQgWE1MOiAiK2IpO3JldHVybiBjfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe2lmKGEmJmkudGVzdChhKSl7dmFyIGI9Yy5oZWFkfHxjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGMuZG9jdW1lbnRFbGVtZW50LGU9Yy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtkLnN1cHBvcnQuc2NyaXB0RXZhbCgpP2UuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShhKSk6ZS50ZXh0PWEsYi5pbnNlcnRCZWZvcmUoZSxiLmZpcnN0Q2hpbGQpLGIucmVtb3ZlQ2hpbGQoZSl9fSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk9PT1iLnRvVXBwZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxjLGUpe3ZhciBmLGc9MCxoPWEubGVuZ3RoLGk9aD09PWJ8fGQuaXNGdW5jdGlvbihhKTtpZihlKXtpZihpKXtmb3IoZiBpbiBhKWlmKGMuYXBwbHkoYVtmXSxlKT09PSExKWJyZWFrfWVsc2UgZm9yKDtnPGg7KWlmKGMuYXBwbHkoYVtnKytdLGUpPT09ITEpYnJlYWt9ZWxzZSBpZihpKXtmb3IoZiBpbiBhKWlmKGMuY2FsbChhW2ZdLGYsYVtmXSk9PT0hMSlicmVha31lbHNlIGZvcih2YXIgaj1hWzBdO2c8aCYmYy5jYWxsKGosZyxqKSE9PSExO2o9YVsrK2ddKXt9cmV0dXJuIGF9LHRyaW06RD9mdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjpELmNhbGwoYSl9OmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOihhKyIiKS5yZXBsYWNlKGosIiIpLnJlcGxhY2UoaywiIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO2lmKGEhPW51bGwpe3ZhciBlPWQudHlwZShhKTthLmxlbmd0aD09bnVsbHx8ZT09PSJzdHJpbmcifHxlPT09ImZ1bmN0aW9uInx8ZT09PSJyZWdleHAifHxkLmlzV2luZG93KGEpP0IuY2FsbChjLGEpOmQubWVyZ2UoYyxhKX1yZXR1cm4gY30saW5BcnJheTpmdW5jdGlvbihhLGIpe2lmKGIuaW5kZXhPZilyZXR1cm4gYi5pbmRleE9mKGEpO2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylpZihiW2NdPT09YSlyZXR1cm4gYztyZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hLmxlbmd0aCxlPTA7aWYodHlwZW9mIGMubGVuZ3RoPT09Im51bWJlciIpZm9yKHZhciBmPWMubGVuZ3RoO2U8ZjtlKyspYVtkKytdPWNbZV07ZWxzZSB3aGlsZShjW2VdIT09YilhW2QrK109Y1tlKytdO2EubGVuZ3RoPWQ7cmV0dXJuIGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU7Yz0hIWM7Zm9yKHZhciBmPTAsZz1hLmxlbmd0aDtmPGc7ZisrKWU9ISFiKGFbZl0sZiksYyE9PWUmJmQucHVzaChhW2ZdKTtyZXR1cm4gZH0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlO2Zvcih2YXIgZj0wLGc9YS5sZW5ndGg7ZjxnO2YrKyllPWIoYVtmXSxmLGMpLGUhPW51bGwmJihkW2QubGVuZ3RoXT1lKTtyZXR1cm4gZC5jb25jYXQuYXBwbHkoW10sZCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGMsZSl7YXJndW1lbnRzLmxlbmd0aD09PTImJih0eXBlb2YgYz09PSJzdHJpbmciPyhlPWEsYT1lW2NdLGM9Yik6YyYmIWQuaXNGdW5jdGlvbihjKSYmKGU9YyxjPWIpKSwhYyYmYSYmKGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShlfHx0aGlzLGFyZ3VtZW50cyl9KSxhJiYoYy5ndWlkPWEuZ3VpZD1hLmd1aWR8fGMuZ3VpZHx8ZC5ndWlkKyspO3JldHVybiBjfSxhY2Nlc3M6ZnVuY3Rpb24oYSxjLGUsZixnLGgpe3ZhciBpPWEubGVuZ3RoO2lmKHR5cGVvZiBjPT09Im9iamVjdCIpe2Zvcih2YXIgaiBpbiBjKWQuYWNjZXNzKGEsaixjW2pdLGYsZyxlKTtyZXR1cm4gYX1pZihlIT09Yil7Zj0haCYmZiYmZC5pc0Z1bmN0aW9uKGUpO2Zvcih2YXIgaz0wO2s8aTtrKyspZyhhW2tdLGMsZj9lLmNhbGwoYVtrXSxrLGcoYVtrXSxjKSk6ZSxoKTtyZXR1cm4gYX1yZXR1cm4gaT9nKGFbMF0sYyk6Yn0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHVhTWF0Y2g6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7dmFyIGI9ci5leGVjKGEpfHxzLmV4ZWMoYSl8fHQuZXhlYyhhKXx8YS5pbmRleE9mKCJjb21wYXRpYmxlIik8MCYmdS5leGVjKGEpfHxbXTtyZXR1cm57YnJvd3NlcjpiWzFdfHwiIix2ZXJzaW9uOmJbMl18fCIwIn19LHN1YjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtyZXR1cm4gbmV3IGEuZm4uaW5pdChiLGMpfWQuZXh0ZW5kKCEwLGEsdGhpcyksYS5zdXBlcmNsYXNzPXRoaXMsYS5mbj1hLnByb3RvdHlwZT10aGlzKCksYS5mbi5jb25zdHJ1Y3Rvcj1hLGEuc3ViY2xhc3M9dGhpcy5zdWJjbGFzcyxhLmZuLmluaXQ9ZnVuY3Rpb24gYihiLGMpe2MmJmMgaW5zdGFuY2VvZiBkJiYhKGMgaW5zdGFuY2VvZiBhKSYmKGM9YShjKSk7cmV0dXJuIGQuZm4uaW5pdC5jYWxsKHRoaXMsYixjLGUpfSxhLmZuLmluaXQucHJvdG90eXBlPWEuZm47dmFyIGU9YShjKTtyZXR1cm4gYX0sYnJvd3Nlcjp7fX0pLGQuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe0ZbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSksdz1kLnVhTWF0Y2godiksdy5icm93c2VyJiYoZC5icm93c2VyW3cuYnJvd3Nlcl09ITAsZC5icm93c2VyLnZlcnNpb249dy52ZXJzaW9uKSxkLmJyb3dzZXIud2Via2l0JiYoZC5icm93c2VyLnNhZmFyaT0hMCksRSYmKGQuaW5BcnJheT1mdW5jdGlvbihhLGIpe3JldHVybiBFLmNhbGwoYixhKX0pLGkudGVzdCgiwqAiKSYmKGo9L15bXHNceEEwXSsvLGs9L1tcc1x4QTBdKyQvKSxnPWQoYyksYy5hZGRFdmVudExpc3RlbmVyP3k9ZnVuY3Rpb24oKXtjLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLHksITEpLGQucmVhZHkoKX06Yy5hdHRhY2hFdmVudCYmKHk9ZnVuY3Rpb24oKXtjLnJlYWR5U3RhdGU9PT0iY29tcGxldGUiJiYoYy5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIix5KSxkLnJlYWR5KCkpfSk7cmV0dXJuIGR9KCksZT0idGhlbiBkb25lIGZhaWwgaXNSZXNvbHZlZCBpc1JlamVjdGVkIHByb21pc2UiLnNwbGl0KCIgIiksZj1bXS5zbGljZTtkLmV4dGVuZCh7X0RlZmVycmVkOmZ1bmN0aW9uKCl7dmFyIGE9W10sYixjLGUsZj17ZG9uZTpmdW5jdGlvbigpe2lmKCFlKXt2YXIgYz1hcmd1bWVudHMsZyxoLGksaixrO2ImJihrPWIsYj0wKTtmb3IoZz0wLGg9Yy5sZW5ndGg7ZzxoO2crKylpPWNbZ10saj1kLnR5cGUoaSksaj09PSJhcnJheSI/Zi5kb25lLmFwcGx5KGYsaSk6aj09PSJmdW5jdGlvbiImJmEucHVzaChpKTtrJiZmLnJlc29sdmVXaXRoKGtbMF0sa1sxXSl9cmV0dXJuIHRoaXN9LHJlc29sdmVXaXRoOmZ1bmN0aW9uKGQsZil7aWYoIWUmJiFiJiYhYyl7Zj1mfHxbXSxjPTE7dHJ5e3doaWxlKGFbMF0pYS5zaGlmdCgpLmFwcGx5KGQsZil9ZmluYWxseXtiPVtkLGZdLGM9MH19cmV0dXJuIHRoaXN9LHJlc29sdmU6ZnVuY3Rpb24oKXtmLnJlc29sdmVXaXRoKHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc30saXNSZXNvbHZlZDpmdW5jdGlvbigpe3JldHVybiBjfHxifSxjYW5jZWw6ZnVuY3Rpb24oKXtlPTEsYT1bXTtyZXR1cm4gdGhpc319O3JldHVybiBmfSxEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1kLl9EZWZlcnJlZCgpLGM9ZC5fRGVmZXJyZWQoKSxmO2QuZXh0ZW5kKGIse3RoZW46ZnVuY3Rpb24oYSxjKXtiLmRvbmUoYSkuZmFpbChjKTtyZXR1cm4gdGhpc30sZmFpbDpjLmRvbmUscmVqZWN0V2l0aDpjLnJlc29sdmVXaXRoLHJlamVjdDpjLnJlc29sdmUsaXNSZWplY3RlZDpjLmlzUmVzb2x2ZWQscHJvbWlzZTpmdW5jdGlvbihhKXtpZihhPT1udWxsKXtpZihmKXJldHVybiBmO2Y9YT17fX12YXIgYz1lLmxlbmd0aDt3aGlsZShjLS0pYVtlW2NdXT1iW2VbY11dO3JldHVybiBhfX0pLGIuZG9uZShjLmNhbmNlbCkuZmFpbChiLmNhbmNlbCksZGVsZXRlIGIuY2FuY2VsLGEmJmEuY2FsbChiLGIpO3JldHVybiBifSx3aGVuOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2JbYV09YXJndW1lbnRzLmxlbmd0aD4xP2YuY2FsbChhcmd1bWVudHMsMCk6YywtLWd8fGgucmVzb2x2ZVdpdGgoaCxmLmNhbGwoYiwwKSl9fXZhciBiPWFyZ3VtZW50cyxjPTAsZT1iLmxlbmd0aCxnPWUsaD1lPD0xJiZhJiZkLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hOmQuRGVmZXJyZWQoKTtpZihlPjEpe2Zvcig7YzxlO2MrKyliW2NdJiZkLmlzRnVuY3Rpb24oYltjXS5wcm9taXNlKT9iW2NdLnByb21pc2UoKS50aGVuKGkoYyksaC5yZWplY3QpOi0tZztnfHxoLnJlc29sdmVXaXRoKGgsYil9ZWxzZSBoIT09YSYmaC5yZXNvbHZlV2l0aChoLGU/W2FdOltdKTtyZXR1cm4gaC5wcm9taXNlKCl9fSksZnVuY3Rpb24oKXtkLnN1cHBvcnQ9e307dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGIuaW5uZXJIVE1MPSIgICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnIHN0eWxlPSdjb2xvcjpyZWQ7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41NTsnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+Ijt2YXIgZT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF0sZz1jLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGg9Zy5hcHBlbmRDaGlsZChjLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxpPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF07aWYoZSYmZS5sZW5ndGgmJmYpe2Quc3VwcG9ydD17bGVhZGluZ1doaXRlc3BhY2U6Yi5maXJzdENoaWxkLm5vZGVUeXBlPT09Myx0Ym9keTohYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsaHRtbFNlcmlhbGl6ZTohIWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsc3R5bGU6L3JlZC8udGVzdChmLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksaHJlZk5vcm1hbGl6ZWQ6Zi5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIvYSIsb3BhY2l0eTovXjAuNTUkLy50ZXN0KGYuc3R5bGUub3BhY2l0eSksY3NzRmxvYXQ6ISFmLnN0eWxlLmNzc0Zsb2F0LGNoZWNrT246aS52YWx1ZT09PSJvbiIsb3B0U2VsZWN0ZWQ6aC5zZWxlY3RlZCxkZWxldGVFeHBhbmRvOiEwLG9wdERpc2FibGVkOiExLGNoZWNrQ2xvbmU6ITEsbm9DbG9uZUV2ZW50OiEwLG5vQ2xvbmVDaGVja2VkOiEwLGJveE1vZGVsOm51bGwsaW5saW5lQmxvY2tOZWVkc0xheW91dDohMSxzaHJpbmtXcmFwQmxvY2tzOiExLHJlbGlhYmxlSGlkZGVuT2Zmc2V0czohMCxyZWxpYWJsZU1hcmdpblJpZ2h0OiEwfSxpLmNoZWNrZWQ9ITAsZC5zdXBwb3J0Lm5vQ2xvbmVDaGVja2VkPWkuY2xvbmVOb2RlKCEwKS5jaGVja2VkLGcuZGlzYWJsZWQ9ITAsZC5zdXBwb3J0Lm9wdERpc2FibGVkPSFoLmRpc2FibGVkO3ZhciBqPW51bGw7ZC5zdXBwb3J0LnNjcmlwdEV2YWw9ZnVuY3Rpb24oKXtpZihqPT09bnVsbCl7dmFyIGI9Yy5kb2N1bWVudEVsZW1lbnQsZT1jLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGY9InNjcmlwdCIrZC5ub3coKTt0cnl7ZS5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKCJ3aW5kb3cuIitmKyI9MTsiKSl9Y2F0Y2goZyl7fWIuaW5zZXJ0QmVmb3JlKGUsYi5maXJzdENoaWxkKSxhW2ZdPyhqPSEwLGRlbGV0ZSBhW2ZdKTpqPSExLGIucmVtb3ZlQ2hpbGQoZSl9cmV0dXJuIGp9O3RyeXtkZWxldGUgYi50ZXN0fWNhdGNoKGspe2Quc3VwcG9ydC5kZWxldGVFeHBhbmRvPSExfSFiLmFkZEV2ZW50TGlzdGVuZXImJmIuYXR0YWNoRXZlbnQmJmIuZmlyZUV2ZW50JiYoYi5hdHRhY2hFdmVudCgib25jbGljayIsZnVuY3Rpb24gbCgpe2Quc3VwcG9ydC5ub0Nsb25lRXZlbnQ9ITEsYi5kZXRhY2hFdmVudCgib25jbGljayIsbCl9KSxiLmNsb25lTm9kZSghMCkuZmlyZUV2ZW50KCJvbmNsaWNrIikpLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxiLmlubmVySFRNTD0iPGlucHV0IHR5cGU9J3JhZGlvJyBuYW1lPSdyYWRpb3Rlc3QnIGNoZWNrZWQ9J2NoZWNrZWQnLz4iO3ZhciBtPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO20uYXBwZW5kQ2hpbGQoYi5maXJzdENoaWxkKSxkLnN1cHBvcnQuY2hlY2tDbG9uZT1tLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxkKGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxiPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTtpZihiKXthLnN0eWxlLndpZHRoPWEuc3R5bGUucGFkZGluZ0xlZnQ9IjFweCIsYi5hcHBlbmRDaGlsZChhKSxkLmJveE1vZGVsPWQuc3VwcG9ydC5ib3hNb2RlbD1hLm9mZnNldFdpZHRoPT09Miwiem9vbSJpbiBhLnN0eWxlJiYoYS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLGEuc3R5bGUuem9vbT0xLGQuc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWEub2Zmc2V0V2lkdGg9PT0yLGEuc3R5bGUuZGlzcGxheT0iIixhLmlubmVySFRNTD0iPGRpdiBzdHlsZT0nd2lkdGg6NHB4Oyc+PC9kaXY+IixkLnN1cHBvcnQuc2hyaW5rV3JhcEJsb2Nrcz1hLm9mZnNldFdpZHRoIT09MiksYS5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjA7Ym9yZGVyOjA7ZGlzcGxheTpub25lJz48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+Ijt2YXIgZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpO2Quc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9ZVswXS5vZmZzZXRIZWlnaHQ9PT0wLGVbMF0uc3R5bGUuZGlzcGxheT0iIixlWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGQuc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9ZC5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmZVswXS5vZmZzZXRIZWlnaHQ9PT0wLGEuaW5uZXJIVE1MPSIiLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGEuc3R5bGUud2lkdGg9IjFweCIsYS5zdHlsZS5tYXJnaW5SaWdodD0iMCIsZC5zdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHQ9KHBhcnNlSW50KGMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpLm1hcmdpblJpZ2h0LDEwKXx8MCk9PT0wKSxiLnJlbW92ZUNoaWxkKGEpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGE9ZT1udWxsfX0pO3ZhciBuPWZ1bmN0aW9uKGEpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YT0ib24iK2E7aWYoIWIuYXR0YWNoRXZlbnQpcmV0dXJuITA7dmFyIGQ9YSBpbiBiO2R8fChiLnNldEF0dHJpYnV0ZShhLCJyZXR1cm47IiksZD10eXBlb2YgYlthXT09PSJmdW5jdGlvbiIpO3JldHVybiBkfTtkLnN1cHBvcnQuc3VibWl0QnViYmxlcz1uKCJzdWJtaXQiKSxkLnN1cHBvcnQuY2hhbmdlQnViYmxlcz1uKCJjaGFuZ2UiKSxiPWU9Zj1udWxsfX0oKTt2YXIgZz0vXig/Olx7LipcfXxcWy4qXF0pJC87ZC5leHRlbmQoe2NhY2hlOnt9LHV1aWQ6MCxleHBhbmRvOiJqUXVlcnkiKyhkLmZuLmpxdWVyeStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxub0RhdGE6e2VtYmVkOiEwLG9iamVjdDoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIixhcHBsZXQ6ITB9LGhhc0RhdGE6ZnVuY3Rpb24oYSl7YT1hLm5vZGVUeXBlP2QuY2FjaGVbYVtkLmV4cGFuZG9dXTphW2QuZXhwYW5kb107cmV0dXJuISFhJiYhaShhKX0sZGF0YTpmdW5jdGlvbihhLGMsZSxmKXtpZihkLmFjY2VwdERhdGEoYSkpe3ZhciBnPWQuZXhwYW5kbyxoPXR5cGVvZiBjPT09InN0cmluZyIsaSxqPWEubm9kZVR5cGUsaz1qP2QuY2FjaGU6YSxsPWo/YVtkLmV4cGFuZG9dOmFbZC5leHBhbmRvXSYmZC5leHBhbmRvO2lmKCghbHx8ZiYmbCYmIWtbbF1bZ10pJiZoJiZlPT09YilyZXR1cm47bHx8KGo/YVtkLmV4cGFuZG9dPWw9KytkLnV1aWQ6bD1kLmV4cGFuZG8pLGtbbF18fChrW2xdPXt9LGp8fChrW2xdLnRvSlNPTj1kLm5vb3ApKTtpZih0eXBlb2YgYz09PSJvYmplY3QifHx0eXBlb2YgYz09PSJmdW5jdGlvbiIpZj9rW2xdW2ddPWQuZXh0ZW5kKGtbbF1bZ10sYyk6a1tsXT1kLmV4dGVuZChrW2xdLGMpO2k9a1tsXSxmJiYoaVtnXXx8KGlbZ109e30pLGk9aVtnXSksZSE9PWImJihpW2NdPWUpO2lmKGM9PT0iZXZlbnRzIiYmIWlbY10pcmV0dXJuIGlbZ10mJmlbZ10uZXZlbnRzO3JldHVybiBoP2lbY106aX19LHJlbW92ZURhdGE6ZnVuY3Rpb24oYixjLGUpe2lmKGQuYWNjZXB0RGF0YShiKSl7dmFyIGY9ZC5leHBhbmRvLGc9Yi5ub2RlVHlwZSxoPWc/ZC5jYWNoZTpiLGo9Zz9iW2QuZXhwYW5kb106ZC5leHBhbmRvO2lmKCFoW2pdKXJldHVybjtpZihjKXt2YXIgaz1lP2hbal1bZl06aFtqXTtpZihrKXtkZWxldGUga1tjXTtpZighaShrKSlyZXR1cm59fWlmKGUpe2RlbGV0ZSBoW2pdW2ZdO2lmKCFpKGhbal0pKXJldHVybn12YXIgbD1oW2pdW2ZdO2Quc3VwcG9ydC5kZWxldGVFeHBhbmRvfHxoIT1hP2RlbGV0ZSBoW2pdOmhbal09bnVsbCxsPyhoW2pdPXt9LGd8fChoW2pdLnRvSlNPTj1kLm5vb3ApLGhbal1bZl09bCk6ZyYmKGQuc3VwcG9ydC5kZWxldGVFeHBhbmRvP2RlbGV0ZSBiW2QuZXhwYW5kb106Yi5yZW1vdmVBdHRyaWJ1dGU/Yi5yZW1vdmVBdHRyaWJ1dGUoZC5leHBhbmRvKTpiW2QuZXhwYW5kb109bnVsbCl9fSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGQuZGF0YShhLGIsYywhMCl9LGFjY2VwdERhdGE6ZnVuY3Rpb24oYSl7aWYoYS5ub2RlTmFtZSl7dmFyIGI9ZC5ub0RhdGFbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtpZihiKXJldHVybiBiIT09ITAmJmEuZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1ifXJldHVybiEwfX0pLGQuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYyl7dmFyIGU9bnVsbDtpZih0eXBlb2YgYT09PSJ1bmRlZmluZWQiKXtpZih0aGlzLmxlbmd0aCl7ZT1kLmRhdGEodGhpc1swXSk7aWYodGhpc1swXS5ub2RlVHlwZT09PTEpe3ZhciBmPXRoaXNbMF0uYXR0cmlidXRlcyxnO2Zvcih2YXIgaT0wLGo9Zi5sZW5ndGg7aTxqO2krKylnPWZbaV0ubmFtZSxnLmluZGV4T2YoImRhdGEtIik9PT0wJiYoZz1nLnN1YnN0cig1KSxoKHRoaXNbMF0sZyxlW2ddKSl9fXJldHVybiBlfWlmKHR5cGVvZiBhPT09Im9iamVjdCIpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QuZGF0YSh0aGlzLGEpfSk7dmFyIGs9YS5zcGxpdCgiLiIpO2tbMV09a1sxXT8iLiIra1sxXToiIjtpZihjPT09Yil7ZT10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitrWzFdKyIhIixba1swXV0pLGU9PT1iJiZ0aGlzLmxlbmd0aCYmKGU9ZC5kYXRhKHRoaXNbMF0sYSksZT1oKHRoaXNbMF0sYSxlKSk7cmV0dXJuIGU9PT1iJiZrWzFdP3RoaXMuZGF0YShrWzBdKTplfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1kKHRoaXMpLGU9W2tbMF0sY107Yi50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIra1sxXSsiISIsZSksZC5kYXRhKHRoaXMsYSxjKSxiLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitrWzFdKyIhIixlKX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLGQuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7aWYoYSl7Yj0oYnx8ImZ4IikrInF1ZXVlIjt2YXIgZT1kLl9kYXRhKGEsYik7aWYoIWMpcmV0dXJuIGV8fFtdOyFlfHxkLmlzQXJyYXkoYyk/ZT1kLl9kYXRhKGEsYixkLm1ha2VBcnJheShjKSk6ZS5wdXNoKGMpO3JldHVybiBlfX0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1kLnF1ZXVlKGEsYiksZT1jLnNoaWZ0KCk7ZT09PSJpbnByb2dyZXNzIiYmKGU9Yy5zaGlmdCgpKSxlJiYoYj09PSJmeCImJmMudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGUuY2FsbChhLGZ1bmN0aW9uKCl7ZC5kZXF1ZXVlKGEsYil9KSksYy5sZW5ndGh8fGQucmVtb3ZlRGF0YShhLGIrInF1ZXVlIiwhMCl9fSksZC5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYyl7dHlwZW9mIGEhPT0ic3RyaW5nIiYmKGM9YSxhPSJmeCIpO2lmKGM9PT1iKXJldHVybiBkLnF1ZXVlKHRoaXNbMF0sYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgZT1kLnF1ZXVlKHRoaXMsYSxjKTthPT09ImZ4IiYmZVswXSE9PSJpbnByb2dyZXNzIiYmZC5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZC5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVsYXk6ZnVuY3Rpb24oYSxiKXthPWQuZng/ZC5meC5zcGVlZHNbYV18fGE6YSxiPWJ8fCJmeCI7cmV0dXJuIHRoaXMucXVldWUoYixmdW5jdGlvbigpe3ZhciBjPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2QuZGVxdWV1ZShjLGIpfSxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fCJmeCIsW10pfX0pO3ZhciBqPS9bXG5cdFxyXS9nLGs9L1xzKy8sbD0vXHIvZyxtPS9eKD86aHJlZnxzcmN8c3R5bGUpJC8sbj0vXig/OmJ1dHRvbnxpbnB1dCkkL2ksbz0vXig/OmJ1dHRvbnxpbnB1dHxvYmplY3R8c2VsZWN0fHRleHRhcmVhKSQvaSxwPS9eYSg/OnJlYSk/JC9pLHE9L14oPzpyYWRpb3xjaGVja2JveCkkL2k7ZC5wcm9wcz17ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIscmVhZG9ubHk6InJlYWRPbmx5IixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixyb3dzcGFuOiJyb3dTcGFuIixjb2xzcGFuOiJjb2xTcGFuIix0YWJpbmRleDoidGFiSW5kZXgiLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIifSxkLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBkLmFjY2Vzcyh0aGlzLGEsYiwhMCxkLmF0dHIpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QuYXR0cih0aGlzLGEsIiIpLHRoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKX0pfSxhZGRDbGFzczpmdW5jdGlvbihhKXtpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1kKHRoaXMpO2MuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYixjLmF0dHIoImNsYXNzIikpKX0pO2lmKGEmJnR5cGVvZiBhPT09InN0cmluZyIpe3ZhciBiPShhfHwiIikuc3BsaXQoayk7Zm9yKHZhciBjPTAsZT10aGlzLmxlbmd0aDtjPGU7YysrKXt2YXIgZj10aGlzW2NdO2lmKGYubm9kZVR5cGU9PT0xKWlmKGYuY2xhc3NOYW1lKXt2YXIgZz0iICIrZi5jbGFzc05hbWUrIiAiLGg9Zi5jbGFzc05hbWU7Zm9yKHZhciBpPTAsaj1iLmxlbmd0aDtpPGo7aSsrKWcuaW5kZXhPZigiICIrYltpXSsiICIpPDAmJihoKz0iICIrYltpXSk7Zi5jbGFzc05hbWU9ZC50cmltKGgpfWVsc2UgZi5jbGFzc05hbWU9YX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWQodGhpcyk7Yy5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLGMuYXR0cigiY2xhc3MiKSkpfSk7aWYoYSYmdHlwZW9mIGE9PT0ic3RyaW5nInx8YT09PWIpe3ZhciBjPShhfHwiIikuc3BsaXQoayk7Zm9yKHZhciBlPTAsZj10aGlzLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZz10aGlzW2VdO2lmKGcubm9kZVR5cGU9PT0xJiZnLmNsYXNzTmFtZSlpZihhKXt2YXIgaD0oIiAiK2cuY2xhc3NOYW1lKyIgIikucmVwbGFjZShqLCIgIik7Zm9yKHZhciBpPTAsbD1jLmxlbmd0aDtpPGw7aSsrKWg9aC5yZXBsYWNlKCIgIitjW2ldKyIgIiwiICIpO2cuY2xhc3NOYW1lPWQudHJpbShoKX1lbHNlIGcuY2xhc3NOYW1lPSIifX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYSxlPXR5cGVvZiBiPT09ImJvb2xlYW4iO2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlPWQodGhpcyk7ZS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLGUuYXR0cigiY2xhc3MiKSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBmLGc9MCxoPWQodGhpcyksaT1iLGo9YS5zcGxpdChrKTt3aGlsZShmPWpbZysrXSlpPWU/aTohaC5oYXNDbGFzcyhmKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShmKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZC5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpkLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylpZigoIiAiK3RoaXNbY10uY2xhc3NOYW1lKyIgIikucmVwbGFjZShqLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX0sdmFsOmZ1bmN0aW9uKGEpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXt2YXIgYz10aGlzWzBdO2lmKGMpe2lmKGQubm9kZU5hbWUoYywib3B0aW9uIikpe3ZhciBlPWMuYXR0cmlidXRlcy52YWx1ZTtyZXR1cm4hZXx8ZS5zcGVjaWZpZWQ/Yy52YWx1ZTpjLnRleHR9aWYoZC5ub2RlTmFtZShjLCJzZWxlY3QiKSl7dmFyIGY9Yy5zZWxlY3RlZEluZGV4LGc9W10saD1jLm9wdGlvbnMsaT1jLnR5cGU9PT0ic2VsZWN0LW9uZSI7aWYoZjwwKXJldHVybiBudWxsO2Zvcih2YXIgaj1pP2Y6MCxrPWk/ZisxOmgubGVuZ3RoO2o8aztqKyspe3ZhciBtPWhbal07aWYobS5zZWxlY3RlZCYmKGQuc3VwcG9ydC5vcHREaXNhYmxlZD8hbS5kaXNhYmxlZDptLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIW0ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWQubm9kZU5hbWUobS5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7YT1kKG0pLnZhbCgpO2lmKGkpcmV0dXJuIGE7Zy5wdXNoKGEpfX1pZihpJiYhZy5sZW5ndGgmJmgubGVuZ3RoKXJldHVybiBkKGhbZl0pLnZhbCgpO3JldHVybiBnfWlmKHEudGVzdChjLnR5cGUpJiYhZC5zdXBwb3J0LmNoZWNrT24pcmV0dXJuIGMuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPT09bnVsbD8ib24iOmMudmFsdWU7cmV0dXJuKGMudmFsdWV8fCIiKS5yZXBsYWNlKGwsIiIpfXJldHVybiBifXZhciBuPWQuaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWQodGhpcyksZT1hO2lmKHRoaXMubm9kZVR5cGU9PT0xKXtuJiYoZT1hLmNhbGwodGhpcyxiLGMudmFsKCkpKSxlPT1udWxsP2U9IiI6dHlwZW9mIGU9PT0ibnVtYmVyIj9lKz0iIjpkLmlzQXJyYXkoZSkmJihlPWQubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6YSsiIn0pKTtpZihkLmlzQXJyYXkoZSkmJnEudGVzdCh0aGlzLnR5cGUpKXRoaXMuY2hlY2tlZD1kLmluQXJyYXkoYy52YWwoKSxlKT49MDtlbHNlIGlmKGQubm9kZU5hbWUodGhpcywic2VsZWN0Iikpe3ZhciBmPWQubWFrZUFycmF5KGUpO2QoIm9wdGlvbiIsdGhpcykuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9ZC5pbkFycmF5KGQodGhpcykudmFsKCksZik+PTB9KSxmLmxlbmd0aHx8KHRoaXMuc2VsZWN0ZWRJbmRleD0tMSl9ZWxzZSB0aGlzLnZhbHVlPWV9fSl9fSksZC5leHRlbmQoe2F0dHJGbjp7dmFsOiEwLGNzczohMCxodG1sOiEwLHRleHQ6ITAsZGF0YTohMCx3aWR0aDohMCxoZWlnaHQ6ITAsb2Zmc2V0OiEwfSxhdHRyOmZ1bmN0aW9uKGEsYyxlLGYpe2lmKCFhfHxhLm5vZGVUeXBlPT09M3x8YS5ub2RlVHlwZT09PTh8fGEubm9kZVR5cGU9PT0yKXJldHVybiBiO2lmKGYmJmMgaW4gZC5hdHRyRm4pcmV0dXJuIGQoYSlbY10oZSk7dmFyIGc9YS5ub2RlVHlwZSE9PTF8fCFkLmlzWE1MRG9jKGEpLGg9ZSE9PWI7Yz1nJiZkLnByb3BzW2NdfHxjO2lmKGEubm9kZVR5cGU9PT0xKXt2YXIgaT1tLnRlc3QoYyk7aWYoYz09PSJzZWxlY3RlZCImJiFkLnN1cHBvcnQub3B0U2VsZWN0ZWQpe3ZhciBqPWEucGFyZW50Tm9kZTtqJiYoai5zZWxlY3RlZEluZGV4LGoucGFyZW50Tm9kZSYmai5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfWlmKChjIGluIGF8fGFbY10hPT1iKSYmZyYmIWkpe2gmJihjPT09InR5cGUiJiZuLnRlc3QoYS5ub2RlTmFtZSkmJmEucGFyZW50Tm9kZSYmZC5lcnJvcigidHlwZSBwcm9wZXJ0eSBjYW4ndCBiZSBjaGFuZ2VkIiksZT09PW51bGw/YS5ub2RlVHlwZT09PTEmJmEucmVtb3ZlQXR0cmlidXRlKGMpOmFbY109ZSk7aWYoZC5ub2RlTmFtZShhLCJmb3JtIikmJmEuZ2V0QXR0cmlidXRlTm9kZShjKSlyZXR1cm4gYS5nZXRBdHRyaWJ1dGVOb2RlKGMpLm5vZGVWYWx1ZTtpZihjPT09InRhYkluZGV4Iil7dmFyIGs9YS5nZXRBdHRyaWJ1dGVOb2RlKCJ0YWJJbmRleCIpO3JldHVybiBrJiZrLnNwZWNpZmllZD9rLnZhbHVlOm8udGVzdChhLm5vZGVOYW1lKXx8cC50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDpifXJldHVybiBhW2NdfWlmKCFkLnN1cHBvcnQuc3R5bGUmJmcmJmM9PT0ic3R5bGUiKXtoJiYoYS5zdHlsZS5jc3NUZXh0PSIiK2UpO3JldHVybiBhLnN0eWxlLmNzc1RleHR9aCYmYS5zZXRBdHRyaWJ1dGUoYywiIitlKTtpZighYS5hdHRyaWJ1dGVzW2NdJiYoYS5oYXNBdHRyaWJ1dGUmJiFhLmhhc0F0dHJpYnV0ZShjKSkpcmV0dXJuIGI7dmFyIGw9IWQuc3VwcG9ydC5ocmVmTm9ybWFsaXplZCYmZyYmaT9hLmdldEF0dHJpYnV0ZShjLDIpOmEuZ2V0QXR0cmlidXRlKGMpO3JldHVybiBsPT09bnVsbD9iOmx9aCYmKGFbY109ZSk7cmV0dXJuIGFbY119fSk7dmFyIHI9L1wuKC4qKSQvLHM9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLHQ9L1wuL2csdT0vIC9nLHY9L1teXHdccy58YF0vZyx3PWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodiwiXFwkJiIpfTtkLmV2ZW50PXthZGQ6ZnVuY3Rpb24oYyxlLGYsZyl7aWYoYy5ub2RlVHlwZSE9PTMmJmMubm9kZVR5cGUhPT04KXt0cnl7ZC5pc1dpbmRvdyhjKSYmKGMhPT1hJiYhYy5mcmFtZUVsZW1lbnQpJiYoYz1hKX1jYXRjaChoKXt9aWYoZj09PSExKWY9eDtlbHNlIGlmKCFmKXJldHVybjt2YXIgaSxqO2YuaGFuZGxlciYmKGk9ZixmPWkuaGFuZGxlciksZi5ndWlkfHwoZi5ndWlkPWQuZ3VpZCsrKTt2YXIgaz1kLl9kYXRhKGMpO2lmKCFrKXJldHVybjt2YXIgbD1rLmV2ZW50cyxtPWsuaGFuZGxlO2x8fChrLmV2ZW50cz1sPXt9KSxtfHwoay5oYW5kbGU9bT1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGQhPT0idW5kZWZpbmVkIiYmZC5ldmVudC50cmlnZ2VyZWQhPT1hLnR5cGU/ZC5ldmVudC5oYW5kbGUuYXBwbHkobS5lbGVtLGFyZ3VtZW50cyk6Yn0pLG0uZWxlbT1jLGU9ZS5zcGxpdCgiICIpO3ZhciBuLG89MCxwO3doaWxlKG49ZVtvKytdKXtqPWk/ZC5leHRlbmQoe30saSk6e2hhbmRsZXI6ZixkYXRhOmd9LG4uaW5kZXhPZigiLiIpPi0xPyhwPW4uc3BsaXQoIi4iKSxuPXAuc2hpZnQoKSxqLm5hbWVzcGFjZT1wLnNsaWNlKDApLnNvcnQoKS5qb2luKCIuIikpOihwPVtdLGoubmFtZXNwYWNlPSIiKSxqLnR5cGU9bixqLmd1aWR8fChqLmd1aWQ9Zi5ndWlkKTt2YXIgcT1sW25dLHI9ZC5ldmVudC5zcGVjaWFsW25dfHx7fTtpZighcSl7cT1sW25dPVtdO2lmKCFyLnNldHVwfHxyLnNldHVwLmNhbGwoYyxnLHAsbSk9PT0hMSljLmFkZEV2ZW50TGlzdGVuZXI/Yy5hZGRFdmVudExpc3RlbmVyKG4sbSwhMSk6Yy5hdHRhY2hFdmVudCYmYy5hdHRhY2hFdmVudCgib24iK24sbSl9ci5hZGQmJihyLmFkZC5jYWxsKGMsaiksai5oYW5kbGVyLmd1aWR8fChqLmhhbmRsZXIuZ3VpZD1mLmd1aWQpKSxxLnB1c2goaiksZC5ldmVudC5nbG9iYWxbbl09ITB9Yz1udWxsfX0sZ2xvYmFsOnt9LHJlbW92ZTpmdW5jdGlvbihhLGMsZSxmKXtpZihhLm5vZGVUeXBlIT09MyYmYS5ub2RlVHlwZSE9PTgpe2U9PT0hMSYmKGU9eCk7dmFyIGcsaCxpLGosaz0wLGwsbSxuLG8scCxxLHIscz1kLmhhc0RhdGEoYSkmJmQuX2RhdGEoYSksdD1zJiZzLmV2ZW50cztpZighc3x8IXQpcmV0dXJuO2MmJmMudHlwZSYmKGU9Yy5oYW5kbGVyLGM9Yy50eXBlKTtpZighY3x8dHlwZW9mIGM9PT0ic3RyaW5nIiYmYy5jaGFyQXQoMCk9PT0iLiIpe2M9Y3x8IiI7Zm9yKGggaW4gdClkLmV2ZW50LnJlbW92ZShhLGgrYyk7cmV0dXJufWM9Yy5zcGxpdCgiICIpO3doaWxlKGg9Y1trKytdKXtyPWgscT1udWxsLGw9aC5pbmRleE9mKCIuIik8MCxtPVtdLGx8fChtPWguc3BsaXQoIi4iKSxoPW0uc2hpZnQoKSxuPW5ldyBSZWdFeHAoIihefFxcLikiK2QubWFwKG0uc2xpY2UoMCkuc29ydCgpLHcpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxwPXRbaF07aWYoIXApY29udGludWU7aWYoIWUpe2ZvcihqPTA7ajxwLmxlbmd0aDtqKyspe3E9cFtqXTtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWQuZXZlbnQucmVtb3ZlKGEscixxLmhhbmRsZXIsaikscC5zcGxpY2Uoai0tLDEpfWNvbnRpbnVlfW89ZC5ldmVudC5zcGVjaWFsW2hdfHx7fTtmb3Ioaj1mfHwwO2o8cC5sZW5ndGg7aisrKXtxPXBbal07aWYoZS5ndWlkPT09cS5ndWlkKXtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWY9PW51bGwmJnAuc3BsaWNlKGotLSwxKSxvLnJlbW92ZSYmby5yZW1vdmUuY2FsbChhLHEpO2lmKGYhPW51bGwpYnJlYWt9fWlmKHAubGVuZ3RoPT09MHx8ZiE9bnVsbCYmcC5sZW5ndGg9PT0xKSghby50ZWFyZG93bnx8by50ZWFyZG93bi5jYWxsKGEsbSk9PT0hMSkmJmQucmVtb3ZlRXZlbnQoYSxoLHMuaGFuZGxlKSxnPW51bGwsZGVsZXRlIHRbaF19aWYoZC5pc0VtcHR5T2JqZWN0KHQpKXt2YXIgdT1zLmhhbmRsZTt1JiYodS5lbGVtPW51bGwpLGRlbGV0ZSBzLmV2ZW50cyxkZWxldGUgcy5oYW5kbGUsZC5pc0VtcHR5T2JqZWN0KHMpJiZkLnJlbW92ZURhdGEoYSxiLCEwKX19fSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYyxlKXt2YXIgZj1hLnR5cGV8fGEsZz1hcmd1bWVudHNbM107aWYoIWcpe2E9dHlwZW9mIGE9PT0ib2JqZWN0Ij9hW2QuZXhwYW5kb10/YTpkLmV4dGVuZChkLkV2ZW50KGYpLGEpOmQuRXZlbnQoZiksZi5pbmRleE9mKCIhIik+PTAmJihhLnR5cGU9Zj1mLnNsaWNlKDAsLTEpLGEuZXhjbHVzaXZlPSEwKSxlfHwoYS5zdG9wUHJvcGFnYXRpb24oKSxkLmV2ZW50Lmdsb2JhbFtmXSYmZC5lYWNoKGQuY2FjaGUsZnVuY3Rpb24oKXt2YXIgYj1kLmV4cGFuZG8sZT10aGlzW2JdO2UmJmUuZXZlbnRzJiZlLmV2ZW50c1tmXSYmZC5ldmVudC50cmlnZ2VyKGEsYyxlLmhhbmRsZS5lbGVtKX0pKTtpZighZXx8ZS5ub2RlVHlwZT09PTN8fGUubm9kZVR5cGU9PT04KXJldHVybiBiO2EucmVzdWx0PWIsYS50YXJnZXQ9ZSxjPWQubWFrZUFycmF5KGMpLGMudW5zaGlmdChhKX1hLmN1cnJlbnRUYXJnZXQ9ZTt2YXIgaD1kLl9kYXRhKGUsImhhbmRsZSIpO2gmJmguYXBwbHkoZSxjKTt2YXIgaT1lLnBhcmVudE5vZGV8fGUub3duZXJEb2N1bWVudDt0cnl7ZSYmZS5ub2RlTmFtZSYmZC5ub0RhdGFbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8ZVsib24iK2ZdJiZlWyJvbiIrZl0uYXBwbHkoZSxjKT09PSExJiYoYS5yZXN1bHQ9ITEsYS5wcmV2ZW50RGVmYXVsdCgpKX1jYXRjaChqKXt9aWYoIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmaSlkLmV2ZW50LnRyaWdnZXIoYSxjLGksITApO2Vsc2UgaWYoIWEuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBrLGw9YS50YXJnZXQsbT1mLnJlcGxhY2UociwiIiksbj1kLm5vZGVOYW1lKGwsImEiKSYmbT09PSJjbGljayIsbz1kLmV2ZW50LnNwZWNpYWxbbV18fHt9O2lmKCghby5fZGVmYXVsdHx8by5fZGVmYXVsdC5jYWxsKGUsYSk9PT0hMSkmJiFuJiYhKGwmJmwubm9kZU5hbWUmJmQubm9EYXRhW2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pKXt0cnl7bFttXSYmKGs9bFsib24iK21dLGsmJihsWyJvbiIrbV09bnVsbCksZC5ldmVudC50cmlnZ2VyZWQ9YS50eXBlLGxbbV0oKSl9Y2F0Y2gocCl7fWsmJihsWyJvbiIrbV09ayksZC5ldmVudC50cmlnZ2VyZWQ9Yn19fSxoYW5kbGU6ZnVuY3Rpb24oYyl7dmFyIGUsZixnLGgsaSxqPVtdLGs9ZC5tYWtlQXJyYXkoYXJndW1lbnRzKTtjPWtbMF09ZC5ldmVudC5maXgoY3x8YS5ldmVudCksYy5jdXJyZW50VGFyZ2V0PXRoaXMsZT1jLnR5cGUuaW5kZXhPZigiLiIpPDAmJiFjLmV4Y2x1c2l2ZSxlfHwoZz1jLnR5cGUuc3BsaXQoIi4iKSxjLnR5cGU9Zy5zaGlmdCgpLGo9Zy5zbGljZSgwKS5zb3J0KCksaD1uZXcgUmVnRXhwKCIoXnxcXC4pIitqLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxjLm5hbWVzcGFjZT1jLm5hbWVzcGFjZXx8ai5qb2luKCIuIiksaT1kLl9kYXRhKHRoaXMsImV2ZW50cyIpLGY9KGl8fHt9KVtjLnR5cGVdO2lmKGkmJmYpe2Y9Zi5zbGljZSgwKTtmb3IodmFyIGw9MCxtPWYubGVuZ3RoO2w8bTtsKyspe3ZhciBuPWZbbF07aWYoZXx8aC50ZXN0KG4ubmFtZXNwYWNlKSl7Yy5oYW5kbGVyPW4uaGFuZGxlcixjLmRhdGE9bi5kYXRhLGMuaGFuZGxlT2JqPW47dmFyIG89bi5oYW5kbGVyLmFwcGx5KHRoaXMsayk7byE9PWImJihjLnJlc3VsdD1vLG89PT0hMSYmKGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpKSk7aWYoYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX19cmV0dXJuIGMucmVzdWx0fSxwcm9wczoiYWx0S2V5IGF0dHJDaGFuZ2UgYXR0ck5hbWUgYnViYmxlcyBidXR0b24gY2FuY2VsYWJsZSBjaGFyQ29kZSBjbGllbnRYIGNsaWVudFkgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRhdGEgZGV0YWlsIGV2ZW50UGhhc2UgZnJvbUVsZW1lbnQgaGFuZGxlciBrZXlDb2RlIGxheWVyWCBsYXllclkgbWV0YUtleSBuZXdWYWx1ZSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgcHJldlZhbHVlIHJlbGF0ZWROb2RlIHJlbGF0ZWRUYXJnZXQgc2NyZWVuWCBzY3JlZW5ZIHNoaWZ0S2V5IHNyY0VsZW1lbnQgdGFyZ2V0IHRvRWxlbWVudCB2aWV3IHdoZWVsRGVsdGEgd2hpY2giLnNwbGl0KCIgIiksZml4OmZ1bmN0aW9uKGEpe2lmKGFbZC5leHBhbmRvXSlyZXR1cm4gYTt2YXIgZT1hO2E9ZC5FdmVudChlKTtmb3IodmFyIGY9dGhpcy5wcm9wcy5sZW5ndGgsZztmOylnPXRoaXMucHJvcHNbLS1mXSxhW2ddPWVbZ107YS50YXJnZXR8fChhLnRhcmdldD1hLnNyY0VsZW1lbnR8fGMpLGEudGFyZ2V0Lm5vZGVUeXBlPT09MyYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLCFhLnJlbGF0ZWRUYXJnZXQmJmEuZnJvbUVsZW1lbnQmJihhLnJlbGF0ZWRUYXJnZXQ9YS5mcm9tRWxlbWVudD09PWEudGFyZ2V0P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQpO2lmKGEucGFnZVg9PW51bGwmJmEuY2xpZW50WCE9bnVsbCl7dmFyIGg9Yy5kb2N1bWVudEVsZW1lbnQsaT1jLmJvZHk7YS5wYWdlWD1hLmNsaWVudFgrKGgmJmguc2Nyb2xsTGVmdHx8aSYmaS5zY3JvbGxMZWZ0fHwwKS0oaCYmaC5jbGllbnRMZWZ0fHxpJiZpLmNsaWVudExlZnR8fDApLGEucGFnZVk9YS5jbGllbnRZKyhoJiZoLnNjcm9sbFRvcHx8aSYmaS5zY3JvbGxUb3B8fDApLShoJiZoLmNsaWVudFRvcHx8aSYmaS5jbGllbnRUb3B8fDApfWEud2hpY2g9PW51bGwmJihhLmNoYXJDb2RlIT1udWxsfHxhLmtleUNvZGUhPW51bGwpJiYoYS53aGljaD1hLmNoYXJDb2RlIT1udWxsP2EuY2hhckNvZGU6YS5rZXlDb2RlKSwhYS5tZXRhS2V5JiZhLmN0cmxLZXkmJihhLm1ldGFLZXk9YS5jdHJsS2V5KSwhYS53aGljaCYmYS5idXR0b24hPT1iJiYoYS53aGljaD1hLmJ1dHRvbiYxPzE6YS5idXR0b24mMj8zOmEuYnV0dG9uJjQ/MjowKTtyZXR1cm4gYX0sZ3VpZDoxZTgscHJveHk6ZC5wcm94eSxzcGVjaWFsOntyZWFkeTp7c2V0dXA6ZC5iaW5kUmVhZHksdGVhcmRvd246ZC5ub29wfSxsaXZlOnthZGQ6ZnVuY3Rpb24oYSl7ZC5ldmVudC5hZGQodGhpcyxIKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksZC5leHRlbmQoe30sYSx7aGFuZGxlcjpHLGd1aWQ6YS5oYW5kbGVyLmd1aWR9KSl9LHJlbW92ZTpmdW5jdGlvbihhKXtkLmV2ZW50LnJlbW92ZSh0aGlzLEgoYS5vcmlnVHlwZSxhLnNlbGVjdG9yKSxhKX19LGJlZm9yZXVubG9hZDp7c2V0dXA6ZnVuY3Rpb24oYSxiLGMpe2QuaXNXaW5kb3codGhpcykmJih0aGlzLm9uYmVmb3JldW5sb2FkPWMpfSx0ZWFyZG93bjpmdW5jdGlvbihhLGIpe3RoaXMub25iZWZvcmV1bmxvYWQ9PT1iJiYodGhpcy5vbmJlZm9yZXVubG9hZD1udWxsKX19fX0sZC5yZW1vdmVFdmVudD1jLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXthLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYixjKX0sZC5FdmVudD1mdW5jdGlvbihhKXtpZighdGhpcy5wcmV2ZW50RGVmYXVsdClyZXR1cm4gbmV3IGQuRXZlbnQoYSk7YSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8YS5yZXR1cm5WYWx1ZT09PSExfHxhLmdldFByZXZlbnREZWZhdWx0JiZhLmdldFByZXZlbnREZWZhdWx0KCk/eTp4KTp0aGlzLnR5cGU9YSx0aGlzLnRpbWVTdGFtcD1kLm5vdygpLHRoaXNbZC5leHBhbmRvXT0hMH0sZC5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9eTt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7YSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXk7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O2EmJihhLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLmNhbmNlbEJ1YmJsZT0hMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9eSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6eCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDp4LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOnh9O3ZhciB6PWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVsYXRlZFRhcmdldDt0cnl7aWYoYiYmYiE9PWMmJiFiLnBhcmVudE5vZGUpcmV0dXJuO3doaWxlKGImJmIhPT10aGlzKWI9Yi5wYXJlbnROb2RlO2IhPT10aGlzJiYoYS50eXBlPWEuZGF0YSxkLmV2ZW50LmhhbmRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWNhdGNoKGUpe319LEE9ZnVuY3Rpb24oYSl7YS50eXBlPWEuZGF0YSxkLmV2ZW50LmhhbmRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2QuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKGEsYil7ZC5ldmVudC5zcGVjaWFsW2FdPXtzZXR1cDpmdW5jdGlvbihjKXtkLmV2ZW50LmFkZCh0aGlzLGIsYyYmYy5zZWxlY3Rvcj9BOnosYSl9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2QuZXZlbnQucmVtb3ZlKHRoaXMsYixhJiZhLnNlbGVjdG9yP0E6eil9fX0pLGQuc3VwcG9ydC5zdWJtaXRCdWJibGVzfHwoZC5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLm5vZGVOYW1lJiZ0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0iZm9ybSIpZC5ldmVudC5hZGQodGhpcywiY2xpY2suc3BlY2lhbFN1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1iLnR5cGU7KGM9PT0ic3VibWl0Inx8Yz09PSJpbWFnZSIpJiZkKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJkUoInN1Ym1pdCIsdGhpcyxhcmd1bWVudHMpfSksZC5ldmVudC5hZGQodGhpcywia2V5cHJlc3Muc3BlY2lhbFN1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1iLnR5cGU7KGM9PT0idGV4dCJ8fGM9PT0icGFzc3dvcmQiKSYmZChiKS5jbG9zZXN0KCJmb3JtIikubGVuZ3RoJiZhLmtleUNvZGU9PT0xMyYmRSgic3VibWl0Iix0aGlzLGFyZ3VtZW50cyl9KTtlbHNlIHJldHVybiExfSx0ZWFyZG93bjpmdW5jdGlvbihhKXtkLmV2ZW50LnJlbW92ZSh0aGlzLCIuc3BlY2lhbFN1Ym1pdCIpfX0pO2lmKCFkLnN1cHBvcnQuY2hhbmdlQnViYmxlcyl7dmFyIEIsQz1mdW5jdGlvbihhKXt2YXIgYj1hLnR5cGUsYz1hLnZhbHVlO2I9PT0icmFkaW8ifHxiPT09ImNoZWNrYm94Ij9jPWEuY2hlY2tlZDpiPT09InNlbGVjdC1tdWx0aXBsZSI/Yz1hLnNlbGVjdGVkSW5kZXg+LTE/ZC5tYXAoYS5vcHRpb25zLGZ1bmN0aW9uKGEpe3JldHVybiBhLnNlbGVjdGVkfSkuam9pbigiLSIpOiIiOmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJzZWxlY3QiJiYoYz1hLnNlbGVjdGVkSW5kZXgpO3JldHVybiBjfSxEPWZ1bmN0aW9uIEQoYSl7dmFyIGM9YS50YXJnZXQsZSxmO2lmKHMudGVzdChjLm5vZGVOYW1lKSYmIWMucmVhZE9ubHkpe2U9ZC5fZGF0YShjLCJfY2hhbmdlX2RhdGEiKSxmPUMoYyksKGEudHlwZSE9PSJmb2N1c291dCJ8fGMudHlwZSE9PSJyYWRpbyIpJiZkLl9kYXRhKGMsIl9jaGFuZ2VfZGF0YSIsZik7aWYoZT09PWJ8fGY9PT1lKXJldHVybjtpZihlIT1udWxsfHxmKWEudHlwZT0iY2hhbmdlIixhLmxpdmVGaXJlZD1iLGQuZXZlbnQudHJpZ2dlcihhLGFyZ3VtZW50c1sxXSxjKX19O2QuZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e2ZpbHRlcnM6e2ZvY3Vzb3V0OkQsYmVmb3JlZGVhY3RpdmF0ZTpELGNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Yi50eXBlOyhjPT09InJhZGlvInx8Yz09PSJjaGVja2JveCJ8fGIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJzZWxlY3QiKSYmRC5jYWxsKHRoaXMsYSl9LGtleWRvd246ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1iLnR5cGU7KGEua2V5Q29kZT09PTEzJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0idGV4dGFyZWEifHxhLmtleUNvZGU9PT0zMiYmKGM9PT0iY2hlY2tib3gifHxjPT09InJhZGlvIil8fGM9PT0ic2VsZWN0LW11bHRpcGxlIikmJkQuY2FsbCh0aGlzLGEpfSxiZWZvcmVhY3RpdmF0ZTpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtkLl9kYXRhKGIsIl9jaGFuZ2VfZGF0YSIsQyhiKSl9fSxzZXR1cDpmdW5jdGlvbihhLGIpe2lmKHRoaXMudHlwZT09PSJmaWxlIilyZXR1cm4hMTtmb3IodmFyIGMgaW4gQilkLmV2ZW50LmFkZCh0aGlzLGMrIi5zcGVjaWFsQ2hhbmdlIixCW2NdKTtyZXR1cm4gcy50ZXN0KHRoaXMubm9kZU5hbWUpfSx0ZWFyZG93bjpmdW5jdGlvbihhKXtkLmV2ZW50LnJlbW92ZSh0aGlzLCIuc3BlY2lhbENoYW5nZSIpO3JldHVybiBzLnRlc3QodGhpcy5ub2RlTmFtZSl9fSxCPWQuZXZlbnQuc3BlY2lhbC5jaGFuZ2UuZmlsdGVycyxCLmZvY3VzPUIuYmVmb3JlYWN0aXZhdGV9Yy5hZGRFdmVudExpc3RlbmVyJiZkLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZihhKXt2YXIgYz1kLmV2ZW50LmZpeChhKTtjLnR5cGU9YixjLm9yaWdpbmFsRXZlbnQ9e30sZC5ldmVudC50cmlnZ2VyKGMsbnVsbCxjLnRhcmdldCksYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYS5wcmV2ZW50RGVmYXVsdCgpfXZhciBlPTA7ZC5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2UrKz09PTAmJmMuYWRkRXZlbnRMaXN0ZW5lcihhLGYsITApfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tZT09PTAmJmMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGYsITApfX19KSxkLmVhY2goWyJiaW5kIiwib25lIl0sZnVuY3Rpb24oYSxjKXtkLmZuW2NdPWZ1bmN0aW9uKGEsZSxmKXtpZih0eXBlb2YgYT09PSJvYmplY3QiKXtmb3IodmFyIGcgaW4gYSl0aGlzW2NdKGcsZSxhW2ddLGYpO3JldHVybiB0aGlzfWlmKGQuaXNGdW5jdGlvbihlKXx8ZT09PSExKWY9ZSxlPWI7dmFyIGg9Yz09PSJvbmUiP2QucHJveHkoZixmdW5jdGlvbihhKXtkKHRoaXMpLnVuYmluZChhLGgpO3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pOmY7aWYoYT09PSJ1bmxvYWQiJiZjIT09Im9uZSIpdGhpcy5vbmUoYSxlLGYpO2Vsc2UgZm9yKHZhciBpPTAsaj10aGlzLmxlbmd0aDtpPGo7aSsrKWQuZXZlbnQuYWRkKHRoaXNbaV0sYSxoLGUpO3JldHVybiB0aGlzfX0pLGQuZm4uZXh0ZW5kKHt1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYSE9PSJvYmplY3QifHxhLnByZXZlbnREZWZhdWx0KWZvcih2YXIgZT0wLGY9dGhpcy5sZW5ndGg7ZTxmO2UrKylkLmV2ZW50LnJlbW92ZSh0aGlzW2VdLGEsYik7ZWxzZSBmb3IodmFyIGMgaW4gYSl0aGlzLnVuYmluZChjLGFbY10pO3JldHVybiB0aGlzfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5saXZlKGIsYyxkLGEpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy51bmJpbmQoImxpdmUiKTp0aGlzLmRpZShiLG51bGwsYyxhKX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7aWYodGhpc1swXSl7dmFyIGM9ZC5FdmVudChhKTtjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSxkLmV2ZW50LnRyaWdnZXIoYyxiLHRoaXNbMF0pO3JldHVybiBjLnJlc3VsdH19LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMsYz0xO3doaWxlKGM8Yi5sZW5ndGgpZC5wcm94eShhLGJbYysrXSk7cmV0dXJuIHRoaXMuY2xpY2soZC5wcm94eShhLGZ1bmN0aW9uKGUpe3ZhciBmPShkLl9kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2EuZ3VpZCl8fDApJWM7ZC5fZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQsZisxKSxlLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGJbZl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwhMX0pKX0saG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIEY9e2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCIsbW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9O2QuZWFjaChbImxpdmUiLCJkaWUiXSxmdW5jdGlvbihhLGMpe2QuZm5bY109ZnVuY3Rpb24oYSxlLGYsZyl7dmFyIGgsaT0wLGosayxsLG09Z3x8dGhpcy5zZWxlY3RvcixuPWc/dGhpczpkKHRoaXMuY29udGV4dCk7aWYodHlwZW9mIGE9PT0ib2JqZWN0IiYmIWEucHJldmVudERlZmF1bHQpe2Zvcih2YXIgbyBpbiBhKW5bY10obyxlLGFbb10sbSk7cmV0dXJuIHRoaXN9ZC5pc0Z1bmN0aW9uKGUpJiYoZj1lLGU9YiksYT0oYXx8IiIpLnNwbGl0KCIgIik7d2hpbGUoKGg9YVtpKytdKSE9bnVsbCl7aj1yLmV4ZWMoaCksaz0iIixqJiYoaz1qWzBdLGg9aC5yZXBsYWNlKHIsIiIpKTtpZihoPT09ImhvdmVyIil7YS5wdXNoKCJtb3VzZWVudGVyIitrLCJtb3VzZWxlYXZlIitrKTtjb250aW51ZX1sPWgsaD09PSJmb2N1cyJ8fGg9PT0iYmx1ciI/KGEucHVzaChGW2hdK2spLGg9aCtrKTpoPShGW2hdfHxoKStrO2lmKGM9PT0ibGl2ZSIpZm9yKHZhciBwPTAscT1uLmxlbmd0aDtwPHE7cCsrKWQuZXZlbnQuYWRkKG5bcF0sImxpdmUuIitIKGgsbSkse2RhdGE6ZSxzZWxlY3RvcjptLGhhbmRsZXI6ZixvcmlnVHlwZTpoLG9yaWdIYW5kbGVyOmYscHJlVHlwZTpsfSk7ZWxzZSBuLnVuYmluZCgibGl2ZS4iK0goaCxtKSxmKX1yZXR1cm4gdGhpc319KSxkLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtkLmZuW2JdPWZ1bmN0aW9uKGEsYyl7Yz09bnVsbCYmKGM9YSxhPW51bGwpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5iaW5kKGIsYSxjKTp0aGlzLnRyaWdnZXIoYil9LGQuYXR0ckZuJiYoZC5hdHRyRm5bYl09ITApfSksZnVuY3Rpb24oKXtmdW5jdGlvbiB1KGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspe3ZhciBpPWRbZ107aWYoaSl7dmFyIGo9ITE7aT1pW2FdO3doaWxlKGkpe2lmKGkuc2l6Y2FjaGU9PT1jKXtqPWRbaS5zaXpzZXRdO2JyZWFrfWlmKGkubm9kZVR5cGU9PT0xKXtmfHwoaS5zaXpjYWNoZT1jLGkuc2l6c2V0PWcpO2lmKHR5cGVvZiBiIT09InN0cmluZyIpe2lmKGk9PT1iKXtqPSEwO2JyZWFrfX1lbHNlIGlmKGsuZmlsdGVyKGIsW2ldKS5sZW5ndGg+MCl7aj1pO2JyZWFrfX1pPWlbYV19ZFtnXT1qfX19ZnVuY3Rpb24gdChhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1kW2ddO2lmKGkpe3ZhciBqPSExO2k9aVthXTt3aGlsZShpKXtpZihpLnNpemNhY2hlPT09Yyl7aj1kW2kuc2l6c2V0XTticmVha31pLm5vZGVUeXBlPT09MSYmIWYmJihpLnNpemNhY2hlPWMsaS5zaXpzZXQ9Zyk7aWYoaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yil7aj1pO2JyZWFrfWk9aVthXX1kW2ddPWp9fX12YXIgYT0vKCg/OlwoKD86XChbXigpXStcKXxbXigpXSspK1wpfFxbKD86XFtbXlxbXF1dKlxdfFsnIl1bXiciXSpbJyJdfFteXFtcXSciXSspK1xdfFxcLnxbXiA+K34sKFxbXFxdKykrfFs+K35dKShccyosXHMqKT8oKD86LnxccnxcbikqKS9nLGU9MCxmPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsZz0hMSxoPSEwLGk9L1xcL2csaj0vXFcvO1swLDBdLnNvcnQoZnVuY3Rpb24oKXtoPSExO3JldHVybiAwfSk7dmFyIGs9ZnVuY3Rpb24oYixkLGUsZyl7ZT1lfHxbXSxkPWR8fGM7dmFyIGg9ZDtpZihkLm5vZGVUeXBlIT09MSYmZC5ub2RlVHlwZSE9PTkpcmV0dXJuW107aWYoIWJ8fHR5cGVvZiBiIT09InN0cmluZyIpcmV0dXJuIGU7dmFyIGksaixuLG8scSxyLHMsdCx1PSEwLHc9ay5pc1hNTChkKSx4PVtdLHk9Yjtkb3thLmV4ZWMoIiIpLGk9YS5leGVjKHkpO2lmKGkpe3k9aVszXSx4LnB1c2goaVsxXSk7aWYoaVsyXSl7bz1pWzNdO2JyZWFrfX19d2hpbGUoaSk7aWYoeC5sZW5ndGg+MSYmbS5leGVjKGIpKWlmKHgubGVuZ3RoPT09MiYmbC5yZWxhdGl2ZVt4WzBdXSlqPXYoeFswXSt4WzFdLGQpO2Vsc2V7aj1sLnJlbGF0aXZlW3hbMF1dP1tkXTprKHguc2hpZnQoKSxkKTt3aGlsZSh4Lmxlbmd0aCliPXguc2hpZnQoKSxsLnJlbGF0aXZlW2JdJiYoYis9eC5zaGlmdCgpKSxqPXYoYixqKX1lbHNleyFnJiZ4Lmxlbmd0aD4xJiZkLm5vZGVUeXBlPT09OSYmIXcmJmwubWF0Y2guSUQudGVzdCh4WzBdKSYmIWwubWF0Y2guSUQudGVzdCh4W3gubGVuZ3RoLTFdKSYmKHE9ay5maW5kKHguc2hpZnQoKSxkLHcpLGQ9cS5leHByP2suZmlsdGVyKHEuZXhwcixxLnNldClbMF06cS5zZXRbMF0pO2lmKGQpe3E9Zz97ZXhwcjp4LnBvcCgpLHNldDpwKGcpfTprLmZpbmQoeC5wb3AoKSx4Lmxlbmd0aD09PTEmJih4WzBdPT09In4ifHx4WzBdPT09IisiKSYmZC5wYXJlbnROb2RlP2QucGFyZW50Tm9kZTpkLHcpLGo9cS5leHByP2suZmlsdGVyKHEuZXhwcixxLnNldCk6cS5zZXQseC5sZW5ndGg+MD9uPXAoaik6dT0hMTt3aGlsZSh4Lmxlbmd0aClyPXgucG9wKCkscz1yLGwucmVsYXRpdmVbcl0/cz14LnBvcCgpOnI9IiIscz09bnVsbCYmKHM9ZCksbC5yZWxhdGl2ZVtyXShuLHMsdyl9ZWxzZSBuPXg9W119bnx8KG49aiksbnx8ay5lcnJvcihyfHxiKTtpZihmLmNhbGwobik9PT0iW29iamVjdCBBcnJheV0iKWlmKHUpaWYoZCYmZC5ub2RlVHlwZT09PTEpZm9yKHQ9MDtuW3RdIT1udWxsO3QrKyluW3RdJiYoblt0XT09PSEwfHxuW3RdLm5vZGVUeXBlPT09MSYmay5jb250YWlucyhkLG5bdF0pKSYmZS5wdXNoKGpbdF0pO2Vsc2UgZm9yKHQ9MDtuW3RdIT1udWxsO3QrKyluW3RdJiZuW3RdLm5vZGVUeXBlPT09MSYmZS5wdXNoKGpbdF0pO2Vsc2UgZS5wdXNoLmFwcGx5KGUsbik7ZWxzZSBwKG4sZSk7byYmKGsobyxoLGUsZyksay51bmlxdWVTb3J0KGUpKTtyZXR1cm4gZX07ay51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe2lmKHIpe2c9aCxhLnNvcnQocik7aWYoZylmb3IodmFyIGI9MTtiPGEubGVuZ3RoO2IrKylhW2JdPT09YVtiLTFdJiZhLnNwbGljZShiLS0sMSl9cmV0dXJuIGF9LGsubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBrKGEsbnVsbCxudWxsLGIpfSxrLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9LGsuZmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoIWEpcmV0dXJuW107Zm9yKHZhciBlPTAsZj1sLm9yZGVyLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZyxoPWwub3JkZXJbZV07aWYoZz1sLmxlZnRNYXRjaFtoXS5leGVjKGEpKXt2YXIgaj1nWzFdO2cuc3BsaWNlKDEsMSk7aWYoai5zdWJzdHIoai5sZW5ndGgtMSkhPT0iXFwiKXtnWzFdPShnWzFdfHwiIikucmVwbGFjZShpLCIiKSxkPWwuZmluZFtoXShnLGIsYyk7aWYoZCE9bnVsbCl7YT1hLnJlcGxhY2UobC5tYXRjaFtoXSwiIik7YnJlYWt9fX19ZHx8KGQ9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT0idW5kZWZpbmVkIj9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIik6W10pO3JldHVybntzZXQ6ZCxleHByOmF9fSxrLmZpbHRlcj1mdW5jdGlvbihhLGMsZCxlKXt2YXIgZixnLGg9YSxpPVtdLGo9YyxtPWMmJmNbMF0mJmsuaXNYTUwoY1swXSk7d2hpbGUoYSYmYy5sZW5ndGgpe2Zvcih2YXIgbiBpbiBsLmZpbHRlcilpZigoZj1sLmxlZnRNYXRjaFtuXS5leGVjKGEpKSE9bnVsbCYmZlsyXSl7dmFyIG8scCxxPWwuZmlsdGVyW25dLHI9ZlsxXTtnPSExLGYuc3BsaWNlKDEsMSk7aWYoci5zdWJzdHIoci5sZW5ndGgtMSk9PT0iXFwiKWNvbnRpbnVlO2o9PT1pJiYoaT1bXSk7aWYobC5wcmVGaWx0ZXJbbl0pe2Y9bC5wcmVGaWx0ZXJbbl0oZixqLGQsaSxlLG0pO2lmKGYpe2lmKGY9PT0hMCljb250aW51ZX1lbHNlIGc9bz0hMH1pZihmKWZvcih2YXIgcz0wOyhwPWpbc10pIT1udWxsO3MrKylpZihwKXtvPXEocCxmLHMsaik7dmFyIHQ9ZV4hIW87ZCYmbyE9bnVsbD90P2c9ITA6altzXT0hMTp0JiYoaS5wdXNoKHApLGc9ITApfWlmKG8hPT1iKXtkfHwoaj1pKSxhPWEucmVwbGFjZShsLm1hdGNoW25dLCIiKTtpZighZylyZXR1cm5bXTticmVha319aWYoYT09PWgpaWYoZz09bnVsbClrLmVycm9yKGEpO2Vsc2UgYnJlYWs7aD1hfXJldHVybiBqfSxrLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYX07dmFyIGw9ay5zZWxlY3RvcnM9e29yZGVyOlsiSUQiLCJOQU1FIiwiVEFHIl0sbWF0Y2g6e0lEOi8jKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxDTEFTUzovXC4oKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykvLE5BTUU6L1xbbmFtZT1bJyJdKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVsnIl0qXF0vLEFUVFI6L1xbXHMqKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspXHMqKD86KFxTPz0pXHMqKD86KFsnIl0pKC4qPylcM3woIz8oPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikqKXwpfClccypcXS8sVEFHOi9eKCg/Oltcd1x1MDBjMC1cdUZGRkZcKlwtXXxcXC4pKykvLENISUxEOi86KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XChccyooZXZlbnxvZGR8KD86WytcLV0/XGQrfCg/OlsrXC1dP1xkKik/blxzKig/OlsrXC1dXHMqXGQrKT8pKVxzKlwpKT8vLFBPUzovOihudGh8ZXF8Z3R8bHR8Zmlyc3R8bGFzdHxldmVufG9kZCkoPzpcKChcZCopXCkpPyg/PVteXC1dfCQpLyxQU0VVRE86LzooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykoPzpcKChbJyJdPykoKD86XChbXlwpXStcKXxbXlwoXCldKikrKVwyXCkpPy99LGxlZnRNYXRjaDp7fSxhdHRyTWFwOnsiY2xhc3MiOiJjbGFzc05hbWUiLCJmb3IiOiJodG1sRm9yIn0sYXR0ckhhbmRsZTp7aHJlZjpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoInR5cGUiKX19LHJlbGF0aXZlOnsiKyI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYj09PSJzdHJpbmciLGQ9YyYmIWoudGVzdChiKSxlPWMmJiFkO2QmJihiPWIudG9Mb3dlckNhc2UoKSk7Zm9yKHZhciBmPTAsZz1hLmxlbmd0aCxoO2Y8ZztmKyspaWYoaD1hW2ZdKXt3aGlsZSgoaD1oLnByZXZpb3VzU2libGluZykmJmgubm9kZVR5cGUhPT0xKXt9YVtmXT1lfHxoJiZoLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iP2h8fCExOmg9PT1ifWUmJmsuZmlsdGVyKGIsYSwhMCl9LCI+IjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9dHlwZW9mIGI9PT0ic3RyaW5nIixlPTAsZj1hLmxlbmd0aDtpZihkJiYhai50ZXN0KGIpKXtiPWIudG9Mb3dlckNhc2UoKTtmb3IoO2U8ZjtlKyspe2M9YVtlXTtpZihjKXt2YXIgZz1jLnBhcmVudE5vZGU7YVtlXT1nLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iP2c6ITF9fX1lbHNle2Zvcig7ZTxmO2UrKyljPWFbZV0sYyYmKGFbZV09ZD9jLnBhcmVudE5vZGU6Yy5wYXJlbnROb2RlPT09Yik7ZCYmay5maWx0ZXIoYixhLCEwKX19LCIiOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPWUrKyxnPXU7dHlwZW9mIGI9PT0ic3RyaW5nIiYmIWoudGVzdChiKSYmKGI9Yi50b0xvd2VyQ2FzZSgpLGQ9YixnPXQpLGcoInBhcmVudE5vZGUiLGIsZixhLGQsYyl9LCJ+IjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj1lKyssZz11O3R5cGVvZiBiPT09InN0cmluZyImJiFqLnRlc3QoYikmJihiPWIudG9Mb3dlckNhc2UoKSxkPWIsZz10KSxnKCJwcmV2aW91c1NpYmxpbmciLGIsZixhLGQsYyl9fSxmaW5kOntJRDpmdW5jdGlvbihhLGIsYyl7aWYodHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQhPT0idW5kZWZpbmVkIiYmIWMpe3ZhciBkPWIuZ2V0RWxlbWVudEJ5SWQoYVsxXSk7cmV0dXJuIGQmJmQucGFyZW50Tm9kZT9bZF06W119fSxOQU1FOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeU5hbWUhPT0idW5kZWZpbmVkIil7dmFyIGM9W10sZD1iLmdldEVsZW1lbnRzQnlOYW1lKGFbMV0pO2Zvcih2YXIgZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKylkW2VdLmdldEF0dHJpYnV0ZSgibmFtZSIpPT09YVsxXSYmYy5wdXNoKGRbZV0pO3JldHVybiBjLmxlbmd0aD09PTA/bnVsbDpjfX0sVEFHOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT0idW5kZWZpbmVkIilyZXR1cm4gYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhWzFdKX19LHByZUZpbHRlcjp7Q0xBU1M6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2E9IiAiK2FbMV0ucmVwbGFjZShpLCIiKSsiICI7aWYoZilyZXR1cm4gYTtmb3IodmFyIGc9MCxoOyhoPWJbZ10pIT1udWxsO2crKyloJiYoZV4oaC5jbGFzc05hbWUmJigiICIraC5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKC9bXHRcblxyXS9nLCIgIikuaW5kZXhPZihhKT49MCk/Y3x8ZC5wdXNoKGgpOmMmJihiW2ddPSExKSk7cmV0dXJuITF9LElEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdLnJlcGxhY2UoaSwiIil9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBhWzFdLnJlcGxhY2UoaSwiIikudG9Mb3dlckNhc2UoKX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7aWYoYVsxXT09PSJudGgiKXthWzJdfHxrLmVycm9yKGFbMF0pLGFbMl09YVsyXS5yZXBsYWNlKC9eXCt8XHMqL2csIiIpO3ZhciBiPS8oLT8pKFxkKikoPzpuKFsrXC1dP1xkKikpPy8uZXhlYyhhWzJdPT09ImV2ZW4iJiYiMm4ifHxhWzJdPT09Im9kZCImJiIybisxInx8IS9cRC8udGVzdChhWzJdKSYmIjBuKyIrYVsyXXx8YVsyXSk7YVsyXT1iWzFdKyhiWzJdfHwxKS0wLGFbM109YlszXS0wfWVsc2UgYVsyXSYmay5lcnJvcihhWzBdKTthWzBdPWUrKztyZXR1cm4gYX0sQVRUUjpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9YVsxXT1hWzFdLnJlcGxhY2UoaSwiIik7IWYmJmwuYXR0ck1hcFtnXSYmKGFbMV09bC5hdHRyTWFwW2ddKSxhWzRdPShhWzRdfHxhWzVdfHwiIikucmVwbGFjZShpLCIiKSxhWzJdPT09In49IiYmKGFbNF09IiAiK2FbNF0rIiAiKTtyZXR1cm4gYX0sUFNFVURPOmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYlsxXT09PSJub3QiKWlmKChhLmV4ZWMoYlszXSl8fCIiKS5sZW5ndGg+MXx8L15cdy8udGVzdChiWzNdKSliWzNdPWsoYlszXSxudWxsLG51bGwsYyk7ZWxzZXt2YXIgZz1rLmZpbHRlcihiWzNdLGMsZCwhMF5mKTtkfHxlLnB1c2guYXBwbHkoZSxnKTtyZXR1cm4hMX1lbHNlIGlmKGwubWF0Y2guUE9TLnRlc3QoYlswXSl8fGwubWF0Y2guQ0hJTEQudGVzdChiWzBdKSlyZXR1cm4hMDtyZXR1cm4gYn0sUE9TOmZ1bmN0aW9uKGEpe2EudW5zaGlmdCghMCk7cmV0dXJuIGF9fSxmaWx0ZXJzOntlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITEmJmEudHlwZSE9PSJoaWRkZW4ifSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNoZWNrZWQ9PT0hMH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtyZXR1cm4gYS5zZWxlY3RlZD09PSEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuISFhLmZpcnN0Q2hpbGR9LGVtcHR5OmZ1bmN0aW9uKGEpe3JldHVybiFhLmZpcnN0Q2hpbGR9LGhhczpmdW5jdGlvbihhLGIsYyl7cmV0dXJuISFrKGNbM10sYSkubGVuZ3RofSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuL2hcZC9pLnRlc3QoYS5ub2RlTmFtZSl9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSxjPWEudHlwZTtyZXR1cm4idGV4dCI9PT1jJiYoYj09PWN8fGI9PT1udWxsKX0scmFkaW86ZnVuY3Rpb24oYSl7cmV0dXJuInJhZGlvIj09PWEudHlwZX0sY2hlY2tib3g6ZnVuY3Rpb24oYSl7cmV0dXJuImNoZWNrYm94Ij09PWEudHlwZX0sZmlsZTpmdW5jdGlvbihhKXtyZXR1cm4iZmlsZSI9PT1hLnR5cGV9LHBhc3N3b3JkOmZ1bmN0aW9uKGEpe3JldHVybiJwYXNzd29yZCI9PT1hLnR5cGV9LHN1Ym1pdDpmdW5jdGlvbihhKXtyZXR1cm4ic3VibWl0Ij09PWEudHlwZX0saW1hZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuImltYWdlIj09PWEudHlwZX0scmVzZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuInJlc2V0Ij09PWEudHlwZX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiJidXR0b24iPT09YS50eXBlfHxhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iYnV0dG9uIn0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24vaS50ZXN0KGEubm9kZU5hbWUpfX0sc2V0RmlsdGVyczp7Zmlyc3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj09PTB9LGxhc3Q6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGI9PT1kLmxlbmd0aC0xfSxldmVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIlMj09PTB9LG9kZDpmdW5jdGlvbihhLGIpe3JldHVybiBiJTI9PT0xfSxsdDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI8Y1szXS0wfSxndDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI+Y1szXS0wfSxudGg6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjWzNdLTA9PT1ifSxlcTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGNbM10tMD09PWJ9fSxmaWx0ZXI6e1BTRVVETzpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1iWzFdLGY9bC5maWx0ZXJzW2VdO2lmKGYpcmV0dXJuIGYoYSxjLGIsZCk7aWYoZT09PSJjb250YWlucyIpcmV0dXJuKGEudGV4dENvbnRlbnR8fGEuaW5uZXJUZXh0fHxrLmdldFRleHQoW2FdKXx8IiIpLmluZGV4T2YoYlszXSk+PTA7aWYoZT09PSJub3QiKXt2YXIgZz1iWzNdO2Zvcih2YXIgaD0wLGk9Zy5sZW5ndGg7aDxpO2grKylpZihnW2hdPT09YSlyZXR1cm4hMTtyZXR1cm4hMH1rLmVycm9yKGUpfSxDSElMRDpmdW5jdGlvbihhLGIpe3ZhciBjPWJbMV0sZD1hO3N3aXRjaChjKXtjYXNlIm9ubHkiOmNhc2UiZmlyc3QiOndoaWxlKGQ9ZC5wcmV2aW91c1NpYmxpbmcpaWYoZC5ub2RlVHlwZT09PTEpcmV0dXJuITE7aWYoYz09PSJmaXJzdCIpcmV0dXJuITA7ZD1hO2Nhc2UibGFzdCI6d2hpbGUoZD1kLm5leHRTaWJsaW5nKWlmKGQubm9kZVR5cGU9PT0xKXJldHVybiExO3JldHVybiEwO2Nhc2UibnRoIjp2YXIgZT1iWzJdLGY9YlszXTtpZihlPT09MSYmZj09PTApcmV0dXJuITA7dmFyIGc9YlswXSxoPWEucGFyZW50Tm9kZTtpZihoJiYoaC5zaXpjYWNoZSE9PWd8fCFhLm5vZGVJbmRleCkpe3ZhciBpPTA7Zm9yKGQ9aC5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWQubm9kZVR5cGU9PT0xJiYoZC5ub2RlSW5kZXg9KytpKTtoLnNpemNhY2hlPWd9dmFyIGo9YS5ub2RlSW5kZXgtZjtyZXR1cm4gZT09PTA/aj09PTA6aiVlPT09MCYmai9lPj0wfX0sSUQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlVHlwZT09PTEmJmEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn0sVEFHOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PT0iKiImJmEubm9kZVR5cGU9PT0xfHxhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifSxDTEFTUzpmdW5jdGlvbihhLGIpe3JldHVybigiICIrKGEuY2xhc3NOYW1lfHxhLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSkrIiAiKS5pbmRleE9mKGIpPi0xfSxBVFRSOmZ1bmN0aW9uKGEsYil7dmFyIGM9YlsxXSxkPWwuYXR0ckhhbmRsZVtjXT9sLmF0dHJIYW5kbGVbY10oYSk6YVtjXSE9bnVsbD9hW2NdOmEuZ2V0QXR0cmlidXRlKGMpLGU9ZCsiIixmPWJbMl0sZz1iWzRdO3JldHVybiBkPT1udWxsP2Y9PT0iIT0iOmY9PT0iPSI/ZT09PWc6Zj09PSIqPSI/ZS5pbmRleE9mKGcpPj0wOmY9PT0ifj0iPygiICIrZSsiICIpLmluZGV4T2YoZyk+PTA6Zz9mPT09IiE9Ij9lIT09ZzpmPT09Il49Ij9lLmluZGV4T2YoZyk9PT0wOmY9PT0iJD0iP2Uuc3Vic3RyKGUubGVuZ3RoLWcubGVuZ3RoKT09PWc6Zj09PSJ8PSI/ZT09PWd8fGUuc3Vic3RyKDAsZy5sZW5ndGgrMSk9PT1nKyItIjohMTplJiZkIT09ITF9LFBPUzpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1iWzJdLGY9bC5zZXRGaWx0ZXJzW2VdO2lmKGYpcmV0dXJuIGYoYSxjLGIsZCl9fX0sbT1sLm1hdGNoLlBPUyxuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIlxcIisoYi0wKzEpfTtmb3IodmFyIG8gaW4gbC5tYXRjaClsLm1hdGNoW29dPW5ldyBSZWdFeHAobC5tYXRjaFtvXS5zb3VyY2UrLyg/IVteXFtdKlxdKSg/IVteXChdKlwpKS8uc291cmNlKSxsLmxlZnRNYXRjaFtvXT1uZXcgUmVnRXhwKC8oXig/Oi58XHJ8XG4pKj8pLy5zb3VyY2UrbC5tYXRjaFtvXS5zb3VyY2UucmVwbGFjZSgvXFwoXGQrKS9nLG4pKTt2YXIgcD1mdW5jdGlvbihhLGIpe2E9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSwwKTtpZihiKXtiLnB1c2guYXBwbHkoYixhKTtyZXR1cm4gYn1yZXR1cm4gYX07dHJ5e0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGMuZG9jdW1lbnRFbGVtZW50LmNoaWxkTm9kZXMsMClbMF0ubm9kZVR5cGV9Y2F0Y2gocSl7cD1mdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1ifHxbXTtpZihmLmNhbGwoYSk9PT0iW29iamVjdCBBcnJheV0iKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGQsYSk7ZWxzZSBpZih0eXBlb2YgYS5sZW5ndGg9PT0ibnVtYmVyIilmb3IodmFyIGU9YS5sZW5ndGg7YzxlO2MrKylkLnB1c2goYVtjXSk7ZWxzZSBmb3IoO2FbY107YysrKWQucHVzaChhW2NdKTtyZXR1cm4gZH19dmFyIHIscztjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9yPWZ1bmN0aW9uKGEsYil7aWYoYT09PWIpe2c9ITA7cmV0dXJuIDB9aWYoIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb258fCFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPy0xOjE7cmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmND8tMToxfToocj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1bXSxmPVtdLGg9YS5wYXJlbnROb2RlLGk9Yi5wYXJlbnROb2RlLGo9aDtpZihhPT09Yil7Zz0hMDtyZXR1cm4gMH1pZihoPT09aSlyZXR1cm4gcyhhLGIpO2lmKCFoKXJldHVybi0xO2lmKCFpKXJldHVybiAxO3doaWxlKGopZS51bnNoaWZ0KGopLGo9ai5wYXJlbnROb2RlO2o9aTt3aGlsZShqKWYudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtjPWUubGVuZ3RoLGQ9Zi5sZW5ndGg7Zm9yKHZhciBrPTA7azxjJiZrPGQ7aysrKWlmKGVba10hPT1mW2tdKXJldHVybiBzKGVba10sZltrXSk7cmV0dXJuIGs9PT1jP3MoYSxmW2tdLC0xKTpzKGVba10sYiwxKX0scz1mdW5jdGlvbihhLGIsYyl7aWYoYT09PWIpcmV0dXJuIGM7dmFyIGQ9YS5uZXh0U2libGluZzt3aGlsZShkKXtpZihkPT09YilyZXR1cm4tMTtkPWQubmV4dFNpYmxpbmd9cmV0dXJuIDF9KSxrLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYztmb3IodmFyIGQ9MDthW2RdO2QrKyljPWFbZF0sYy5ub2RlVHlwZT09PTN8fGMubm9kZVR5cGU9PT00P2IrPWMubm9kZVZhbHVlOmMubm9kZVR5cGUhPT04JiYoYis9ay5nZXRUZXh0KGMuY2hpbGROb2RlcykpO3JldHVybiBifSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD0ic2NyaXB0IisobmV3IERhdGUpLmdldFRpbWUoKSxlPWMuZG9jdW1lbnRFbGVtZW50O2EuaW5uZXJIVE1MPSI8YSBuYW1lPSciK2QrIicvPiIsZS5pbnNlcnRCZWZvcmUoYSxlLmZpcnN0Q2hpbGQpLGMuZ2V0RWxlbWVudEJ5SWQoZCkmJihsLmZpbmQuSUQ9ZnVuY3Rpb24oYSxjLGQpe2lmKHR5cGVvZiBjLmdldEVsZW1lbnRCeUlkIT09InVuZGVmaW5lZCImJiFkKXt2YXIgZT1jLmdldEVsZW1lbnRCeUlkKGFbMV0pO3JldHVybiBlP2UuaWQ9PT1hWzFdfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlIT09InVuZGVmaW5lZCImJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS5ub2RlVmFsdWU9PT1hWzFdP1tlXTpiOltdfX0sbC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlIT09InVuZGVmaW5lZCImJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYS5ub2RlVHlwZT09PTEmJmMmJmMubm9kZVZhbHVlPT09Yn0pLGUucmVtb3ZlQ2hpbGQoYSksZT1hPW51bGx9KCksZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuYXBwZW5kQ2hpbGQoYy5jcmVhdGVDb21tZW50KCIiKSksYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aD4wJiYobC5maW5kLlRBRz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYVsxXSk7aWYoYVsxXT09PSIqIil7dmFyIGQ9W107Zm9yKHZhciBlPTA7Y1tlXTtlKyspY1tlXS5ub2RlVHlwZT09PTEmJmQucHVzaChjW2VdKTtjPWR9cmV0dXJuIGN9KSxhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsYS5maXJzdENoaWxkJiZ0eXBlb2YgYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSE9PSJ1bmRlZmluZWQiJiZhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikhPT0iIyImJihsLmF0dHJIYW5kbGUuaHJlZj1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiLDIpfSksYT1udWxsfSgpLGMucXVlcnlTZWxlY3RvckFsbCYmZnVuY3Rpb24oKXt2YXIgYT1rLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPSJfX3NpenpsZV9fIjtiLmlubmVySFRNTD0iPHAgY2xhc3M9J1RFU1QnPjwvcD4iO2lmKCFiLnF1ZXJ5U2VsZWN0b3JBbGx8fGIucXVlcnlTZWxlY3RvckFsbCgiLlRFU1QiKS5sZW5ndGghPT0wKXtrPWZ1bmN0aW9uKGIsZSxmLGcpe2U9ZXx8YztpZighZyYmIWsuaXNYTUwoZSkpe3ZhciBoPS9eKFx3KyQpfF5cLihbXHdcLV0rJCl8XiMoW1x3XC1dKyQpLy5leGVjKGIpO2lmKGgmJihlLm5vZGVUeXBlPT09MXx8ZS5ub2RlVHlwZT09PTkpKXtpZihoWzFdKXJldHVybiBwKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZik7aWYoaFsyXSYmbC5maW5kLkNMQVNTJiZlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIHAoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGhbMl0pLGYpfWlmKGUubm9kZVR5cGU9PT05KXtpZihiPT09ImJvZHkiJiZlLmJvZHkpcmV0dXJuIHAoW2UuYm9keV0sZik7aWYoaCYmaFszXSl7dmFyIGk9ZS5nZXRFbGVtZW50QnlJZChoWzNdKTtpZighaXx8IWkucGFyZW50Tm9kZSlyZXR1cm4gcChbXSxmKTtpZihpLmlkPT09aFszXSlyZXR1cm4gcChbaV0sZil9dHJ5e3JldHVybiBwKGUucXVlcnlTZWxlY3RvckFsbChiKSxmKX1jYXRjaChqKXt9fWVsc2UgaWYoZS5ub2RlVHlwZT09PTEmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PSJvYmplY3QiKXt2YXIgbT1lLG49ZS5nZXRBdHRyaWJ1dGUoImlkIiksbz1ufHxkLHE9ZS5wYXJlbnROb2RlLHI9L15ccypbK35dLy50ZXN0KGIpO24/bz1vLnJlcGxhY2UoLycvZywiXFwkJiIpOmUuc2V0QXR0cmlidXRlKCJpZCIsbyksciYmcSYmKGU9ZS5wYXJlbnROb2RlKTt0cnl7aWYoIXJ8fHEpcmV0dXJuIHAoZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWQ9JyIrbysiJ10gIitiKSxmKX1jYXRjaChzKXt9ZmluYWxseXtufHxtLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBhKGIsZSxmLGcpfTtmb3IodmFyIGUgaW4gYSlrW2VdPWFbZV07Yj1udWxsfX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuZG9jdW1lbnRFbGVtZW50LGI9YS5tYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcjtpZihiKXt2YXIgZD0hYi5jYWxsKGMuY3JlYXRlRWxlbWVudCgiZGl2IiksImRpdiIpLGU9ITE7dHJ5e2IuY2FsbChjLmRvY3VtZW50RWxlbWVudCwiW3Rlc3QhPScnXTpzaXp6bGUiKX1jYXRjaChmKXtlPSEwfWsubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYyl7Yz1jLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCFrLmlzWE1MKGEpKXRyeXtpZihlfHwhbC5tYXRjaC5QU0VVRE8udGVzdChjKSYmIS8hPS8udGVzdChjKSl7dmFyIGY9Yi5jYWxsKGEsYyk7aWYoZnx8IWR8fGEuZG9jdW1lbnQmJmEuZG9jdW1lbnQubm9kZVR5cGUhPT0xMSlyZXR1cm4gZn19Y2F0Y2goZyl7fXJldHVybiBrKGMsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9fX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J3Rlc3QgZSc+PC9kaXY+PGRpdiBjbGFzcz0ndGVzdCc+PC9kaXY+IjtpZihhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aCE9PTApe2EubGFzdENoaWxkLmNsYXNzTmFtZT0iZSI7aWYoYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoPT09MSlyZXR1cm47bC5vcmRlci5zcGxpY2UoMSwwLCJDTEFTUyIpLGwuZmluZC5DTEFTUz1mdW5jdGlvbihhLGIsYyl7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PSJ1bmRlZmluZWQiJiYhYylyZXR1cm4gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGFbMV0pfSxhPW51bGx9fSgpLGMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zP2suY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWImJihhLmNvbnRhaW5zP2EuY29udGFpbnMoYik6ITApfTpjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9rLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSYxNil9OmsuY29udGFpbnM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0say5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj0oYT9hLm93bmVyRG9jdW1lbnR8fGE6MCkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiP2Iubm9kZU5hbWUhPT0iSFRNTCI6ITF9O3ZhciB2PWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPSIiLGY9Yi5ub2RlVHlwZT9bYl06Yjt3aGlsZShjPWwubWF0Y2guUFNFVURPLmV4ZWMoYSkpZSs9Y1swXSxhPWEucmVwbGFjZShsLm1hdGNoLlBTRVVETywiIik7YT1sLnJlbGF0aXZlW2FdP2ErIioiOmE7Zm9yKHZhciBnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKWsoYSxmW2ddLGQpO3JldHVybiBrLmZpbHRlcihlLGQpfTtkLmZpbmQ9ayxkLmV4cHI9ay5zZWxlY3RvcnMsZC5leHByWyI6Il09ZC5leHByLmZpbHRlcnMsZC51bmlxdWU9ay51bmlxdWVTb3J0LGQudGV4dD1rLmdldFRleHQsZC5pc1hNTERvYz1rLmlzWE1MLGQuY29udGFpbnM9ay5jb250YWluc30oKTt2YXIgST0vVW50aWwkLyxKPS9eKD86cGFyZW50c3xwcmV2VW50aWx8cHJldkFsbCkvLEs9LywvLEw9L14uW146I1xbXC4sXSokLyxNPUFycmF5LnByb3RvdHlwZS5zbGljZSxOPWQuZXhwci5tYXRjaC5QT1MsTz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtkLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnB1c2hTdGFjaygiIiwiZmluZCIsYSksYz0wO2Zvcih2YXIgZT0wLGY9dGhpcy5sZW5ndGg7ZTxmO2UrKyl7Yz1iLmxlbmd0aCxkLmZpbmQoYSx0aGlzW2VdLGIpO2lmKGU+MClmb3IodmFyIGc9YztnPGIubGVuZ3RoO2crKylmb3IodmFyIGg9MDtoPGM7aCsrKWlmKGJbaF09PT1iW2ddKXtiLnNwbGljZShnLS0sMSk7YnJlYWt9fXJldHVybiBifSxoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9ZChhKTtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxjPWIubGVuZ3RoO2E8YzthKyspaWYoZC5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUSh0aGlzLGEsITEpLCJub3QiLGEpfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFEodGhpcyxhLCEwKSwiZmlsdGVyIixhKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISFhJiZkLmZpbHRlcihhLHRoaXMpLmxlbmd0aD4wfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZSxmLGc9dGhpc1swXTtpZihkLmlzQXJyYXkoYSkpe3ZhciBoLGksaj17fSxrPTE7aWYoZyYmYS5sZW5ndGgpe2ZvcihlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKWk9YVtlXSxqW2ldfHwoaltpXT1kLmV4cHIubWF0Y2guUE9TLnRlc3QoaSk/ZChpLGJ8fHRoaXMuY29udGV4dCk6aSk7d2hpbGUoZyYmZy5vd25lckRvY3VtZW50JiZnIT09Yil7Zm9yKGkgaW4gailoPWpbaV0sKGguanF1ZXJ5P2guaW5kZXgoZyk+LTE6ZChnKS5pcyhoKSkmJmMucHVzaCh7c2VsZWN0b3I6aSxlbGVtOmcsbGV2ZWw6a30pO2c9Zy5wYXJlbnROb2RlLGsrK319cmV0dXJuIGN9dmFyIGw9Ti50ZXN0KGEpP2QoYSxifHx0aGlzLmNvbnRleHQpOm51bGw7Zm9yKGU9MCxmPXRoaXMubGVuZ3RoO2U8ZjtlKyspe2c9dGhpc1tlXTt3aGlsZShnKXtpZihsP2wuaW5kZXgoZyk+LTE6ZC5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGEpKXtjLnB1c2goZyk7YnJlYWt9Zz1nLnBhcmVudE5vZGU7aWYoIWd8fCFnLm93bmVyRG9jdW1lbnR8fGc9PT1iKWJyZWFrfX1jPWMubGVuZ3RoPjE/ZC51bmlxdWUoYyk6YztyZXR1cm4gdGhpcy5wdXNoU3RhY2soYywiY2xvc2VzdCIsYSl9LGluZGV4OmZ1bmN0aW9uKGEpe2lmKCFhfHx0eXBlb2YgYT09PSJzdHJpbmciKXJldHVybiBkLmluQXJyYXkodGhpc1swXSxhP2QoYSk6dGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpKTtyZXR1cm4gZC5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE9PT0ic3RyaW5nIj9kKGEsYik6ZC5tYWtlQXJyYXkoYSksZT1kLm1lcmdlKHRoaXMuZ2V0KCksYyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFAoY1swXSl8fFAoZVswXSk/ZTpkLnVuaXF1ZShlKSl9LGFuZFNlbGY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGQodGhpcy5wcmV2T2JqZWN0KX19KSxkLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIubm9kZVR5cGUhPT0xMT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuZGlyKGEsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZC5kaXIoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGQubnRoKGEsMiwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gZC5udGgoYSwyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZC5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZC5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGQuZGlyKGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZC5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc2libGluZyhhLnBhcmVudE5vZGUuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZC5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50OmQubWFrZUFycmF5KGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe2QuZm5bYV09ZnVuY3Rpb24oYyxlKXt2YXIgZj1kLm1hcCh0aGlzLGIsYyksZz1NLmNhbGwoYXJndW1lbnRzKTtJLnRlc3QoYSl8fChlPWMpLGUmJnR5cGVvZiBlPT09InN0cmluZyImJihmPWQuZmlsdGVyKGUsZikpLGY9dGhpcy5sZW5ndGg+MSYmIU9bYV0/ZC51bmlxdWUoZik6ZiwodGhpcy5sZW5ndGg+MXx8Sy50ZXN0KGUpKSYmSi50ZXN0KGEpJiYoZj1mLnJldmVyc2UoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYsYSxnLmpvaW4oIiwiKSl9fSksZC5leHRlbmQoe2ZpbHRlcjpmdW5jdGlvbihhLGIsYyl7YyYmKGE9Ijpub3QoIithKyIpIik7cmV0dXJuIGIubGVuZ3RoPT09MT9kLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGJbMF0sYSk/W2JbMF1dOltdOmQuZmluZC5tYXRjaGVzKGEsYil9LGRpcjpmdW5jdGlvbihhLGMsZSl7dmFyIGY9W10sZz1hW2NdO3doaWxlKGcmJmcubm9kZVR5cGUhPT05JiYoZT09PWJ8fGcubm9kZVR5cGUhPT0xfHwhZChnKS5pcyhlKSkpZy5ub2RlVHlwZT09PTEmJmYucHVzaChnKSxnPWdbY107cmV0dXJuIGZ9LG50aDpmdW5jdGlvbihhLGIsYyxkKXtiPWJ8fDE7dmFyIGU9MDtmb3IoO2E7YT1hW2NdKWlmKGEubm9kZVR5cGU9PT0xJiYrK2U9PT1iKWJyZWFrO3JldHVybiBhfSxzaWJsaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9W107Zm9yKDthO2E9YS5uZXh0U2libGluZylhLm5vZGVUeXBlPT09MSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KTt2YXIgUj0vIGpRdWVyeVxkKz0iKD86XGQrfG51bGwpIi9nLFM9L15ccysvLFQ9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9pZyxVPS88KFtcdzpdKykvLFY9Lzx0Ym9keS9pLFc9Lzx8JiM/XHcrOy8sWD0vPCg/OnNjcmlwdHxvYmplY3R8ZW1iZWR8b3B0aW9ufHN0eWxlKS9pLFk9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksWj17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLGFyZWE6WzEsIjxtYXA+IiwiPC9tYXA+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtaLm9wdGdyb3VwPVoub3B0aW9uLFoudGJvZHk9Wi50Zm9vdD1aLmNvbGdyb3VwPVouY2FwdGlvbj1aLnRoZWFkLFoudGg9Wi50ZCxkLnN1cHBvcnQuaHRtbFNlcmlhbGl6ZXx8KFouX2RlZmF1bHQ9WzEsImRpdjxkaXY+IiwiPC9kaXY+Il0pLGQuZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWQodGhpcyk7Yy50ZXh0KGEuY2FsbCh0aGlzLGIsYy50ZXh0KCkpKX0pO2lmKHR5cGVvZiBhIT09Im9iamVjdCImJmEhPT1iKXJldHVybiB0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdJiZ0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGMpLmNyZWF0ZVRleHROb2RlKGEpKTtyZXR1cm4gZC50ZXh0KHRoaXMpfSx3cmFwQWxsOmZ1bmN0aW9uKGEpe2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2QodGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KTtpZih0aGlzWzBdKXt2YXIgYj1kKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdENoaWxkJiZhLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0xKWE9YS5maXJzdENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7aWYoZC5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7ZCh0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWQodGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QodGhpcykud3JhcEFsbChhKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7ZC5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fGQodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oYSl7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMuYXBwZW5kQ2hpbGQoYSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMCxmdW5jdGlvbihhKXt0aGlzLm5vZGVUeXBlPT09MSYmdGhpcy5pbnNlcnRCZWZvcmUoYSx0aGlzLmZpcnN0Q2hpbGQpfSl9LGJlZm9yZTpmdW5jdGlvbigpe2lmKHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZSlyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITEsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSk7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIGE9ZChhcmd1bWVudHNbMF0pO2EucHVzaC5hcHBseShhLHRoaXMudG9BcnJheSgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYSwiYmVmb3JlIixhcmd1bWVudHMpfX0sYWZ0ZXI6ZnVuY3Rpb24oKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPXRoaXMucHVzaFN0YWNrKHRoaXMsImFmdGVyIixhcmd1bWVudHMpO2EucHVzaC5hcHBseShhLGQoYXJndW1lbnRzWzBdKS50b0FycmF5KCkpO3JldHVybiBhfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZTsoZT10aGlzW2NdKSE9bnVsbDtjKyspaWYoIWF8fGQuZmlsdGVyKGEsW2VdKS5sZW5ndGgpIWImJmUubm9kZVR5cGU9PT0xJiYoZC5jbGVhbkRhdGEoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSxkLmNsZWFuRGF0YShbZV0pKSxlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiOyhiPXRoaXNbYV0pIT1udWxsO2ErKyl7Yi5ub2RlVHlwZT09PTEmJmQuY2xlYW5EYXRhKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSk7d2hpbGUoYi5maXJzdENoaWxkKWIucmVtb3ZlQ2hpbGQoYi5maXJzdENoaWxkKX1yZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXthPWE9PW51bGw/ITE6YSxiPWI9PW51bGw/YTpiO3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBkLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe2lmKGE9PT1iKXJldHVybiB0aGlzWzBdJiZ0aGlzWzBdLm5vZGVUeXBlPT09MT90aGlzWzBdLmlubmVySFRNTC5yZXBsYWNlKFIsIiIpOm51bGw7aWYodHlwZW9mIGEhPT0ic3RyaW5nInx8WC50ZXN0KGEpfHwhZC5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZTLnRlc3QoYSl8fFpbKFUuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pZC5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1kKHRoaXMpO2MuaHRtbChhLmNhbGwodGhpcyxiLGMuaHRtbCgpKSl9KTp0aGlzLmVtcHR5KCkuYXBwZW5kKGEpO2Vsc2V7YT1hLnJlcGxhY2UoVCwiPCQxPjwvJDI+Iik7dHJ5e2Zvcih2YXIgYz0wLGU9dGhpcy5sZW5ndGg7YzxlO2MrKyl0aGlzW2NdLm5vZGVUeXBlPT09MSYmKGQuY2xlYW5EYXRhKHRoaXNbY10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksdGhpc1tjXS5pbm5lckhUTUw9YSl9Y2F0Y2goZil7dGhpcy5lbXB0eSgpLmFwcGVuZChhKX19cmV0dXJuIHRoaXN9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEpe2lmKHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZSl7aWYoZC5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9ZCh0aGlzKSxlPWMuaHRtbCgpO2MucmVwbGFjZVdpdGgoYS5jYWxsKHRoaXMsYixlKSl9KTt0eXBlb2YgYSE9PSJzdHJpbmciJiYoYT1kKGEpLmRldGFjaCgpKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5uZXh0U2libGluZyxjPXRoaXMucGFyZW50Tm9kZTtkKHRoaXMpLnJlbW92ZSgpLGI/ZChiKS5iZWZvcmUoYSk6ZChjKS5hcHBlbmQoYSl9KX1yZXR1cm4gdGhpcy5sZW5ndGg/dGhpcy5wdXNoU3RhY2soZChkLmlzRnVuY3Rpb24oYSk/YSgpOmEpLCJyZXBsYWNlV2l0aCIsYSk6dGhpc30sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxjLGUpe3ZhciBmLGcsaCxpLGo9YVswXSxrPVtdO2lmKCFkLnN1cHBvcnQuY2hlY2tDbG9uZSYmYXJndW1lbnRzLmxlbmd0aD09PTMmJnR5cGVvZiBqPT09InN0cmluZyImJlkudGVzdChqKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZCh0aGlzKS5kb21NYW5pcChhLGMsZSwhMCl9KTtpZihkLmlzRnVuY3Rpb24oaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihmKXt2YXIgZz1kKHRoaXMpO2FbMF09ai5jYWxsKHRoaXMsZixjP2cuaHRtbCgpOmIpLGcuZG9tTWFuaXAoYSxjLGUpfSk7aWYodGhpc1swXSl7aT1qJiZqLnBhcmVudE5vZGUsZC5zdXBwb3J0LnBhcmVudE5vZGUmJmkmJmkubm9kZVR5cGU9PT0xMSYmaS5jaGlsZE5vZGVzLmxlbmd0aD09PXRoaXMubGVuZ3RoP2Y9e2ZyYWdtZW50Oml9OmY9ZC5idWlsZEZyYWdtZW50KGEsdGhpcyxrKSxoPWYuZnJhZ21lbnQsaC5jaGlsZE5vZGVzLmxlbmd0aD09PTE/Zz1oPWguZmlyc3RDaGlsZDpnPWguZmlyc3RDaGlsZDtpZihnKXtjPWMmJmQubm9kZU5hbWUoZywidHIiKTtmb3IodmFyIGw9MCxtPXRoaXMubGVuZ3RoLG49bS0xO2w8bTtsKyspZS5jYWxsKGM/JCh0aGlzW2xdLGcpOnRoaXNbbF0sZi5jYWNoZWFibGV8fG0+MSYmbDxuP2QuY2xvbmUoaCwhMCwhMCk6aCl9ay5sZW5ndGgmJmQuZWFjaChrLGJjKX1yZXR1cm4gdGhpc319KSxkLmJ1aWxkRnJhZ21lbnQ9ZnVuY3Rpb24oYSxiLGUpe3ZhciBmLGcsaCxpPWImJmJbMF0/YlswXS5vd25lckRvY3VtZW50fHxiWzBdOmM7YS5sZW5ndGg9PT0xJiZ0eXBlb2YgYVswXT09PSJzdHJpbmciJiZhWzBdLmxlbmd0aDw1MTImJmk9PT1jJiZhWzBdLmNoYXJBdCgwKT09PSI8IiYmIVgudGVzdChhWzBdKSYmKGQuc3VwcG9ydC5jaGVja0Nsb25lfHwhWS50ZXN0KGFbMF0pKSYmKGc9ITAsaD1kLmZyYWdtZW50c1thWzBdXSxoJiYoaCE9PTEmJihmPWgpKSksZnx8KGY9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZC5jbGVhbihhLGksZixlKSksZyYmKGQuZnJhZ21lbnRzW2FbMF1dPWg/ZjoxKTtyZXR1cm57ZnJhZ21lbnQ6ZixjYWNoZWFibGU6Z319LGQuZnJhZ21lbnRzPXt9LGQuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7ZC5mblthXT1mdW5jdGlvbihjKXt2YXIgZT1bXSxmPWQoYyksZz10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihnJiZnLm5vZGVUeXBlPT09MTEmJmcuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZmLmxlbmd0aD09PTEpe2ZbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9Zm9yKHZhciBoPTAsaT1mLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj0oaD4wP3RoaXMuY2xvbmUoITApOnRoaXMpLmdldCgpO2QoZltoXSlbYl0oaiksZT1lLmNvbmNhdChqKX1yZXR1cm4gdGhpcy5wdXNoU3RhY2soZSxhLGYuc2VsZWN0b3IpfX0pLGQuZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGU9YS5jbG9uZU5vZGUoITApLGYsZyxoO2lmKCghZC5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IWQuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkmJihhLm5vZGVUeXBlPT09MXx8YS5ub2RlVHlwZT09PTExKSYmIWQuaXNYTUxEb2MoYSkpe2JhKGEsZSksZj1iYihhKSxnPWJiKGUpO2ZvcihoPTA7ZltoXTsrK2gpYmEoZltoXSxnW2hdKX1pZihiKXtfKGEsZSk7aWYoYyl7Zj1iYihhKSxnPWJiKGUpO2ZvcihoPTA7ZltoXTsrK2gpXyhmW2hdLGdbaF0pfX1yZXR1cm4gZX0sY2xlYW46ZnVuY3Rpb24oYSxiLGUsZil7Yj1ifHxjLHR5cGVvZiBiLmNyZWF0ZUVsZW1lbnQ9PT0idW5kZWZpbmVkIiYmKGI9Yi5vd25lckRvY3VtZW50fHxiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fGMpO3ZhciBnPVtdO2Zvcih2YXIgaD0wLGk7KGk9YVtoXSkhPW51bGw7aCsrKXt0eXBlb2YgaT09PSJudW1iZXIiJiYoaSs9IiIpO2lmKCFpKWNvbnRpbnVlO2lmKHR5cGVvZiBpIT09InN0cmluZyJ8fFcudGVzdChpKSl7aWYodHlwZW9mIGk9PT0ic3RyaW5nIil7aT1pLnJlcGxhY2UoVCwiPCQxPjwvJDI+Iik7dmFyIGo9KFUuZXhlYyhpKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxrPVpbal18fFouX2RlZmF1bHQsbD1rWzBdLG09Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTttLmlubmVySFRNTD1rWzFdK2kra1syXTt3aGlsZShsLS0pbT1tLmxhc3RDaGlsZDtpZighZC5zdXBwb3J0LnRib2R5KXt2YXIgbj1WLnRlc3QoaSksbz1qPT09InRhYmxlIiYmIW4/bS5maXJzdENoaWxkJiZtLmZpcnN0Q2hpbGQuY2hpbGROb2RlczprWzFdPT09Ijx0YWJsZT4iJiYhbj9tLmNoaWxkTm9kZXM6W107Zm9yKHZhciBwPW8ubGVuZ3RoLTE7cD49MDstLXApZC5ub2RlTmFtZShvW3BdLCJ0Ym9keSIpJiYhb1twXS5jaGlsZE5vZGVzLmxlbmd0aCYmb1twXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9bcF0pfSFkLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJlMudGVzdChpKSYmbS5pbnNlcnRCZWZvcmUoYi5jcmVhdGVUZXh0Tm9kZShTLmV4ZWMoaSlbMF0pLG0uZmlyc3RDaGlsZCksaT1tLmNoaWxkTm9kZXN9fWVsc2UgaT1iLmNyZWF0ZVRleHROb2RlKGkpO2kubm9kZVR5cGU/Zy5wdXNoKGkpOmc9ZC5tZXJnZShnLGkpfWlmKGUpZm9yKGg9MDtnW2hdO2grKykhZnx8IWQubm9kZU5hbWUoZ1toXSwic2NyaXB0Iil8fGdbaF0udHlwZSYmZ1toXS50eXBlLnRvTG93ZXJDYXNlKCkhPT0idGV4dC9qYXZhc2NyaXB0Ij8oZ1toXS5ub2RlVHlwZT09PTEmJmcuc3BsaWNlLmFwcGx5KGcsW2grMSwwXS5jb25jYXQoZC5tYWtlQXJyYXkoZ1toXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IikpKSksZS5hcHBlbmRDaGlsZChnW2hdKSk6Zi5wdXNoKGdbaF0ucGFyZW50Tm9kZT9nW2hdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ1toXSk6Z1toXSk7cmV0dXJuIGd9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXt2YXIgYixjLGU9ZC5jYWNoZSxmPWQuZXhwYW5kbyxnPWQuZXZlbnQuc3BlY2lhbCxoPWQuc3VwcG9ydC5kZWxldGVFeHBhbmRvO2Zvcih2YXIgaT0wLGo7KGo9YVtpXSkhPW51bGw7aSsrKXtpZihqLm5vZGVOYW1lJiZkLm5vRGF0YVtqLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKWNvbnRpbnVlO2M9altkLmV4cGFuZG9dO2lmKGMpe2I9ZVtjXSYmZVtjXVtmXTtpZihiJiZiLmV2ZW50cyl7Zm9yKHZhciBrIGluIGIuZXZlbnRzKWdba10/ZC5ldmVudC5yZW1vdmUoaixrKTpkLnJlbW92ZUV2ZW50KGosayxiLmhhbmRsZSk7Yi5oYW5kbGUmJihiLmhhbmRsZS5lbGVtPW51bGwpfWg/ZGVsZXRlIGpbZC5leHBhbmRvXTpqLnJlbW92ZUF0dHJpYnV0ZSYmai5yZW1vdmVBdHRyaWJ1dGUoZC5leHBhbmRvKSxkZWxldGUgZVtjXX19fX0pO3ZhciBiZD0vYWxwaGFcKFteKV0qXCkvaSxiZT0vb3BhY2l0eT0oW14pXSopLyxiZj0vLShbYS16XSkvaWcsYmc9LyhbQS1aXXxebXMpL2csYmg9L14tP1xkKyg/OnB4KT8kL2ksYmk9L14tP1xkLyxiaj17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sYms9WyJMZWZ0IiwiUmlnaHQiXSxibD1bIlRvcCIsIkJvdHRvbSJdLGJtLGJuLGJvLGJwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07ZC5mbi5jc3M9ZnVuY3Rpb24oYSxjKXtpZihhcmd1bWVudHMubGVuZ3RoPT09MiYmYz09PWIpcmV0dXJuIHRoaXM7cmV0dXJuIGQuYWNjZXNzKHRoaXMsYSxjLCEwLGZ1bmN0aW9uKGEsYyxlKXtyZXR1cm4gZSE9PWI/ZC5zdHlsZShhLGMsZSk6ZC5jc3MoYSxjKX0pfSxkLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPWJtKGEsIm9wYWNpdHkiLCJvcGFjaXR5Iik7cmV0dXJuIGM9PT0iIj8iMSI6Y31yZXR1cm4gYS5zdHlsZS5vcGFjaXR5fX19LGNzc051bWJlcjp7ekluZGV4OiEwLGZvbnRXZWlnaHQ6ITAsb3BhY2l0eTohMCx6b29tOiEwLGxpbmVIZWlnaHQ6ITB9LGNzc1Byb3BzOnsiZmxvYXQiOmQuc3VwcG9ydC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxjLGUsZil7aWYoYSYmYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04JiZhLnN0eWxlKXt2YXIgZyxoPWQuY2FtZWxDYXNlKGMpLGk9YS5zdHlsZSxqPWQuY3NzSG9va3NbaF07Yz1kLmNzc1Byb3BzW2hdfHxoO2lmKGU9PT1iKXtpZihqJiYiZ2V0ImluIGomJihnPWouZ2V0KGEsITEsZikpIT09YilyZXR1cm4gZztyZXR1cm4gaVtjXX1pZih0eXBlb2YgZT09PSJudW1iZXIiJiZpc05hTihlKXx8ZT09bnVsbClyZXR1cm47dHlwZW9mIGU9PT0ibnVtYmVyIiYmIWQuY3NzTnVtYmVyW2hdJiYoZSs9InB4Iik7aWYoIWp8fCEoInNldCJpbiBqKXx8KGU9ai5zZXQoYSxlKSkhPT1iKXRyeXtpW2NdPWV9Y2F0Y2goayl7fX19LGNzczpmdW5jdGlvbihhLGMsZSl7dmFyIGYsZz1kLmNhbWVsQ2FzZShjKSxoPWQuY3NzSG9va3NbZ107Yz1kLmNzc1Byb3BzW2ddfHxnO2lmKGgmJiJnZXQiaW4gaCYmKGY9aC5nZXQoYSwhMCxlKSkhPT1iKXJldHVybiBmO2lmKGJtKXJldHVybiBibShhLGMsZyl9LHN3YXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9O2Zvcih2YXIgZSBpbiBiKWRbZV09YS5zdHlsZVtlXSxhLnN0eWxlW2VdPWJbZV07Yy5jYWxsKGEpO2ZvcihlIGluIGIpYS5zdHlsZVtlXT1kW2VdfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShiZixicCl9fSksZC5jdXJDU1M9ZC5jc3MsZC5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihhLGIpe2QuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZSl7dmFyIGY7aWYoYyl7YS5vZmZzZXRXaWR0aCE9PTA/Zj1icShhLGIsZSk6ZC5zd2FwKGEsYmosZnVuY3Rpb24oKXtmPWJxKGEsYixlKX0pO2lmKGY8PTApe2Y9Ym0oYSxiLGIpLGY9PT0iMHB4IiYmYm8mJihmPWJvKGEsYixiKSk7aWYoZiE9bnVsbClyZXR1cm4gZj09PSIifHxmPT09ImF1dG8iPyIwcHgiOmZ9aWYoZjwwfHxmPT1udWxsKXtmPWEuc3R5bGVbYl07cmV0dXJuIGY9PT0iInx8Zj09PSJhdXRvIj8iMHB4IjpmfXJldHVybiB0eXBlb2YgZj09PSJzdHJpbmciP2Y6ZisicHgifX0sc2V0OmZ1bmN0aW9uKGEsYil7aWYoIWJoLnRlc3QoYikpcmV0dXJuIGI7Yj1wYXJzZUZsb2F0KGIpO2lmKGI+PTApcmV0dXJuIGIrInB4In19fSksZC5zdXBwb3J0Lm9wYWNpdHl8fChkLmNzc0hvb2tzLm9wYWNpdHk9e2dldDpmdW5jdGlvbihhLGIpe3JldHVybiBiZS50ZXN0KChiJiZhLmN1cnJlbnRTdHlsZT9hLmN1cnJlbnRTdHlsZS5maWx0ZXI6YS5zdHlsZS5maWx0ZXIpfHwiIik/cGFyc2VGbG9hdChSZWdFeHAuJDEpLzEwMCsiIjpiPyIxIjoiIn0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdHlsZTtjLnpvb209MTt2YXIgZT1kLmlzTmFOKGIpPyIiOiJhbHBoYShvcGFjaXR5PSIrYioxMDArIikiLGY9Yy5maWx0ZXJ8fCIiO2MuZmlsdGVyPWJkLnRlc3QoZik/Zi5yZXBsYWNlKGJkLGUpOmMuZmlsdGVyKyIgIitlfX0pLGQoZnVuY3Rpb24oKXtkLnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KGQuY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihhLGIpe3ZhciBjO2Quc3dhcChhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxmdW5jdGlvbigpe2I/Yz1ibShhLCJtYXJnaW4tcmlnaHQiLCJtYXJnaW5SaWdodCIpOmM9YS5zdHlsZS5tYXJnaW5SaWdodH0pO3JldHVybiBjfX0pfSksYy5kZWZhdWx0VmlldyYmYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlJiYoYm49ZnVuY3Rpb24oYSxjLGUpe3ZhciBmLGcsaDtlPWUucmVwbGFjZShiZywiLSQxIikudG9Mb3dlckNhc2UoKTtpZighKGc9YS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSlyZXR1cm4gYjtpZihoPWcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpKWY9aC5nZXRQcm9wZXJ0eVZhbHVlKGUpLGY9PT0iIiYmIWQuY29udGFpbnMoYS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxhKSYmKGY9ZC5zdHlsZShhLGUpKTtyZXR1cm4gZn0pLGMuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSYmKGJvPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLmN1cnJlbnRTdHlsZSYmYS5jdXJyZW50U3R5bGVbYl0sZT1hLnJ1bnRpbWVTdHlsZSYmYS5ydW50aW1lU3R5bGVbYl0sZj1hLnN0eWxlOyFiaC50ZXN0KGQpJiZiaS50ZXN0KGQpJiYoYz1mLmxlZnQsZSYmKGEucnVudGltZVN0eWxlLmxlZnQ9YS5jdXJyZW50U3R5bGUubGVmdCksZi5sZWZ0PWI9PT0iZm9udFNpemUiPyIxZW0iOmR8fDAsZD1mLnBpeGVsTGVmdCsicHgiLGYubGVmdD1jLGUmJihhLnJ1bnRpbWVTdHlsZS5sZWZ0PWUpKTtyZXR1cm4gZD09PSIiPyJhdXRvIjpkfSksYm09Ym58fGJvLGQuZXhwciYmZC5leHByLmZpbHRlcnMmJihkLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRXaWR0aCxjPWEub2Zmc2V0SGVpZ2h0O3JldHVybiBiPT09MCYmYz09PTB8fCFkLnN1cHBvcnQucmVsaWFibGVIaWRkZW5PZmZzZXRzJiYoYS5zdHlsZS5kaXNwbGF5fHxkLmNzcyhhLCJkaXNwbGF5IikpPT09Im5vbmUifSxkLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiFkLmV4cHIuZmlsdGVycy5oaWRkZW4oYSl9KTt2YXIgYnI9LyUyMC9nLGJzPS9cW1xdJC8sYnQ9L1xyP1xuL2csYnU9LyMuKiQvLGJ2PS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKVxyPyQvbWcsYnc9L14oPzpjb2xvcnxkYXRlfGRhdGV0aW1lfGVtYWlsfGhpZGRlbnxtb250aHxudW1iZXJ8cGFzc3dvcmR8cmFuZ2V8c2VhcmNofHRlbHx0ZXh0fHRpbWV8dXJsfHdlZWspJC9pLGJ4PS9eKD86YWJvdXR8YXBwfGFwcFwtc3RvcmFnZXwuK1wtZXh0ZW5zaW9ufGZpbGV8d2lkZ2V0KTokLyxieT0vXig/OkdFVHxIRUFEKSQvLGJ6PS9eXC9cLy8sYkE9L1w/LyxiQj0vPHNjcmlwdFxiW148XSooPzooPyE8XC9zY3JpcHQ+KTxbXjxdKikqPFwvc2NyaXB0Pi9naSxiQz0vXig/OnNlbGVjdHx0ZXh0YXJlYSkvaSxiRD0vXHMrLyxiRT0vKFs/Jl0pXz1bXiZdKi8sYkY9LyhefFwtKShbYS16XSkvZyxiRz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIrYy50b1VwcGVyQ2FzZSgpfSxiSD0vXihbXHdcK1wuXC1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspKT8pPy8sYkk9ZC5mbi5sb2FkLGJKPXt9LGJLPXt9LGJMLGJNO3RyeXtiTD1jLmxvY2F0aW9uLmhyZWZ9Y2F0Y2goYk4pe2JMPWMuY3JlYXRlRWxlbWVudCgiYSIpLGJMLmhyZWY9IiIsYkw9YkwuaHJlZn1iTT1iSC5leGVjKGJMLnRvTG93ZXJDYXNlKCkpfHxbXSxkLmZuLmV4dGVuZCh7bG9hZDpmdW5jdGlvbihhLGMsZSl7aWYodHlwZW9mIGEhPT0ic3RyaW5nIiYmYkkpcmV0dXJuIGJJLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIGY9YS5pbmRleE9mKCIgIik7aWYoZj49MCl7dmFyIGc9YS5zbGljZShmLGEubGVuZ3RoKTthPWEuc2xpY2UoMCxmKX12YXIgaD0iR0VUIjtjJiYoZC5pc0Z1bmN0aW9uKGMpPyhlPWMsYz1iKTp0eXBlb2YgYz09PSJvYmplY3QiJiYoYz1kLnBhcmFtKGMsZC5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLGg9IlBPU1QiKSk7dmFyIGk9dGhpcztkLmFqYXgoe3VybDphLHR5cGU6aCxkYXRhVHlwZToiaHRtbCIsZGF0YTpjLGNvbXBsZXRlOmZ1bmN0aW9uKGEsYixjKXtjPWEucmVzcG9uc2VUZXh0LGEuaXNSZXNvbHZlZCgpJiYoYS5kb25lKGZ1bmN0aW9uKGEpe2M9YX0pLGkuaHRtbChnP2QoIjxkaXY+IikuYXBwZW5kKGMucmVwbGFjZShiQiwiIikpLmZpbmQoZyk6YykpLGUmJmkuZWFjaChlLFtjLGIsYV0pfX0pO3JldHVybiB0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZC5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRzP2QubWFrZUFycmF5KHRoaXMuZWxlbWVudHMpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lJiYhdGhpcy5kaXNhYmxlZCYmKHRoaXMuY2hlY2tlZHx8YkMudGVzdCh0aGlzLm5vZGVOYW1lKXx8YncudGVzdCh0aGlzLnR5cGUpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPWQodGhpcykudmFsKCk7cmV0dXJuIGM9PW51bGw/bnVsbDpkLmlzQXJyYXkoYyk/ZC5tYXAoYyxmdW5jdGlvbihhLGMpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYnQsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGJ0LCJcclxuIil9fSkuZ2V0KCl9fSksZC5lYWNoKCJhamF4U3RhcnQgYWpheFN0b3AgYWpheENvbXBsZXRlIGFqYXhFcnJvciBhamF4U3VjY2VzcyBhamF4U2VuZCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2QuZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmluZChiLGEpfX0pLGQuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGMpe2RbY109ZnVuY3Rpb24oYSxlLGYsZyl7ZC5pc0Z1bmN0aW9uKGUpJiYoZz1nfHxmLGY9ZSxlPWIpO3JldHVybiBkLmFqYXgoe3R5cGU6Yyx1cmw6YSxkYXRhOmUsc3VjY2VzczpmLGRhdGFUeXBlOmd9KX19KSxkLmV4dGVuZCh7Z2V0U2NyaXB0OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGQuZ2V0KGEsYixjLCJzY3JpcHQiKX0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGQuZ2V0KGEsYixjLCJqc29uIil9LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe2I/ZC5leHRlbmQoITAsYSxkLmFqYXhTZXR0aW5ncyxiKTooYj1hLGE9ZC5leHRlbmQoITAsZC5hamF4U2V0dGluZ3MsYikpO2Zvcih2YXIgYyBpbiB7Y29udGV4dDoxLHVybDoxfSljIGluIGI/YVtjXT1iW2NdOmMgaW4gZC5hamF4U2V0dGluZ3MmJihhW2NdPWQuYWpheFNldHRpbmdzW2NdKTtyZXR1cm4gYX0sYWpheFNldHRpbmdzOnt1cmw6YkwsaXNMb2NhbDpieC50ZXN0KGJNWzFdKSxnbG9iYWw6ITAsdHlwZToiR0VUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixwcm9jZXNzRGF0YTohMCxhc3luYzohMCxhY2NlcHRzOnt4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGh0bWw6InRleHQvaHRtbCIsdGV4dDoidGV4dC9wbGFpbiIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0IiwiKiI6IiovKiJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjphLlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpkLnBhcnNlSlNPTiwidGV4dCB4bWwiOmQucGFyc2VYTUx9fSxhamF4UHJlZmlsdGVyOmJPKGJKKSxhamF4VHJhbnNwb3J0OmJPKGJLKSxhamF4OmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gdihhLGMsbCxuKXtpZihyIT09Mil7cj0yLHAmJmNsZWFyVGltZW91dChwKSxvPWIsbT1ufHwiIix1LnJlYWR5U3RhdGU9YT80OjA7dmFyIHEsdCx2LHc9bD9iUihlLHUsbCk6Yix4LHk7aWYoYT49MjAwJiZhPDMwMHx8YT09PTMwNCl7aWYoZS5pZk1vZGlmaWVkKXtpZih4PXUuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSlkLmxhc3RNb2RpZmllZFtrXT14O2lmKHk9dS5nZXRSZXNwb25zZUhlYWRlcigiRXRhZyIpKWQuZXRhZ1trXT15fWlmKGE9PT0zMDQpYz0ibm90bW9kaWZpZWQiLHE9ITA7ZWxzZSB0cnl7dD1iUyhlLHcpLGM9InN1Y2Nlc3MiLHE9ITB9Y2F0Y2goeil7Yz0icGFyc2VyZXJyb3IiLHY9en19ZWxzZXt2PWM7aWYoIWN8fGEpYz0iZXJyb3IiLGE8MCYmKGE9MCl9dS5zdGF0dXM9YSx1LnN0YXR1c1RleHQ9YyxxP2gucmVzb2x2ZVdpdGgoZixbdCxjLHVdKTpoLnJlamVjdFdpdGgoZixbdSxjLHZdKSx1LnN0YXR1c0NvZGUoaiksaj1iLHMmJmcudHJpZ2dlcigiYWpheCIrKHE/IlN1Y2Nlc3MiOiJFcnJvciIpLFt1LGUscT90OnZdKSxpLnJlc29sdmVXaXRoKGYsW3UsY10pLHMmJihnLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3UsZV0pLC0tZC5hY3RpdmV8fGQuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9fXR5cGVvZiBhPT09Im9iamVjdCImJihjPWEsYT1iKSxjPWN8fHt9O3ZhciBlPWQuYWpheFNldHVwKHt9LGMpLGY9ZS5jb250ZXh0fHxlLGc9ZiE9PWUmJihmLm5vZGVUeXBlfHxmIGluc3RhbmNlb2YgZCk/ZChmKTpkLmV2ZW50LGg9ZC5EZWZlcnJlZCgpLGk9ZC5fRGVmZXJyZWQoKSxqPWUuc3RhdHVzQ29kZXx8e30sayxsPXt9LG0sbixvLHAscSxyPTAscyx0LHU9e3JlYWR5U3RhdGU6MCxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7cnx8KGxbYS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoYkYsYkcpXT1iKTtyZXR1cm4gdGhpc30sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHI9PT0yP206bnVsbH0sZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGM7aWYocj09PTIpe2lmKCFuKXtuPXt9O3doaWxlKGM9YnYuZXhlYyhtKSluW2NbMV0udG9Mb3dlckNhc2UoKV09Y1syXX1jPW5bYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gYz09PWI/bnVsbDpjfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3J8fChlLm1pbWVUeXBlPWEpO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXthPWF8fCJhYm9ydCIsbyYmby5hYm9ydChhKSx2KDAsYSk7cmV0dXJuIHRoaXN9fTtoLnByb21pc2UodSksdS5zdWNjZXNzPXUuZG9uZSx1LmVycm9yPXUuZmFpbCx1LmNvbXBsZXRlPWkuZG9uZSx1LnN0YXR1c0NvZGU9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI7aWYocjwyKWZvcihiIGluIGEpaltiXT1baltiXSxhW2JdXTtlbHNlIGI9YVt1LnN0YXR1c10sdS50aGVuKGIsYil9cmV0dXJuIHRoaXN9LGUudXJsPSgoYXx8ZS51cmwpKyIiKS5yZXBsYWNlKGJ1LCIiKS5yZXBsYWNlKGJ6LGJNWzFdKyIvLyIpLGUuZGF0YVR5cGVzPWQudHJpbShlLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkuc3BsaXQoYkQpLGUuY3Jvc3NEb21haW49PW51bGwmJihxPWJILmV4ZWMoZS51cmwudG9Mb3dlckNhc2UoKSksZS5jcm9zc0RvbWFpbj1xJiYocVsxXSE9Yk1bMV18fHFbMl0hPWJNWzJdfHwocVszXXx8KHFbMV09PT0iaHR0cDoiPzgwOjQ0MykpIT0oYk1bM118fChiTVsxXT09PSJodHRwOiI/ODA6NDQzKSkpKSxlLmRhdGEmJmUucHJvY2Vzc0RhdGEmJnR5cGVvZiBlLmRhdGEhPT0ic3RyaW5nIiYmKGUuZGF0YT1kLnBhcmFtKGUuZGF0YSxlLnRyYWRpdGlvbmFsKSksYlAoYkosZSxjLHUpO2lmKHI9PT0yKXJldHVybiExO3M9ZS5nbG9iYWwsZS50eXBlPWUudHlwZS50b1VwcGVyQ2FzZSgpLGUuaGFzQ29udGVudD0hYnkudGVzdChlLnR5cGUpLHMmJmQuYWN0aXZlKys9PT0wJiZkLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpO2lmKCFlLmhhc0NvbnRlbnQpe2UuZGF0YSYmKGUudXJsKz0oYkEudGVzdChlLnVybCk/IiYiOiI/IikrZS5kYXRhKSxrPWUudXJsO2lmKGUuY2FjaGU9PT0hMSl7dmFyIHc9ZC5ub3coKSx4PWUudXJsLnJlcGxhY2UoYkUsIiQxXz0iK3cpO2UudXJsPXgrKHg9PT1lLnVybD8oYkEudGVzdChlLnVybCk/IiYiOiI/IikrIl89Iit3OiIiKX19aWYoZS5kYXRhJiZlLmhhc0NvbnRlbnQmJmUuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSlsWyJDb250ZW50LVR5cGUiXT1lLmNvbnRlbnRUeXBlO2UuaWZNb2RpZmllZCYmKGs9a3x8ZS51cmwsZC5sYXN0TW9kaWZpZWRba10mJihsWyJJZi1Nb2RpZmllZC1TaW5jZSJdPWQubGFzdE1vZGlmaWVkW2tdKSxkLmV0YWdba10mJihsWyJJZi1Ob25lLU1hdGNoIl09ZC5ldGFnW2tdKSksbC5BY2NlcHQ9ZS5kYXRhVHlwZXNbMF0mJmUuYWNjZXB0c1tlLmRhdGFUeXBlc1swXV0/ZS5hY2NlcHRzW2UuZGF0YVR5cGVzWzBdXSsoZS5kYXRhVHlwZXNbMF0hPT0iKiI/IiwgKi8qOyBxPTAuMDEiOiIiKTplLmFjY2VwdHNbIioiXTtmb3IodCBpbiBlLmhlYWRlcnMpdS5zZXRSZXF1ZXN0SGVhZGVyKHQsZS5oZWFkZXJzW3RdKTtpZihlLmJlZm9yZVNlbmQmJihlLmJlZm9yZVNlbmQuY2FsbChmLHUsZSk9PT0hMXx8cj09PTIpKXt1LmFib3J0KCk7cmV0dXJuITF9Zm9yKHQgaW4ge3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXVbdF0oZVt0XSk7bz1iUChiSyxlLGMsdSk7aWYobyl7dS5yZWFkeVN0YXRlPTEscyYmZy50cmlnZ2VyKCJhamF4U2VuZCIsW3UsZV0pLGUuYXN5bmMmJmUudGltZW91dD4wJiYocD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5hYm9ydCgidGltZW91dCIpfSxlLnRpbWVvdXQpKTt0cnl7cj0xLG8uc2VuZChsLHYpfWNhdGNoKHkpe3N0YXR1czwyP3YoLTEseSk6ZC5lcnJvcih5KX19ZWxzZSB2KC0xLCJObyBUcmFuc3BvcnQiKTtyZXR1cm4gdX0scGFyYW06ZnVuY3Rpb24oYSxjKXt2YXIgZT1bXSxmPWZ1bmN0aW9uKGEsYil7Yj1kLmlzRnVuY3Rpb24oYik/YigpOmIsZVtlLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2M9PT1iJiYoYz1kLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYoZC5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIWQuaXNQbGFpbk9iamVjdChhKSlkLmVhY2goYSxmdW5jdGlvbigpe2YodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IodmFyIGcgaW4gYSliUShnLGFbZ10sYyxmKTtyZXR1cm4gZS5qb2luKCImIikucmVwbGFjZShiciwiKyIpfX0pLGQuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fX0pO3ZhciBiVD1kLm5vdygpLGJVPS8oXD0pXD8oJnwkKXxcP1w/L2k7ZC5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiBkLmV4cGFuZG8rIl8iK2JUKyt9fSksZC5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZSl7dmFyIGY9dHlwZW9mIGIuZGF0YT09PSJzdHJpbmciO2lmKGIuZGF0YVR5cGVzWzBdPT09Impzb25wInx8Yy5qc29ucENhbGxiYWNrfHxjLmpzb25wIT1udWxsfHxiLmpzb25wIT09ITEmJihiVS50ZXN0KGIudXJsKXx8ZiYmYlUudGVzdChiLmRhdGEpKSl7dmFyIGcsaD1iLmpzb25wQ2FsbGJhY2s9ZC5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGk9YVtoXSxqPWIudXJsLGs9Yi5kYXRhLGw9IiQxIitoKyIkMiIsbT1mdW5jdGlvbigpe2FbaF09aSxnJiZkLmlzRnVuY3Rpb24oaSkmJmFbaF0oZ1swXSl9O2IuanNvbnAhPT0hMSYmKGo9ai5yZXBsYWNlKGJVLGwpLGIudXJsPT09aiYmKGYmJihrPWsucmVwbGFjZShiVSxsKSksYi5kYXRhPT09ayYmKGorPSgvXD8vLnRlc3Qoaik/IiYiOiI/IikrYi5qc29ucCsiPSIraCkpKSxiLnVybD1qLGIuZGF0YT1rLGFbaF09ZnVuY3Rpb24oYSl7Zz1bYV19LGUudGhlbihtLG0pLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe2d8fGQuZXJyb3IoaCsiIHdhcyBub3QgY2FsbGVkIik7cmV0dXJuIGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIjtyZXR1cm4ic2NyaXB0In19KSxkLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L2phdmFzY3JpcHR8ZWNtYXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7ZC5nbG9iYWxFdmFsKGEpO3JldHVybiBhfX19KSxkLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7YS5jYWNoZT09PWImJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLGQuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgZCxlPWMuaGVhZHx8Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxjLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihmLGcpe2Q9Yy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxkLmFzeW5jPSJhc3luYyIsYS5zY3JpcHRDaGFyc2V0JiYoZC5jaGFyc2V0PWEuc2NyaXB0Q2hhcnNldCksZC5zcmM9YS51cmwsZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oYSxjKXtpZighZC5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGQucmVhZHlTdGF0ZSkpZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlJiZkLnBhcmVudE5vZGUmJmUucmVtb3ZlQ2hpbGQoZCksZD1iLGN8fGcoMjAwLCJzdWNjZXNzIil9LGUuaW5zZXJ0QmVmb3JlKGQsZS5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtkJiZkLm9ubG9hZCgwLDEpfX19fSk7dmFyIGJWPWQubm93KCksYlcsYlg7ZC5hamF4U2V0dGluZ3MueGhyPWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTG9jYWwmJmJaKCl8fGIkKCl9OmJaLGJYPWQuYWpheFNldHRpbmdzLnhocigpLGQuc3VwcG9ydC5hamF4PSEhYlgsZC5zdXBwb3J0LmNvcnM9YlgmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gYlgsYlg9YixkLnN1cHBvcnQuYWpheCYmZC5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe2lmKCFhLmNyb3NzRG9tYWlufHxkLnN1cHBvcnQuY29ycyl7dmFyIGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxmKXt2YXIgZz1hLnhocigpLGgsaTthLnVzZXJuYW1lP2cub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFzc3dvcmQpOmcub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyk7aWYoYS54aHJGaWVsZHMpZm9yKGkgaW4gYS54aHJGaWVsZHMpZ1tpXT1hLnhockZpZWxkc1tpXTthLm1pbWVUeXBlJiZnLm92ZXJyaWRlTWltZVR5cGUmJmcub3ZlcnJpZGVNaW1lVHlwZShhLm1pbWVUeXBlKSwhYS5jcm9zc0RvbWFpbiYmIWVbIlgtUmVxdWVzdGVkLVdpdGgiXSYmKGVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTt0cnl7Zm9yKGkgaW4gZSlnLnNldFJlcXVlc3RIZWFkZXIoaSxlW2ldKX1jYXRjaChqKXt9Zy5zZW5kKGEuaGFzQ29udGVudCYmYS5kYXRhfHxudWxsKSxjPWZ1bmN0aW9uKGUsaSl7dmFyIGosayxsLG0sbjt0cnl7aWYoYyYmKGl8fGcucmVhZHlTdGF0ZT09PTQpKXtjPWIsaCYmKGcub25yZWFkeXN0YXRlY2hhbmdlPWQubm9vcCxkZWxldGUgYldbaF0pO2lmKGkpZy5yZWFkeVN0YXRlIT09NCYmZy5hYm9ydCgpO2Vsc2V7aj1nLnN0YXR1cyxsPWcuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksbT17fSxuPWcucmVzcG9uc2VYTUwsbiYmbi5kb2N1bWVudEVsZW1lbnQmJihtLnhtbD1uKSxtLnRleHQ9Zy5yZXNwb25zZVRleHQ7dHJ5e2s9Zy5zdGF0dXNUZXh0fWNhdGNoKG8pe2s9IiJ9anx8IWEuaXNMb2NhbHx8YS5jcm9zc0RvbWFpbj9qPT09MTIyMyYmKGo9MjA0KTpqPW0udGV4dD8yMDA6NDA0fX19Y2F0Y2gocCl7aXx8ZigtMSxwKX1tJiZmKGosayxtLGwpfSxhLmFzeW5jJiZnLnJlYWR5U3RhdGUhPT00PyhiV3x8KGJXPXt9LGJZKCkpLGg9YlYrKyxnLm9ucmVhZHlzdGF0ZWNoYW5nZT1iV1toXT1jKTpjKCl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygwLDEpfX19fSk7dmFyIGJfPXt9LGNhPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxjYj0vXihbK1wtXT0pPyhbXGQrLlwtXSspKFthLXolXSopJC9pLGNjLGNkPVtbImhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sWyJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0sWyJvcGFjaXR5Il1dO2QuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmO2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY2UoInNob3ciLDMpLGEsYixjKTtmb3IodmFyIGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspZT10aGlzW2ddLGY9ZS5zdHlsZS5kaXNwbGF5LCFkLl9kYXRhKGUsIm9sZGRpc3BsYXkiKSYmZj09PSJub25lIiYmKGY9ZS5zdHlsZS5kaXNwbGF5PSIiKSxmPT09IiImJmQuY3NzKGUsImRpc3BsYXkiKT09PSJub25lIiYmZC5fZGF0YShlLCJvbGRkaXNwbGF5IixjZihlLm5vZGVOYW1lKSk7Zm9yKGc9MDtnPGg7ZysrKXtlPXRoaXNbZ10sZj1lLnN0eWxlLmRpc3BsYXk7aWYoZj09PSIifHxmPT09Im5vbmUiKWUuc3R5bGUuZGlzcGxheT1kLl9kYXRhKGUsIm9sZGRpc3BsYXkiKXx8IiJ9cmV0dXJuIHRoaXN9LGhpZGU6ZnVuY3Rpb24oYSxiLGMpe2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY2UoImhpZGUiLDMpLGEsYixjKTtmb3IodmFyIGU9MCxmPXRoaXMubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPWQuY3NzKHRoaXNbZV0sImRpc3BsYXkiKTtnIT09Im5vbmUiJiYhZC5fZGF0YSh0aGlzW2VdLCJvbGRkaXNwbGF5IikmJmQuX2RhdGEodGhpc1tlXSwib2xkZGlzcGxheSIsZyl9Zm9yKGU9MDtlPGY7ZSsrKXRoaXNbZV0uc3R5bGUuZGlzcGxheT0ibm9uZSI7cmV0dXJuIHRoaXN9LF90b2dnbGU6ZC5mbi50b2dnbGUsdG9nZ2xlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT10eXBlb2YgYT09PSJib29sZWFuIjtkLmlzRnVuY3Rpb24oYSkmJmQuaXNGdW5jdGlvbihiKT90aGlzLl90b2dnbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpOmE9PW51bGx8fGU/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ZT9hOmQodGhpcykuaXMoIjpoaWRkZW4iKTtkKHRoaXMpW2I/InNob3ciOiJoaWRlIl0oKX0pOnRoaXMuYW5pbWF0ZShjZSgidG9nZ2xlIiwzKSxhLGIsYyk7cmV0dXJuIHRoaXN9LGZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoIjpoaWRkZW4iKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZj1kLnNwZWVkKGIsYyxlKTtpZihkLmlzRW1wdHlPYmplY3QoYSkpcmV0dXJuIHRoaXMuZWFjaChmLmNvbXBsZXRlKTtyZXR1cm4gdGhpc1tmLnF1ZXVlPT09ITE/ImVhY2giOiJxdWV1ZSJdKGZ1bmN0aW9uKCl7dmFyIGI9ZC5leHRlbmQoe30sZiksYyxlPXRoaXMubm9kZVR5cGU9PT0xLGc9ZSYmZCh0aGlzKS5pcygiOmhpZGRlbiIpLGg9dGhpcztmb3IoYyBpbiBhKXt2YXIgaT1kLmNhbWVsQ2FzZShjKTtjIT09aSYmKGFbaV09YVtjXSxkZWxldGUgYVtjXSxjPWkpO2lmKGFbY109PT0iaGlkZSImJmd8fGFbY109PT0ic2hvdyImJiFnKXJldHVybiBiLmNvbXBsZXRlLmNhbGwodGhpcyk7aWYoZSYmKGM9PT0iaGVpZ2h0Inx8Yz09PSJ3aWR0aCIpKXtiLm92ZXJmbG93PVt0aGlzLnN0eWxlLm92ZXJmbG93LHRoaXMuc3R5bGUub3ZlcmZsb3dYLHRoaXMuc3R5bGUub3ZlcmZsb3dZXTtpZihkLmNzcyh0aGlzLCJkaXNwbGF5Iik9PT0iaW5saW5lIiYmZC5jc3ModGhpcywiZmxvYXQiKT09PSJub25lIilpZihkLnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dCl7dmFyIGo9Y2YodGhpcy5ub2RlTmFtZSk7aj09PSJpbmxpbmUiP3RoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjoodGhpcy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLHRoaXMuc3R5bGUuem9vbT0xKX1lbHNlIHRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIn1kLmlzQXJyYXkoYVtjXSkmJigoYi5zcGVjaWFsRWFzaW5nPWIuc3BlY2lhbEVhc2luZ3x8e30pW2NdPWFbY11bMV0sYVtjXT1hW2NdWzBdKX1iLm92ZXJmbG93IT1udWxsJiYodGhpcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIiksYi5jdXJBbmltPWQuZXh0ZW5kKHt9LGEpLGQuZWFjaChhLGZ1bmN0aW9uKGMsZSl7dmFyIGY9bmV3IGQuZngoaCxiLGMpO2lmKGNhLnRlc3QoZSkpZltlPT09InRvZ2dsZSI/Zz8ic2hvdyI6ImhpZGUiOmVdKGEpO2Vsc2V7dmFyIGk9Y2IuZXhlYyhlKSxqPWYuY3VyKCk7aWYoaSl7dmFyIGs9cGFyc2VGbG9hdChpWzJdKSxsPWlbM118fChkLmNzc051bWJlcltjXT8iIjoicHgiKTtsIT09InB4IiYmKGQuc3R5bGUoaCxjLChrfHwxKStsKSxqPShrfHwxKS9mLmN1cigpKmosZC5zdHlsZShoLGMsaitsKSksaVsxXSYmKGs9KGlbMV09PT0iLT0iPy0xOjEpKmsraiksZi5jdXN0b20oaixrLGwpfWVsc2UgZi5jdXN0b20oaixlLCIiKX19KTtyZXR1cm4hMH0pfSxzdG9wOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZC50aW1lcnM7YSYmdGhpcy5xdWV1ZShbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPWMubGVuZ3RoLTE7YT49MDthLS0pY1thXS5lbGVtPT09dGhpcyYmKGImJmNbYV0oITApLGMuc3BsaWNlKGEsMSkpfSksYnx8dGhpcy5kZXF1ZXVlKCk7cmV0dXJuIHRoaXN9fSksZC5lYWNoKHtzbGlkZURvd246Y2UoInNob3ciLDEpLHNsaWRlVXA6Y2UoImhpZGUiLDEpLHNsaWRlVG9nZ2xlOmNlKCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtkLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLGQuZXh0ZW5kKHtzcGVlZDpmdW5jdGlvbihhLGIsYyl7dmFyIGU9YSYmdHlwZW9mIGE9PT0ib2JqZWN0Ij9kLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fGQuaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhZC5pc0Z1bmN0aW9uKGIpJiZifTtlLmR1cmF0aW9uPWQuZngub2ZmPzA6dHlwZW9mIGUuZHVyYXRpb249PT0ibnVtYmVyIj9lLmR1cmF0aW9uOmUuZHVyYXRpb24gaW4gZC5meC5zcGVlZHM/ZC5meC5zcGVlZHNbZS5kdXJhdGlvbl06ZC5meC5zcGVlZHMuX2RlZmF1bHQsZS5vbGQ9ZS5jb21wbGV0ZSxlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7ZS5xdWV1ZSE9PSExJiZkKHRoaXMpLmRlcXVldWUoKSxkLmlzRnVuY3Rpb24oZS5vbGQpJiZlLm9sZC5jYWxsKHRoaXMpfTtyZXR1cm4gZX0sZWFzaW5nOntsaW5lYXI6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGMrZCphfSxzd2luZzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4oLU1hdGguY29zKGEqTWF0aC5QSSkvMisuNSkqZCtjfX0sdGltZXJzOltdLGZ4OmZ1bmN0aW9uKGEsYixjKXt0aGlzLm9wdGlvbnM9Yix0aGlzLmVsZW09YSx0aGlzLnByb3A9YyxiLm9yaWd8fChiLm9yaWc9e30pfX0pLGQuZngucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksKGQuZnguc3RlcFt0aGlzLnByb3BdfHxkLmZ4LnN0ZXAuX2RlZmF1bHQpKHRoaXMpfSxjdXI6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1bdGhpcy5wcm9wXSE9bnVsbCYmKCF0aGlzLmVsZW0uc3R5bGV8fHRoaXMuZWxlbS5zdHlsZVt0aGlzLnByb3BdPT1udWxsKSlyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF07dmFyIGEsYj1kLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wKTtyZXR1cm4gaXNOYU4oYT1wYXJzZUZsb2F0KGIpKT8hYnx8Yj09PSJhdXRvIj8wOmI6YX0sY3VzdG9tOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBnKGEpe3JldHVybiBlLnN0ZXAoYSl9dmFyIGU9dGhpcyxmPWQuZng7dGhpcy5zdGFydFRpbWU9ZC5ub3coKSx0aGlzLnN0YXJ0PWEsdGhpcy5lbmQ9Yix0aGlzLnVuaXQ9Y3x8dGhpcy51bml0fHwoZC5jc3NOdW1iZXJbdGhpcy5wcm9wXT8iIjoicHgiKSx0aGlzLm5vdz10aGlzLnN0YXJ0LHRoaXMucG9zPXRoaXMuc3RhdGU9MCxnLmVsZW09dGhpcy5lbGVtLGcoKSYmZC50aW1lcnMucHVzaChnKSYmIWNjJiYoY2M9c2V0SW50ZXJ2YWwoZi50aWNrLGYuaW50ZXJ2YWwpKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09ZC5zdHlsZSh0aGlzLmVsZW0sdGhpcy5wcm9wKSx0aGlzLm9wdGlvbnMuc2hvdz0hMCx0aGlzLmN1c3RvbSh0aGlzLnByb3A9PT0id2lkdGgifHx0aGlzLnByb3A9PT0iaGVpZ2h0Ij8xOjAsdGhpcy5jdXIoKSksZCh0aGlzLmVsZW0pLnNob3coKX0saGlkZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09ZC5zdHlsZSh0aGlzLmVsZW0sdGhpcy5wcm9wKSx0aGlzLm9wdGlvbnMuaGlkZT0hMCx0aGlzLmN1c3RvbSh0aGlzLmN1cigpLDApfSxzdGVwOmZ1bmN0aW9uKGEpe3ZhciBiPWQubm93KCksYz0hMDtpZihhfHxiPj10aGlzLm9wdGlvbnMuZHVyYXRpb24rdGhpcy5zdGFydFRpbWUpe3RoaXMubm93PXRoaXMuZW5kLHRoaXMucG9zPXRoaXMuc3RhdGU9MSx0aGlzLnVwZGF0ZSgpLHRoaXMub3B0aW9ucy5jdXJBbmltW3RoaXMucHJvcF09ITA7Zm9yKHZhciBlIGluIHRoaXMub3B0aW9ucy5jdXJBbmltKXRoaXMub3B0aW9ucy5jdXJBbmltW2VdIT09ITAmJihjPSExKTtpZihjKXtpZih0aGlzLm9wdGlvbnMub3ZlcmZsb3chPW51bGwmJiFkLnN1cHBvcnQuc2hyaW5rV3JhcEJsb2Nrcyl7dmFyIGY9dGhpcy5lbGVtLGc9dGhpcy5vcHRpb25zO2QuZWFjaChbIiIsIlgiLCJZIl0sZnVuY3Rpb24oYSxiKXtmLnN0eWxlWyJvdmVyZmxvdyIrYl09Zy5vdmVyZmxvd1thXX0pfXRoaXMub3B0aW9ucy5oaWRlJiZkKHRoaXMuZWxlbSkuaGlkZSgpO2lmKHRoaXMub3B0aW9ucy5oaWRlfHx0aGlzLm9wdGlvbnMuc2hvdylmb3IodmFyIGggaW4gdGhpcy5vcHRpb25zLmN1ckFuaW0pZC5zdHlsZSh0aGlzLmVsZW0saCx0aGlzLm9wdGlvbnMub3JpZ1toXSk7dGhpcy5vcHRpb25zLmNvbXBsZXRlLmNhbGwodGhpcy5lbGVtKX1yZXR1cm4hMX12YXIgaT1iLXRoaXMuc3RhcnRUaW1lO3RoaXMuc3RhdGU9aS90aGlzLm9wdGlvbnMuZHVyYXRpb247dmFyIGo9dGhpcy5vcHRpb25zLnNwZWNpYWxFYXNpbmcmJnRoaXMub3B0aW9ucy5zcGVjaWFsRWFzaW5nW3RoaXMucHJvcF0saz10aGlzLm9wdGlvbnMuZWFzaW5nfHwoZC5lYXNpbmcuc3dpbmc/InN3aW5nIjoibGluZWFyIik7dGhpcy5wb3M9ZC5lYXNpbmdbanx8a10odGhpcy5zdGF0ZSxpLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pLHRoaXMubm93PXRoaXMuc3RhcnQrKHRoaXMuZW5kLXRoaXMuc3RhcnQpKnRoaXMucG9zLHRoaXMudXBkYXRlKCk7cmV0dXJuITB9fSxkLmV4dGVuZChkLmZ4LHt0aWNrOmZ1bmN0aW9uKCl7dmFyIGE9ZC50aW1lcnM7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfHxhLnNwbGljZShiLS0sMSk7YS5sZW5ndGh8fGQuZnguc3RvcCgpfSxpbnRlcnZhbDoxMyxzdG9wOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChjYyksY2M9bnVsbH0sc3BlZWRzOntzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHN0ZXA6e29wYWNpdHk6ZnVuY3Rpb24oYSl7ZC5zdHlsZShhLmVsZW0sIm9wYWNpdHkiLGEubm93KX0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7YS5lbGVtLnN0eWxlJiZhLmVsZW0uc3R5bGVbYS5wcm9wXSE9bnVsbD9hLmVsZW0uc3R5bGVbYS5wcm9wXT0oYS5wcm9wPT09IndpZHRoInx8YS5wcm9wPT09ImhlaWdodCI/TWF0aC5tYXgoMCxhLm5vdyk6YS5ub3cpK2EudW5pdDphLmVsZW1bYS5wcm9wXT1hLm5vd319fSksZC5leHByJiZkLmV4cHIuZmlsdGVycyYmKGQuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBkLmdyZXAoZC50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9KTt2YXIgY2c9L150KD86YWJsZXxkfGgpJC9pLGNoPS9eKD86Ym9keXxodG1sKSQvaTsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0ImluIGMuZG9jdW1lbnRFbGVtZW50P2QuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF0sYztpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7ZC5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZC5vZmZzZXQuYm9keU9mZnNldChiKTt0cnl7Yz1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKGUpe312YXIgZj1iLm93bmVyRG9jdW1lbnQsZz1mLmRvY3VtZW50RWxlbWVudDtpZighY3x8IWQuY29udGFpbnMoZyxiKSlyZXR1cm4gYz97dG9wOmMudG9wLGxlZnQ6Yy5sZWZ0fTp7dG9wOjAsbGVmdDowfTt2YXIgaD1mLmJvZHksaT1jaShmKSxqPWcuY2xpZW50VG9wfHxoLmNsaWVudFRvcHx8MCxrPWcuY2xpZW50TGVmdHx8aC5jbGllbnRMZWZ0fHwwLGw9aS5wYWdlWU9mZnNldHx8ZC5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbFRvcHx8aC5zY3JvbGxUb3AsbT1pLnBhZ2VYT2Zmc2V0fHxkLnN1cHBvcnQuYm94TW9kZWwmJmcuc2Nyb2xsTGVmdHx8aC5zY3JvbGxMZWZ0LG49Yy50b3ArbC1qLG89Yy5sZWZ0K20taztyZXR1cm57dG9wOm4sbGVmdDpvfX06ZC5mbi5vZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXTtpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7ZC5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZC5vZmZzZXQuYm9keU9mZnNldChiKTtkLm9mZnNldC5pbml0aWFsaXplKCk7dmFyIGMsZT1iLm9mZnNldFBhcmVudCxmPWIsZz1iLm93bmVyRG9jdW1lbnQsaD1nLmRvY3VtZW50RWxlbWVudCxpPWcuYm9keSxqPWcuZGVmYXVsdFZpZXcsaz1qP2ouZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpOmIuY3VycmVudFN0eWxlLGw9Yi5vZmZzZXRUb3AsbT1iLm9mZnNldExlZnQ7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmYiE9PWkmJmIhPT1oKXtpZihkLm9mZnNldC5zdXBwb3J0c0ZpeGVkUG9zaXRpb24mJmsucG9zaXRpb249PT0iZml4ZWQiKWJyZWFrO2M9aj9qLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZSxsLT1iLnNjcm9sbFRvcCxtLT1iLnNjcm9sbExlZnQsYj09PWUmJihsKz1iLm9mZnNldFRvcCxtKz1iLm9mZnNldExlZnQsZC5vZmZzZXQuZG9lc05vdEFkZEJvcmRlciYmKCFkLm9mZnNldC5kb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxsc3x8IWNnLnRlc3QoYi5ub2RlTmFtZSkpJiYobCs9cGFyc2VGbG9hdChjLmJvcmRlclRvcFdpZHRoKXx8MCxtKz1wYXJzZUZsb2F0KGMuYm9yZGVyTGVmdFdpZHRoKXx8MCksZj1lLGU9Yi5vZmZzZXRQYXJlbnQpLGQub2Zmc2V0LnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZSYmYy5vdmVyZmxvdyE9PSJ2aXNpYmxlIiYmKGwrPXBhcnNlRmxvYXQoYy5ib3JkZXJUb3BXaWR0aCl8fDAsbSs9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCl8fDApLGs9Y31pZihrLnBvc2l0aW9uPT09InJlbGF0aXZlInx8ay5wb3NpdGlvbj09PSJzdGF0aWMiKWwrPWkub2Zmc2V0VG9wLG0rPWkub2Zmc2V0TGVmdDtkLm9mZnNldC5zdXBwb3J0c0ZpeGVkUG9zaXRpb24mJmsucG9zaXRpb249PT0iZml4ZWQiJiYobCs9TWF0aC5tYXgoaC5zY3JvbGxUb3AsaS5zY3JvbGxUb3ApLG0rPU1hdGgubWF4KGguc2Nyb2xsTGVmdCxpLnNjcm9sbExlZnQpKTtyZXR1cm57dG9wOmwsbGVmdDptfX0sZC5vZmZzZXQ9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT1jLmJvZHksYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUsZixnLGgsaT1wYXJzZUZsb2F0KGQuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxqPSI8ZGl2IHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsnPjxkaXY+PC9kaXY+PC9kaXY+PHRhYmxlIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsnIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCc+PHRyPjx0ZD48L3RkPjwvdHI+PC90YWJsZT4iO2QuZXh0ZW5kKGIuc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOjAsbGVmdDowLG1hcmdpbjowLGJvcmRlcjowLHdpZHRoOiIxcHgiLGhlaWdodDoiMXB4Iix2aXNpYmlsaXR5OiJoaWRkZW4ifSksYi5pbm5lckhUTUw9aixhLmluc2VydEJlZm9yZShiLGEuZmlyc3RDaGlsZCksZT1iLmZpcnN0Q2hpbGQsZj1lLmZpcnN0Q2hpbGQsaD1lLm5leHRTaWJsaW5nLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCx0aGlzLmRvZXNOb3RBZGRCb3JkZXI9Zi5vZmZzZXRUb3AhPT01LHRoaXMuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHM9aC5vZmZzZXRUb3A9PT01LGYuc3R5bGUucG9zaXRpb249ImZpeGVkIixmLnN0eWxlLnRvcD0iMjBweCIsdGhpcy5zdXBwb3J0c0ZpeGVkUG9zaXRpb249Zi5vZmZzZXRUb3A9PT0yMHx8Zi5vZmZzZXRUb3A9PT0xNSxmLnN0eWxlLnBvc2l0aW9uPWYuc3R5bGUudG9wPSIiLGUuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLHRoaXMuc3VidHJhY3RzQm9yZGVyRm9yT3ZlcmZsb3dOb3RWaXNpYmxlPWYub2Zmc2V0VG9wPT09LTUsdGhpcy5kb2VzTm90SW5jbHVkZU1hcmdpbkluQm9keU9mZnNldD1hLm9mZnNldFRvcCE9PWksYS5yZW1vdmVDaGlsZChiKSxkLm9mZnNldC5pbml0aWFsaXplPWQubm9vcH0sYm9keU9mZnNldDpmdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldFRvcCxjPWEub2Zmc2V0TGVmdDtkLm9mZnNldC5pbml0aWFsaXplKCksZC5vZmZzZXQuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQmJihiKz1wYXJzZUZsb2F0KGQuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxjKz1wYXJzZUZsb2F0KGQuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDApO3JldHVybnt0b3A6YixsZWZ0OmN9fSxzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWQuY3NzKGEsInBvc2l0aW9uIik7ZT09PSJzdGF0aWMiJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgZj1kKGEpLGc9Zi5vZmZzZXQoKSxoPWQuY3NzKGEsInRvcCIpLGk9ZC5jc3MoYSwibGVmdCIpLGo9KGU9PT0iYWJzb2x1dGUifHxlPT09ImZpeGVkIikmJmQuaW5BcnJheSgiYXV0byIsW2gsaV0pPi0xLGs9e30sbD17fSxtLG47aiYmKGw9Zi5wb3NpdGlvbigpKSxtPWo/bC50b3A6cGFyc2VJbnQoaCwxMCl8fDAsbj1qP2wubGVmdDpwYXJzZUludChpLDEwKXx8MCxkLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsZykpLGIudG9wIT1udWxsJiYoay50b3A9Yi50b3AtZy50b3ArbSksYi5sZWZ0IT1udWxsJiYoay5sZWZ0PWIubGVmdC1nLmxlZnQrbiksInVzaW5nImluIGI/Yi51c2luZy5jYWxsKGEsayk6Zi5jc3Moayl9fSxkLmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm4gbnVsbDt2YXIgYT10aGlzWzBdLGI9dGhpcy5vZmZzZXRQYXJlbnQoKSxjPXRoaXMub2Zmc2V0KCksZT1jaC50ZXN0KGJbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCk7Yy50b3AtPXBhcnNlRmxvYXQoZC5jc3MoYSwibWFyZ2luVG9wIikpfHwwLGMubGVmdC09cGFyc2VGbG9hdChkLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwLGUudG9wKz1wYXJzZUZsb2F0KGQuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLGUubGVmdCs9cGFyc2VGbG9hdChkLmNzcyhiWzBdLCJib3JkZXJMZWZ0V2lkdGgiKSl8fDA7cmV0dXJue3RvcDpjLnRvcC1lLnRvcCxsZWZ0OmMubGVmdC1lLmxlZnR9fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8Yy5ib2R5O3doaWxlKGEmJighY2gudGVzdChhLm5vZGVOYW1lKSYmZC5jc3MoYSwicG9zaXRpb24iKT09PSJzdGF0aWMiKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfSl9fSksZC5lYWNoKFsiTGVmdCIsIlRvcCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGU9InNjcm9sbCIrYztkLmZuW2VdPWZ1bmN0aW9uKGMpe3ZhciBmPXRoaXNbMF0sZztpZighZilyZXR1cm4gbnVsbDtpZihjIT09YilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zz1jaSh0aGlzKSxnP2cuc2Nyb2xsVG8oYT9kKGcpLnNjcm9sbExlZnQoKTpjLGE/YzpkKGcpLnNjcm9sbFRvcCgpKTp0aGlzW2VdPWN9KTtnPWNpKGYpO3JldHVybiBnPyJwYWdlWE9mZnNldCJpbiBnP2dbYT8icGFnZVlPZmZzZXQiOiJwYWdlWE9mZnNldCJdOmQuc3VwcG9ydC5ib3hNb2RlbCYmZy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZV18fGcuZG9jdW1lbnQuYm9keVtlXTpmW2VdfX0pLGQuZWFjaChbIkhlaWdodCIsIldpZHRoIl0sZnVuY3Rpb24oYSxjKXt2YXIgZT1jLnRvTG93ZXJDYXNlKCk7ZC5mblsiaW5uZXIiK2NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0/cGFyc2VGbG9hdChkLmNzcyh0aGlzWzBdLGUsInBhZGRpbmciKSk6bnVsbH0sZC5mblsib3V0ZXIiK2NdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzWzBdP3BhcnNlRmxvYXQoZC5jc3ModGhpc1swXSxlLGE/Im1hcmdpbiI6ImJvcmRlciIpKTpudWxsfSxkLmZuW2VdPWZ1bmN0aW9uKGEpe3ZhciBmPXRoaXNbMF07aWYoIWYpcmV0dXJuIGE9PW51bGw/bnVsbDp0aGlzO2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWQodGhpcyk7Y1tlXShhLmNhbGwodGhpcyxiLGNbZV0oKSkpfSk7aWYoZC5pc1dpbmRvdyhmKSl7dmFyIGc9Zi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrY107cmV0dXJuIGYuZG9jdW1lbnQuY29tcGF0TW9kZT09PSJDU1MxQ29tcGF0IiYmZ3x8Zi5kb2N1bWVudC5ib2R5WyJjbGllbnQiK2NdfHxnfWlmKGYubm9kZVR5cGU9PT05KXJldHVybiBNYXRoLm1heChmLmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitjXSxmLmJvZHlbInNjcm9sbCIrY10sZi5kb2N1bWVudEVsZW1lbnRbInNjcm9sbCIrY10sZi5ib2R5WyJvZmZzZXQiK2NdLGYuZG9jdW1lbnRFbGVtZW50WyJvZmZzZXQiK2NdKTtpZihhPT09Yil7dmFyIGg9ZC5jc3MoZixlKSxpPXBhcnNlRmxvYXQoaCk7cmV0dXJuIGQuaXNOYU4oaSk/aDppfXJldHVybiB0aGlzLmNzcyhlLHR5cGVvZiBhPT09InN0cmluZyI/YTphKyJweCIpfX0pLGEualF1ZXJ5PWEuJD1kfSkod2luZG93KTs=", "content_type": "application/javascript"}, "js/jquery.couch.js": {"data": "Ly8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkgbm90Ci8vIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mCi8vIHRoZSBMaWNlbnNlIGF0Ci8vCi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCi8vCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywgV0lUSE9VVAovLyBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUKLy8gTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIKLy8gdGhlIExpY2Vuc2UuCgovKioKICogQG5hbWVzcGFjZQogKiAkLmNvdWNoIGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgd2l0aCBhIENvdWNoREIgc2VydmVyLCB0aGUgc2VydmVyIG1ldGhvZHMgY2FuCiAqIGJlIGNhbGxlZCBkaXJlY3RseSB3aXRob3V0IGNyZWF0aW5nIGFuIGluc3RhbmNlLiBUeXBpY2FsbHkgYWxsIG1ldGhvZHMgYXJlCiAqIHBhc3NlZCBhbiA8Y29kZT5vcHRpb25zPC9jb2RlPiBvYmplY3Qgd2hpY2ggZGVmaW5lcyBhIHN1Y2Nlc3MgY2FsbGJhY2sgd2hpY2gKICogaXMgY2FsbGVkIHdpdGggdGhlIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgaHR0cCByZXF1ZXN0IHRvIENvdWNoREIsIHlvdSBjYW4KICogZmluZCB0aGUgb3RoZXIgc2V0dGluZ3MgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgPGNvZGU+b3B0aW9uczwvY29kZT4gb2JqZWN0CiAqIGZyb20gPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+CiAqIGpRdWVyeS5hamF4IHNldHRpbmdzPC9hPgogKiA8cHJlPjxjb2RlPiQuY291Y2guYWN0aXZlVGFza3MoewogKiAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7CiAqICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICogICB9CiAqIH0pOzwvY29kZT48L3ByZT4KICogT3V0cHV0cyAoZm9yIGV4YW1wbGUpOgogKiA8cHJlPjxjb2RlPlsKICogIHsKICogICAicGlkIiA6ICI8MC4xMTU5OS4wPiIsCiAqICAgInN0YXR1cyIgOiAiQ29waWVkIDAgb2YgMTgzNjkgY2hhbmdlcyAoMCUpIiwKICogICAidGFzayIgOiAicmVjaXBlcyIsCiAqICAgInR5cGUiIDogIkRhdGFiYXNlIENvbXBhY3Rpb24iCiAqICB9CiAqXTwvY29kZT48L3ByZT4KICovCihmdW5jdGlvbigkKSB7CgogICQuY291Y2ggPSAkLmNvdWNoIHx8IHt9OwogIC8qKiBAbGVuZHMgJC5jb3VjaCAqLwoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwogIGZ1bmN0aW9uIGVuY29kZURvY0lkKGRvY0lEKSB7CiAgICB2YXIgcGFydHMgPSBkb2NJRC5zcGxpdCgiLyIpOwogICAgaWYgKHBhcnRzWzBdID09ICJfZGVzaWduIikgewogICAgICBwYXJ0cy5zaGlmdCgpOwogICAgICByZXR1cm4gIl9kZXNpZ24vIiArIGVuY29kZVVSSUNvbXBvbmVudChwYXJ0cy5qb2luKCcvJykpOwogICAgfQogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChkb2NJRCk7CiAgfQoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwoKICB2YXIgdXVpZENhY2hlID0gW107CgogICQuZXh0ZW5kKCQuY291Y2gsIHsKICAgIHVybFByZWZpeDogJycsCgogICAgLyoqCiAgICAgKiBZb3UgY2FuIG9idGFpbiBhIGxpc3Qgb2YgYWN0aXZlIHRhc2tzIGJ5IHVzaW5nIHRoZSAvX2FjdGl2ZV90YXNrcyBVUkwuCiAgICAgKiBUaGUgcmVzdWx0IGlzIGEgSlNPTiBhcnJheSBvZiB0aGUgY3VycmVudGx5IHJ1bm5pbmcgdGFza3MsIHdpdGggZWFjaCB0YXNrCiAgICAgKiBiZWluZyBkZXNjcmliZWQgd2l0aCBhIHNpbmdsZSBvYmplY3QuCiAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvdXBsb2Fkcy8KICAgICAqIGFsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktbWlzYy5odG1sI2NvdWNoYmFzZS1hcGktbWlzY19hY3RpdmUtdGFzawogICAgICogc19nZXQiPmRvY3MgZm9yIC9fYWN0aXZlX3Rhc2tzPC9hPgogICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4CiAgICAgKiAvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqLwogICAgYWN0aXZlVGFza3M6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgcmV0dXJuIGFqYXgoCiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyAiL19hY3RpdmVfdGFza3MifSwKICAgICAgICBvcHRpb25zLAogICAgICAgICJBY3RpdmUgdGFzayBzdGF0dXMgY291bGQgbm90IGJlIHJldHJpZXZlZCIKICAgICAgKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhbGwgdGhlIGRhdGFiYXNlcyBpbiB0aGUgQ291Y2hEQiBpbnN0YW5jZQogICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbG9hZHMvCiAgICAgKiBhbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLW1pc2MuaHRtbCNjb3VjaGJhc2UtYXBpLW1pc2NfYWN0aXZlLXRhc2sKICAgICAqIHNfZ2V0Ij5kb2NzIGZvciAvX2FsbF9kYnM8L2E+CiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgKICAgICAqIC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICovCiAgICBhbGxEYnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgcmV0dXJuIGFqYXgoCiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyAiL19hbGxfZGJzIn0sCiAgICAgICAgb3B0aW9ucywKICAgICAgICAiQW4gZXJyb3Igb2NjdXJyZWQgcmV0cmlldmluZyB0aGUgbGlzdCBvZiBhbGwgZGF0YWJhc2VzIgogICAgICApOwogICAgfSwKCiAgICAvKioKICAgICAqIFZpZXcgYW5kIGVkaXQgdGhlIENvdWNoREIgY29uZmlndXJhdGlvbiwgY2FsbGVkIHdpdGgganVzdCB0aGUgb3B0aW9ucwogICAgICogcGFyYW1ldGVyIHRoZSBlbnRpcmUgY29uZmlnIGlzIHJldHVybmVkLCB5b3UgY2FuIGJlIG1vcmUgc3BlY2lmaWMgYnkKICAgICAqIHBhc3NpbmcgdGhlIHNlY3Rpb24gYW5kIG9wdGlvbiBwYXJhbWV0ZXJzLCBpZiB5b3Ugc3BlY2lmeSBhIHZhbHVlIHRoYXQKICAgICAqIHZhbHVlIHdpbGwgYmUgc3RvcmVkIGluIHRoZSBjb25maWd1cmF0aW9uLgogICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbG9hZHMvCiAgICAgKiBhbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWNvbmZpZy5odG1sI2NvdWNoYmFzZS1hcGktY29uZmlnX2NvbmZpZwogICAgICogLXNlY3Rpb24ta2V5X3B1dCI+ZG9jcyBmb3IgL19jb25maWc8L2E+CiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucwogICAgICogPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+CiAgICAgKiBqUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VjdGlvbl0gdGhlIHNlY3Rpb24gb2YgdGhlIGNvbmZpZwogICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25dIHRoZSBwYXJ0aWN1bGFyIGNvbmZpZyBvcHRpb24KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbdmFsdWVdIHZhbHVlIHRvIGJlIHNldAogICAgICovCiAgICBjb25maWc6IGZ1bmN0aW9uKG9wdGlvbnMsIHNlY3Rpb24sIG9wdGlvbiwgdmFsdWUpIHsKICAgICAgdmFyIHJlcSA9IHt1cmw6IHRoaXMudXJsUHJlZml4ICsgIi9fY29uZmlnLyJ9OwogICAgICBpZiAoc2VjdGlvbikgewogICAgICAgIHJlcS51cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHNlY3Rpb24pICsgIi8iOwogICAgICAgIGlmIChvcHRpb24pIHsKICAgICAgICAgIHJlcS51cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KG9wdGlvbik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICAgIHJlcS50eXBlID0gIkRFTEVURSI7ICAgICAgICAKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmVxLnR5cGUgPSAiUFVUIjsKICAgICAgICByZXEuZGF0YSA9IHRvSlNPTih2YWx1ZSk7CiAgICAgICAgcmVxLmNvbnRlbnRUeXBlID0gImFwcGxpY2F0aW9uL2pzb24iOwogICAgICAgIHJlcS5wcm9jZXNzRGF0YSA9IGZhbHNlCiAgICAgIH0KCiAgICAgIGFqYXgocmVxLCBvcHRpb25zLAogICAgICAgICJBbiBlcnJvciBvY2N1cnJlZCByZXRyaWV2aW5nL3VwZGF0aW5nIHRoZSBzZXJ2ZXIgY29uZmlndXJhdGlvbiIKICAgICAgKTsKICAgIH0sCiAgICAKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgc2Vzc2lvbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlci4KICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zCiAgICAgKiA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj4KICAgICAqIGpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICovCiAgICBzZXNzaW9uOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICByZXR1cm4gJC5hamF4KHsKICAgICAgICB0eXBlOiAiR0VUIiwgdXJsOiB0aGlzLnVybFByZWZpeCArICIvX3Nlc3Npb24iLAogICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikgewogICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgICB9LAogICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHsKICAgICAgICAgIHZhciByZXNwID0gJC5wYXJzZUpTT04ocmVxLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIkFuIGVycm9yIG9jY3VycmVkIGdldHRpbmcgc2Vzc2lvbiBpbmZvOiAiICsgcmVzcC5yZWFzb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQHByaXZhdGUKICAgICAqLwogICAgdXNlckRiIDogZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgICAgcmV0dXJuICQuY291Y2guc2Vzc2lvbih7CiAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgIHZhciB1c2VyRGIgPSAkLmNvdWNoLmRiKHJlc3AuaW5mby5hdXRoZW50aWNhdGlvbl9kYik7CiAgICAgICAgICBjYWxsYmFjayh1c2VyRGIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQ3JlYXRlIGEgbmV3IHVzZXIgb24gdGhlIENvdWNoREIgc2VydmVyLCA8Y29kZT51c2VyX2RvYzwvY29kZT4gaXMgYW4KICAgICAqIG9iamVjdCB3aXRoIGEgPGNvZGU+bmFtZTwvY29kZT4gZmllbGQgYW5kIG90aGVyIGluZm9ybWF0aW9uIHlvdSB3YW50CiAgICAgKiB0byBzdG9yZSByZWxhdGluZyB0byB0aGF0IHVzZXIsIGZvciBleGFtcGxlCiAgICAgKiA8Y29kZT57Im5hbWUiOiAiZGFsZWhhcnZleSJ9PC9jb2RlPgogICAgICogQHBhcmFtIHtPYmplY3R9IHVzZXJfZG9jIFVzZXJzIGRldGFpbHMKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZCBVc2VycyBwYXNzd29yZAogICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMKICAgICAqIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPgogICAgICAqIGpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICovCiAgICBzaWdudXA6IGZ1bmN0aW9uKHVzZXJfZG9jLCBwYXNzd29yZCwgb3B0aW9ucykgeyAgICAgIAogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgLy8gcHJlcGFyZSB1c2VyIGRvYyBiYXNlZCBvbiBuYW1lIGFuZCBwYXNzd29yZAogICAgICB1c2VyX2RvYyA9IHRoaXMucHJlcGFyZVVzZXJEb2ModXNlcl9kb2MsIHBhc3N3b3JkKTsKICAgICAgcmV0dXJuICQuY291Y2gudXNlckRiKGZ1bmN0aW9uKGRiKSB7CiAgICAgICAgZGIuc2F2ZURvYyh1c2VyX2RvYywgb3B0aW9ucyk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIFBvcHVsYXRlcyBhIHVzZXIgZG9jIHdpdGggYSBuZXcgcGFzc3dvcmQuCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdXNlcl9kb2MgVXNlciBkZXRhaWxzCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmV3X3Bhc3N3b3JkIE5ldyBQYXNzd29yZAogICAgICovCiAgICBwcmVwYXJlVXNlckRvYzogZnVuY3Rpb24odXNlcl9kb2MsIG5ld19wYXNzd29yZCkgewogICAgICBpZiAodHlwZW9mIGhleF9zaGExID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgYWxlcnQoImNyZWF0aW5nIGEgdXNlciBkb2MgcmVxdWlyZXMgc2hhMS5qcyB0byBiZSBsb2FkZWQgaW4gdGhlIHBhZ2UiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIHVzZXJfcHJlZml4ID0gIm9yZy5jb3VjaGRiLnVzZXI6IjsKICAgICAgdXNlcl9kb2MuX2lkID0gdXNlcl9kb2MuX2lkIHx8IHVzZXJfcHJlZml4ICsgdXNlcl9kb2MubmFtZTsKICAgICAgaWYgKG5ld19wYXNzd29yZCkgewogICAgICAgIC8vIGhhbmRsZSB0aGUgcGFzc3dvcmQgY3J5cHRvCiAgICAgICAgdXNlcl9kb2Muc2FsdCA9ICQuY291Y2gubmV3VVVJRCgpOwogICAgICAgIHVzZXJfZG9jLnBhc3N3b3JkX3NoYSA9IGhleF9zaGExKG5ld19wYXNzd29yZCArIHVzZXJfZG9jLnNhbHQpOwogICAgICB9CiAgICAgIHVzZXJfZG9jLnR5cGUgPSAidXNlciI7CiAgICAgIGlmICghdXNlcl9kb2Mucm9sZXMpIHsKICAgICAgICB1c2VyX2RvYy5yb2xlcyA9IFtdOwogICAgICB9CiAgICAgIHJldHVybiB1c2VyX2RvYzsKICAgIH0sCgogICAgLyoqCiAgICAgKiBBdXRoZW50aWNhdGUgYWdhaW5zdCBDb3VjaERCLCB0aGUgPGNvZGU+b3B0aW9uczwvY29kZT4gcGFyYW1ldGVyIGlzCiAgICAgICpleHBlY3RlZCB0byBoYXZlIDxjb2RlPm5hbWU8L2NvZGU+IGFuZCA8Y29kZT5wYXNzd29yZDwvY29kZT4gZmllbGRzLgogICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMKICAgICAqIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPgogICAgICogalF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgKi8KICAgIGxvZ2luOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICByZXR1cm4gJC5hamF4KHsKICAgICAgICB0eXBlOiAiUE9TVCIsIHVybDogdGhpcy51cmxQcmVmaXggKyAiL19zZXNzaW9uIiwgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICBkYXRhOiB7bmFtZTogb3B0aW9ucy5uYW1lLCBwYXNzd29yZDogb3B0aW9ucy5wYXNzd29yZH0sCiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKSB7CiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpOwogICAgICAgIH0sCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTsKICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSBvcHRpb25zLnN1Y2Nlc3MocmVzcCk7CiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHsKICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydCgiQW4gZXJyb3Igb2NjdXJyZWQgbG9nZ2luZyBpbjogIiArIHJlc3AucmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCgogICAgLyoqCiAgICAgKiBEZWxldGUgeW91ciBjdXJyZW50IENvdWNoREIgdXNlciBzZXNzaW9uCiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucwogICAgICogPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+CiAgICAgKiBqUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqLwogICAgbG9nb3V0OiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICByZXR1cm4gJC5hamF4KHsKICAgICAgICB0eXBlOiAiREVMRVRFIiwgdXJsOiB0aGlzLnVybFByZWZpeCArICIvX3Nlc3Npb24iLCBkYXRhVHlwZTogImpzb24iLAogICAgICAgIHVzZXJuYW1lIDogIl8iLCBwYXNzd29yZCA6ICJfIiwKICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHsKICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7CiAgICAgICAgfSwKICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7CiAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpOwogICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikgewogICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCJBbiBlcnJvciBvY2N1cnJlZCBsb2dnaW5nIG91dDogIiArIHJlc3AucmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIEBuYW1lc3BhY2UKICAgICAqICQuY291Y2guZGIgaXMgdXNlZCB0byBjb21tdW5pY2F0ZSB3aXRoIGEgc3BlY2lmaWMgQ291Y2hEQiBkYXRhYmFzZQogICAgICogPHByZT48Y29kZT52YXIgJGRiID0gJC5jb3VjaC5kYigibXlkYXRhYmFzZSIpOwogICAgICokZGIuYWxsQXBwcyh7CiAgICAgKiAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAqICAgIC4uLiBwcm9jZXNzIGRhdGEgLi4uCiAgICAgKiAgfQogICAgICp9KTsKICAgICAqIDwvY29kZT48L3ByZT4KICAgICAqLwogICAgZGI6IGZ1bmN0aW9uKG5hbWUsIGRiX29wdHMpIHsKICAgICAgZGJfb3B0cyA9IGRiX29wdHMgfHwge307CiAgICAgIHZhciByYXdEb2NzID0ge307CiAgICAgIGZ1bmN0aW9uIG1heWJlQXBwbHlWZXJzaW9uKGRvYykgewogICAgICAgIGlmIChkb2MuX2lkICYmIGRvYy5fcmV2ICYmIHJhd0RvY3NbZG9jLl9pZF0gJiYKICAgICAgICAgICAgcmF3RG9jc1tkb2MuX2lkXS5yZXYgPT0gZG9jLl9yZXYpIHsKICAgICAgICAgIC8vIHRvZG86IGNhbiB3ZSB1c2UgY29tbW9uanMgcmVxdWlyZSBoZXJlPwogICAgICAgICAgaWYgKHR5cGVvZiBCYXNlNjQgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgYWxlcnQoInBsZWFzZSBpbmNsdWRlIC9fdXRpbHMvc2NyaXB0L2Jhc2U2NC5qcyBpbiB0aGUgcGFnZSBmb3IgIiArCiAgICAgICAgICAgICAgICAgICJiYXNlNjQgc3VwcG9ydCIpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyB8fCB7fTsKICAgICAgICAgICAgZG9jLl9hdHRhY2htZW50c1sicmV2LSIrZG9jLl9yZXYuc3BsaXQoIi0iKVswXV0gPSB7CiAgICAgICAgICAgICAgY29udGVudF90eXBlIDoiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgZGF0YSA6IEJhc2U2NC5lbmNvZGUocmF3RG9jc1tkb2MuX2lkXS5yYXcpCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIC8qKiBAbGVuZHMgJC5jb3VjaC5kYiAqL3sKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIHVyaTogdGhpcy51cmxQcmVmaXggKyAiLyIgKyBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAiLyIsCgogICAgICAgIC8qKgogICAgICAgICAqIFJlcXVlc3QgY29tcGFjdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLgogICAgICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiXwogICAgICAgICAqIGRiLWNvbXBhY3RfcG9zdCI+ZG9jcyBmb3IgL2RiL19jb21wYWN0PC9hPgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zCiAgICAgICAgICogPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+CiAgICAgICAgICogalF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgY29tcGFjdDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMn0pOwogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwgdXJsOiB0aGlzLnVyaSArICJfY29tcGFjdCIsCiAgICAgICAgICAgICAgZGF0YTogIiIsIHByb2Nlc3NEYXRhOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjb21wYWN0ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENsZWFucyB1cCB0aGUgY2FjaGVkIHZpZXcgb3V0cHV0IG9uIGRpc2sgZm9yIGEgZ2l2ZW4gdmlldy4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYgogICAgICAgICAqIF9kYi12aWV3LWNsZWFudXBfcG9zdCI+ZG9jcyBmb3IgL2RiL19jb21wYWN0PC9hPgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIHZpZXdDbGVhbnVwOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAyfSk7CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLCB1cmw6IHRoaXMudXJpICsgIl92aWV3X2NsZWFudXAiLAogICAgICAgICAgICAgIGRhdGE6ICIiLCBwcm9jZXNzRGF0YTogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSB2aWV3cyBjb3VsZCBub3QgYmUgY2xlYW5lZCB1cCIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ29tcGFjdHMgdGhlIHZpZXcgaW5kZXhlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBkZXNpZ24KICAgICAgICAgKiBkb2N1bWVudC4gWW91IGNhbiB1c2UgdGhpcyBpbiBwbGFjZSBvZiB0aGUgZnVsbCBkYXRhYmFzZSBjb21wYWN0aW9uCiAgICAgICAgICogaWYgeW91IGtub3cgYSBzcGVjaWZpYyBzZXQgb2YgdmlldyBpbmRleGVzIGhhdmUgYmVlbiBhZmZlY3RlZCBieSBhCiAgICAgICAgICogcmVjZW50IGRhdGFiYXNlIGNoYW5nZS4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvdXBsCiAgICAgICAgICogb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl9kYi0KICAgICAgICAgKiBjb21wYWN0LWRlc2lnbi1kb2NfcG9zdCI+ZG9jcyBmb3IgL2RiL19jb21wYWN0L2Rlc2lnbi1kb2M8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGdyb3VwbmFtZSBOYW1lIG9mIGRlc2lnbi1kb2MgdG8gY29tcGFjdAogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGNvbXBhY3RWaWV3OiBmdW5jdGlvbihncm91cG5hbWUsIG9wdGlvbnMpIHsKICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDJ9KTsKICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsIHVybDogdGhpcy51cmkgKyAiX2NvbXBhY3QvIiArIGdyb3VwbmFtZSwKICAgICAgICAgICAgICBkYXRhOiAiIiwgcHJvY2Vzc0RhdGE6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgdmlldyBjb3VsZCBub3QgYmUgY29tcGFjdGVkIgogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGUgYSBuZXcgZGF0YWJhc2UKICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl8KICAgICAgICAgKiBkYl9wdXQiPmRvY3MgZm9yIFBVVCAvZGIvPC9hPgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGNyZWF0ZTogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMX0pOwogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJQVVQiLCB1cmw6IHRoaXMudXJpLCBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgIGRhdGE6ICIiLCBwcm9jZXNzRGF0YTogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY3JlYXRlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRGVsZXRlcyB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLCBhbmQgYWxsIHRoZSBkb2N1bWVudHMgYW5kCiAgICAgICAgICogYXR0YWNobWVudHMgY29udGFpbmVkIHdpdGhpbiBpdC4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl8KICAgICAgICAgKiBkYl9kZWxldGUiPmRvY3MgZm9yIERFTEVURSAvZGIvPC9hPgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGRyb3A6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgIHJldHVybiBhamF4KAogICAgICAgICAgICB7dHlwZTogIkRFTEVURSIsIHVybDogdGhpcy51cml9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBkZWxldGVkIgogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGIKICAgICAgICAgKiBfZGJfZ2V0Ij5kb2NzIGZvciBHRVQgL2RiLzwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBpbmZvOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICByZXR1cm4gYWpheCgKICAgICAgICAgICAge3VybDogdGhpcy51cml9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiRGF0YWJhc2UgaW5mb3JtYXRpb24gY291bGQgbm90IGJlIHJldHJpZXZlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQG5hbWVzcGFjZQogICAgICAgICAqICQuY291Y2guZGIuY2hhbmdlcyBwcm92aWRlcyBhbiBBUEkgZm9yIHN1YnNjcmliaW5nIHRvIHRoZSBjaGFuZ2VzCiAgICAgICAgICogZmVlZAogICAgICAgICAqIDxwcmU+PGNvZGU+dmFyICRjaGFuZ2VzID0gJC5jb3VjaC5kYigibXlkYXRhYmFzZSIpLmNoYW5nZXMoKTsKICAgICAgICAgKiRjaGFuZ2VzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgKiAgICAuLi4gcHJvY2VzcyBkYXRhIC4uLgogICAgICAgICAqIH0KICAgICAgICAgKiAkY2hhbmdlcy5zdG9wKCk7CiAgICAgICAgICogPC9jb2RlPjwvcHJlPgogICAgICAgICAqLwogICAgICAgIGNoYW5nZXM6IGZ1bmN0aW9uKHNpbmNlLCBvcHRpb25zKSB7CgogICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgICAvLyBzZXQgdXAgdGhlIHByb21pc2Ugb2JqZWN0IHdpdGhpbiBhIGNsb3N1cmUgZm9yIHRoaXMgaGFuZGxlcgogICAgICAgICAgdmFyIHRpbWVvdXQgPSAxMDAsIGRiID0gdGhpcywgYWN0aXZlID0gdHJ1ZSwKICAgICAgICAgICAgbGlzdGVuZXJzID0gW10sCiAgICAgICAgICAgIHByb21pc2UgPSAvKiogQGxlbmRzICQuY291Y2guZGIuY2hhbmdlcyAqLyB7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogQWRkIGEgbGlzdGVuZXIgY2FsbGJhY2sKICAgICAgICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvCiAgICAgICAgICAgICAgICogZmlsZXMvdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2gKICAgICAgICAgICAgICAgKiBiYXNlLWFwaS1kYl9kYi1jaGFuZ2VzX2dldCI+ZG9jcyBmb3IgL2RiL19jaGFuZ2VzPC9hPgogICAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1biBDYWxsYmFjayBmdW5jdGlvbiB0byBydW4gd2hlbgogICAgICAgICAgICAgICAqIG5vdGlmaWVkIG9mIGNoYW5nZXMuCiAgICAgICAgICAgICAgICovCiAgICAgICAgICAgIG9uQ2hhbmdlIDogZnVuY3Rpb24oZnVuKSB7CiAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goZnVuKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgKiBTdG9wIHN1YnNjcmliaW5nIHRvIHRoZSBjaGFuZ2VzIGZlZWQKICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgc3RvcCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgLy8gY2FsbCBlYWNoIGxpc3RlbmVyIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UKICAgICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJMaXN0ZW5lcnMocmVzcCkgewogICAgICAgICAgICAkLmVhY2gobGlzdGVuZXJzLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB0aGlzKHJlc3ApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CiAgICAgICAgICAvLyB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlLCBjYWxsIGFueSBsaXN0ZW5lcnMsIHRoZW4gY2hlY2sgZm9yCiAgICAgICAgICAvLyBhbm90aGVyIGNoYW5nZQogICAgICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcCkgewogICAgICAgICAgICB0aW1lb3V0ID0gMTAwOwogICAgICAgICAgICBpZiAoYWN0aXZlKSB7CiAgICAgICAgICAgICAgc2luY2UgPSByZXNwLmxhc3Rfc2VxOwogICAgICAgICAgICAgIHRyaWdnZXJMaXN0ZW5lcnMocmVzcCk7CiAgICAgICAgICAgICAgZ2V0Q2hhbmdlc1NpbmNlKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9OwogICAgICAgICAgb3B0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoYWN0aXZlKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dChnZXRDaGFuZ2VzU2luY2UsIHRpbWVvdXQpOwogICAgICAgICAgICAgIHRpbWVvdXQgPSB0aW1lb3V0ICogMjsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIC8vIGFjdHVhbGx5IG1ha2UgdGhlIGNoYW5nZXMgcmVxdWVzdAogICAgICAgICAgZnVuY3Rpb24gZ2V0Q2hhbmdlc1NpbmNlKCkgewogICAgICAgICAgICB2YXIgb3B0cyA9ICQuZXh0ZW5kKHtoZWFydGJlYXQgOiAxMCAqIDEwMDB9LCBvcHRpb25zLCB7CiAgICAgICAgICAgICAgZmVlZCA6ICJsb25ncG9sbCIsCiAgICAgICAgICAgICAgc2luY2UgOiBzaW5jZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYWpheCgKICAgICAgICAgICAgICB7dXJsOiBkYi51cmkgKyAiX2NoYW5nZXMiK2VuY29kZU9wdGlvbnMob3B0cyl9LAogICAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICAgIkVycm9yIGNvbm5lY3RpbmcgdG8gIitkYi51cmkrIi9fY2hhbmdlcy4iCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBzdGFydCB0aGUgZmlyc3QgcmVxdWVzdAogICAgICAgICAgaWYgKHNpbmNlKSB7CiAgICAgICAgICAgIGdldENoYW5nZXNTaW5jZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGIuaW5mbyh7CiAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGluZm8pIHsKICAgICAgICAgICAgICAgIHNpbmNlID0gaW5mby51cGRhdGVfc2VxOwogICAgICAgICAgICAgICAgZ2V0Q2hhbmdlc1NpbmNlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwcm9taXNlOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEZldGNoIGFsbCB0aGUgZG9jcyBpbiB0aGlzIGRiLCB5b3UgY2FuIHNwZWNpZnkgYW4gYXJyYXkgb2Yga2V5cyB0bwogICAgICAgICAqIGZldGNoIGJ5IHBhc3NpbmcgdGhlIDxjb2RlPmtleXM8L2NvZGU+IGZpZWxkIGluIHRoZQogICAgICAgICAqIDxjb2RlPm9wdGlvbnM8L2NvZGU+CiAgICAgICAgICogcGFyYW1ldGVyLgogICAgICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiXwogICAgICAgICAqIGRiLWFsbC1kb2NzX2dldCI+ZG9jcyBmb3IgL2RiL2FsbF9kb2NzLzwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBhbGxEb2NzOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICB2YXIgdHlwZSA9ICJHRVQiOwogICAgICAgICAgdmFyIGRhdGEgPSBudWxsOwogICAgICAgICAgaWYgKG9wdGlvbnNbImtleXMiXSkgewogICAgICAgICAgICB0eXBlID0gIlBPU1QiOwogICAgICAgICAgICB2YXIga2V5cyA9IG9wdGlvbnNbImtleXMiXTsKICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbImtleXMiXTsKICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7ICJrZXlzIjoga2V5cyB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArICJfYWxsX2RvY3MiICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiQW4gZXJyb3Igb2NjdXJyZWQgcmV0cmlldmluZyBhIGxpc3Qgb2YgYWxsIGRvY3VtZW50cyIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRmV0Y2ggYWxsIHRoZSBkZXNpZ24gZG9jcyBpbiB0aGlzIGRiCiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgYWxsRGVzaWduRG9jczogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgcmV0dXJuIHRoaXMuYWxsRG9jcygkLmV4dGVuZCgKICAgICAgICAgICAge3N0YXJ0a2V5OiJfZGVzaWduIiwgZW5ka2V5OiJfZGVzaWduMCJ9LCBvcHRpb25zKSk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRmV0Y2ggYWxsIHRoZSBkZXNpZ24gZG9jcyB3aXRoIGFuIGluZGV4Lmh0bWwsIDxjb2RlPm9wdGlvbnM8L2NvZGU+CiAgICAgICAgICogcGFyYW1ldGVyIGV4cGVjdHMgYW4gPGNvZGU+ZWFjaEFwcDwvY29kZT4gZmllbGQgd2hpY2ggaXMgYSBjYWxsYmFjawogICAgICAgICAqIGNhbGxlZCBvbiBlYWNoIGFwcCBmb3VuZC4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBhbGxBcHBzOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICAgIGlmIChvcHRpb25zLmVhY2hBcHApIHsKICAgICAgICAgICAgdGhpcy5hbGxEZXNpZ25Eb2NzKHsKICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwKSB7CiAgICAgICAgICAgICAgICAkLmVhY2gocmVzcC5yb3dzLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgc2VsZi5vcGVuRG9jKHRoaXMuaWQsIHsKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXgsIGFwcFBhdGgsIGFwcE5hbWUgPSBkZG9jLl9pZC5zcGxpdCgnLycpOwogICAgICAgICAgICAgICAgICAgICAgYXBwTmFtZS5zaGlmdCgpOwogICAgICAgICAgICAgICAgICAgICAgYXBwTmFtZSA9IGFwcE5hbWUuam9pbignLycpOwogICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBkZG9jLmNvdWNoYXBwICYmIGRkb2MuY291Y2hhcHAuaW5kZXg7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwUGF0aCA9IFsnJywgbmFtZSwgZGRvYy5faWQsIGluZGV4XS5qb2luKCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRkb2MuX2F0dGFjaG1lbnRzICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkb2MuX2F0dGFjaG1lbnRzWyJpbmRleC5odG1sIl0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwUGF0aCA9IFsnJywgbmFtZSwgZGRvYy5faWQsICJpbmRleC5odG1sIl0uam9pbignLycpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcFBhdGgpIG9wdGlvbnMuZWFjaEFwcChhcHBOYW1lLCBhcHBQYXRoLCBkZG9jKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCJQbGVhc2UgcHJvdmlkZSBhbiBlYWNoQXBwIGZ1bmN0aW9uIGZvciBhbGxBcHBzKCkiKTsKICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm5zIHRoZSBzcGVjaWZpZWQgZG9jIGZyb20gdGhlIHNwZWNpZmllZCBkYi4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiZG9jLmh0bWwjY291Y2hiYXNlLWFwaS0KICAgICAgICAgKiBkYmRvY19kYi1kb2NfZ2V0Ij5kb2NzIGZvciBHRVQgL2RiL2RvYzwvYT4KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZG9jSWQgaWQgb2YgZG9jdW1lbnQgdG8gZmV0Y2gKICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gYWpheE9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgb3BlbkRvYzogZnVuY3Rpb24oZG9jSWQsIG9wdGlvbnMsIGFqYXhPcHRpb25zKSB7CiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICAgIGlmIChkYl9vcHRzLmF0dGFjaFByZXZSZXYgfHwgb3B0aW9ucy5hdHRhY2hQcmV2UmV2KSB7CiAgICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHsKICAgICAgICAgICAgICBiZWZvcmVTdWNjZXNzIDogZnVuY3Rpb24ocmVxLCBkb2MpIHsKICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7CiAgICAgICAgICAgICAgICAgIHJldiA6IGRvYy5fcmV2LAogICAgICAgICAgICAgICAgICByYXcgOiByZXEucmVzcG9uc2VUZXh0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7CiAgICAgICAgICAgICAgYmVmb3JlU3VjY2VzcyA6IGZ1bmN0aW9uKHJlcSwgZG9jKSB7CiAgICAgICAgICAgICAgICBpZiAoZG9jWyJqcXVlcnkuY291Y2guYXR0YWNoUHJldlJldiJdKSB7CiAgICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgcmV2IDogZG9jLl9yZXYsCiAgICAgICAgICAgICAgICAgICAgcmF3IDogcmVxLnJlc3BvbnNlVGV4dAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gYWpheCh7dXJsOiB0aGlzLnVyaSArIGVuY29kZURvY0lkKGRvY0lkKSArIGVuY29kZU9wdGlvbnMob3B0aW9ucyl9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQiLAogICAgICAgICAgICBhamF4T3B0aW9ucwogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGUgYSBuZXcgZG9jdW1lbnQgaW4gdGhlIHNwZWNpZmllZCBkYXRhYmFzZSwgdXNpbmcgdGhlIHN1cHBsaWVkCiAgICAgICAgICogSlNPTiBkb2N1bWVudCBzdHJ1Y3R1cmUuIElmIHRoZSBKU09OIHN0cnVjdHVyZSBpbmNsdWRlcyB0aGUgX2lkCiAgICAgICAgICogZmllbGQsIHRoZW4gdGhlIGRvY3VtZW50IHdpbGwgYmUgY3JlYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgZG9jdW1lbnQKICAgICAgICAgKiBJRC4gSWYgdGhlIF9pZCBmaWVsZCBpcyBub3Qgc3BlY2lmaWVkLCBhIG5ldyB1bmlxdWUgSUQgd2lsbCBiZQogICAgICAgICAqIGdlbmVyYXRlZC4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiZG9jLmh0bWwjY291Y2hiYXNlLWFwaS0KICAgICAgICAgKiBkYmRvY19kYl9wb3N0Ij5kb2NzIGZvciBHRVQgL2RiL2RvYzwvYT4KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZG9jIGRvY3VtZW50IHRvIHNhdmUKICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBzYXZlRG9jOiBmdW5jdGlvbihkb2MsIG9wdGlvbnMpIHsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIGRiID0gdGhpczsKICAgICAgICAgIHZhciBiZWZvcmVTZW5kID0gZnVsbENvbW1pdChvcHRpb25zKTsKICAgICAgICAgIGlmIChkb2MuX2lkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdmFyIG1ldGhvZCA9ICJQT1NUIjsKICAgICAgICAgICAgdmFyIHVyaSA9IHRoaXMudXJpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIG1ldGhvZCA9ICJQVVQiOwogICAgICAgICAgICB2YXIgdXJpID0gdGhpcy51cmkgKyBlbmNvZGVEb2NJZChkb2MuX2lkKTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciB2ZXJzaW9uZWQgPSBtYXliZUFwcGx5VmVyc2lvbihkb2MpOwogICAgICAgICAgcmV0dXJuICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6IG1ldGhvZCwgdXJsOiB1cmkgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLAogICAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLCBkYXRhOiB0b0pTT04oZG9jKSwKICAgICAgICAgICAgYmVmb3JlU2VuZCA6IGJlZm9yZVNlbmQsCiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHsKICAgICAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09IDIwMCB8fCByZXEuc3RhdHVzID09IDIwMSB8fCByZXEuc3RhdHVzID09IDIwMikgewogICAgICAgICAgICAgICAgZG9jLl9pZCA9IHJlc3AuaWQ7CiAgICAgICAgICAgICAgICBkb2MuX3JldiA9IHJlc3AucmV2OwogICAgICAgICAgICAgICAgaWYgKHZlcnNpb25lZCkgewogICAgICAgICAgICAgICAgICBkYi5vcGVuRG9jKGRvYy5faWQsIHsKICAgICAgICAgICAgICAgICAgICBhdHRhY2hQcmV2UmV2IDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgICAgICAgICAgZG9jLl9hdHRhY2htZW50cyA9IGQuX2F0dGFjaG1lbnRzOwogICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSBvcHRpb25zLnN1Y2Nlc3MocmVzcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgc2F2ZWQ6ICIgKyByZXNwLnJlYXNvbik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBTYXZlIGEgbGlzdCBvZiBkb2N1bWVudHMKICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl8KICAgICAgICAgKiBkYi1idWxrLWRvY3NfcG9zdCI+ZG9jcyBmb3IgL2RiL19idWxrX2RvY3M8L2E+CiAgICAgICAgICogQHBhcmFtIHtPYmplY3RbXX0gZG9jcyBMaXN0IG9mIGRvY3VtZW50cyB0byBzYXZlCiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgYnVsa1NhdmU6IGZ1bmN0aW9uKGRvY3MsIG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBiZWZvcmVTZW5kID0gZnVsbENvbW1pdChvcHRpb25zKTsKICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDEsIGJlZm9yZVNlbmQgOiBiZWZvcmVTZW5kfSk7CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAiX2J1bGtfZG9jcyIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLAogICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsIGRhdGE6IHRvSlNPTihkb2NzKQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRvY3VtZW50cyBjb3VsZCBub3QgYmUgc2F2ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIERlbGV0ZXMgdGhlIHNwZWNpZmllZCBkb2N1bWVudCBmcm9tIHRoZSBkYXRhYmFzZS4gWW91IG11c3Qgc3VwcGx5CiAgICAgICAgICogdGhlIGN1cnJlbnQgKGxhdGVzdCkgcmV2aXNpb24gYW5kIDxjb2RlPmlkPC9jb2RlPiBvZiB0aGUgZG9jdW1lbnQKICAgICAgICAgKiB0byBkZWxldGUgZWcgPGNvZGU+cmVtb3ZlRG9jKHtfaWQ6Im15ZG9jIiwgX3JldjogIjEtMjM0NSJ9KTwvY29kZT4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiZG9jLmh0bWwjY291Y2hiYXNlLWFwaQogICAgICAgICAqIC1kYmRvY19kYi1kb2NfZGVsZXRlIj5kb2NzIGZvciBERUxFVEUgL2RiL2RvYzwvYT4KICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZG9jIERvY3VtZW50IHRvIGRlbGV0ZQogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIHJlbW92ZURvYzogZnVuY3Rpb24oZG9jLCBvcHRpb25zKSB7CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIkRFTEVURSIsCiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArCiAgICAgICAgICAgICAgICAgICBlbmNvZGVEb2NJZChkb2MuX2lkKSArCiAgICAgICAgICAgICAgICAgICBlbmNvZGVPcHRpb25zKHtyZXY6IGRvYy5fcmV2fSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgZGVsZXRlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUmVtb3ZlIGEgc2V0IG9mIGRvY3VtZW50cwogICAgICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiXwogICAgICAgICAqIGRiLWJ1bGstZG9jc19wb3N0Ij5kb2NzIGZvciAvZGIvX2J1bGtfZG9jczwvYT4KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBkb2NzIExpc3Qgb2YgZG9jdW1lbnQgaWQncyB0byByZW1vdmUKICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBidWxrUmVtb3ZlOiBmdW5jdGlvbihkb2NzLCBvcHRpb25zKXsKICAgICAgICAgIGRvY3MuZG9jcyA9ICQuZWFjaCgKICAgICAgICAgICAgZG9jcy5kb2NzLCBmdW5jdGlvbihpLCBkb2MpewogICAgICAgICAgICAgIGRvYy5fZGVsZXRlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICk7CiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAxfSk7CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAiX2J1bGtfZG9jcyIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLAogICAgICAgICAgICAgIGRhdGE6IHRvSlNPTihkb2NzKQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRvY3VtZW50cyBjb3VsZCBub3QgYmUgZGVsZXRlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogVGhlIENPUFkgY29tbWFuZCAod2hpY2ggaXMgbm9uLXN0YW5kYXJkIEhUVFApIGNvcGllcyBhbiBleGlzdGluZwogICAgICAgICAqIGRvY3VtZW50IHRvIGEgbmV3IG9yIGV4aXN0aW5nIGRvY3VtZW50LgogICAgICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGJkb2MuaHRtbCNjb3VjaGJhc2UtYXBpLQogICAgICAgICAqIGRiZG9jX2RiLWRvY19jb3B5Ij5kb2NzIGZvciBDT1BZIC9kYi9kb2M8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmdbXX0gZG9jSWQgZG9jdW1lbnQgaWQgdG8gY29weQogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGNvcHlEb2M6IGZ1bmN0aW9uKGRvY0lkLCBvcHRpb25zLCBhamF4T3B0aW9ucykgewogICAgICAgICAgYWpheE9wdGlvbnMgPSAkLmV4dGVuZChhamF4T3B0aW9ucywgewogICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7CiAgICAgICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDEpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHsKICAgICAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgiVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBjb3BpZWQ6ICIgKyByZXNwLnJlYXNvbik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiAiQ09QWSIsCiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArIGVuY29kZURvY0lkKGRvY0lkKQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBjb3BpZWQiLAogICAgICAgICAgICBhamF4T3B0aW9ucwogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGVzIChhbmQgZXhlY3V0ZXMpIGEgdGVtcG9yYXJ5IHZpZXcgYmFzZWQgb24gdGhlIHZpZXcgZnVuY3Rpb24KICAgICAgICAgKiBzdXBwbGllZCBpbiB0aGUgSlNPTiByZXF1ZXN0LgogICAgICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiCiAgICAgICAgICogX2RiLXRlbXAtdmlld19wb3N0Ij5kb2NzIGZvciAvZGIvX3RlbXBfdmlldzwvYT4KICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtYXBGdW4gTWFwIGZ1bmN0aW9uCiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlRnVuIFJlZHVjZSBmdW5jdGlvbgogICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxhbmd1YWdlIExhbmd1YWdlIHRoZSBtYXAgLyByZWR1Y2UgZnVucyBhcmUKICAgICAgICAgKiBpbXBsZW1lbnRlZCBpbgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIHF1ZXJ5OiBmdW5jdGlvbihtYXBGdW4sIHJlZHVjZUZ1biwgbGFuZ3VhZ2UsIG9wdGlvbnMpIHsKICAgICAgICAgIGxhbmd1YWdlID0gbGFuZ3VhZ2UgfHwgImphdmFzY3JpcHQiOwogICAgICAgICAgaWYgKHR5cGVvZihtYXBGdW4pICE9PSAic3RyaW5nIikgewogICAgICAgICAgICBtYXBGdW4gPSBtYXBGdW4udG9Tb3VyY2UgPyBtYXBGdW4udG9Tb3VyY2UoKQogICAgICAgICAgICAgIDogIigiICsgbWFwRnVuLnRvU3RyaW5nKCkgKyAiKSI7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYm9keSA9IHtsYW5ndWFnZTogbGFuZ3VhZ2UsIG1hcDogbWFwRnVufTsKICAgICAgICAgIGlmIChyZWR1Y2VGdW4gIT0gbnVsbCkgewogICAgICAgICAgICBpZiAodHlwZW9mKHJlZHVjZUZ1bikgIT09ICJzdHJpbmciKQogICAgICAgICAgICAgIHJlZHVjZUZ1biA9IHJlZHVjZUZ1bi50b1NvdXJjZSA/IHJlZHVjZUZ1bi50b1NvdXJjZSgpCiAgICAgICAgICAgICAgICA6ICIoIiArIHJlZHVjZUZ1bi50b1N0cmluZygpICsgIikiOwogICAgICAgICAgICBib2R5LnJlZHVjZSA9IHJlZHVjZUZ1bjsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArICJfdGVtcF92aWV3IiArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksCiAgICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwgZGF0YTogdG9KU09OKGJvZHkpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJBbiBlcnJvciBvY2N1cnJlZCBxdWVyeWluZyB0aGUgZGF0YWJhc2UiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEZldGNoIGEgX2xpc3QgdmlldyBvdXRwdXQsIHlvdSBjYW4gc3BlY2lmeSBhIGxpc3Qgb2YKICAgICAgICAgKiA8Y29kZT5rZXlzPC9jb2RlPiBpbiB0aGUgb3B0aW9ucyBvYmplY3QgdG8gcmVjaWV2ZSBvbmx5IHRob3NlIGtleXMuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kZXNpZ24uaHRtbCNjb3VjaGJhc2UtYXBpCiAgICAgICAgICogLWRlc2lnbl9kYi1kZXNpZ24tZGVzaWduZG9jLWxpc3QtbGlzdG5hbWUtdmlld25hbWVfZ2V0Ij4KICAgICAgICAgKiBkb2NzIGZvciAvZGIvX2Rlc2lnbi9kZXNpZ24tZG9jL19saXN0L2wxL3YxPC9hPgogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaXN0IExpc3RuYW1lIGluIHRoZSBmb3JtIG9mIGRkb2MvbGlzdG5hbWUKICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmlldyBWaWV3IHRvIHJ1biBsaXN0IGFnYWluc3QKICAgICAgICAgKiBAcGFyYW0ge29wdGlvbnN9IENvdWNoREIgPGEgaHJlZj0iaHR0cDovL3dpa2kuYXBhY2hlLm9yZy9jb3VjaGRiLwogICAgICAgICAqIEhUVFBfdmlld19BUEkiPlZpZXcgT3B0aW9uczwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBsaXN0OiBmdW5jdGlvbihsaXN0LCB2aWV3LCBvcHRpb25zLCBhamF4T3B0aW9ucykgewogICAgICAgICAgdmFyIGxpc3QgPSBsaXN0LnNwbGl0KCcvJyk7CiAgICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgICB2YXIgdHlwZSA9ICdHRVQnOwogICAgICAgICAgdmFyIGRhdGEgPSBudWxsOwogICAgICAgICAgaWYgKG9wdGlvbnNbJ2tleXMnXSkgewogICAgICAgICAgICB0eXBlID0gJ1BPU1QnOwogICAgICAgICAgICB2YXIga2V5cyA9IG9wdGlvbnNbJ2tleXMnXTsKICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbJ2tleXMnXTsKICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7J2tleXMnOiBrZXlzIH0pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgJ19kZXNpZ24vJyArIGxpc3RbMF0gKwogICAgICAgICAgICAgICAgICAgJy9fbGlzdC8nICsgbGlzdFsxXSArICcvJyArIHZpZXcgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhamF4T3B0aW9ucywgJ0FuIGVycm9yIG9jY3VyZWQgYWNjZXNzaW5nIHRoZSBsaXN0JwogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBFeGVjdXRlcyB0aGUgc3BlY2lmaWVkIHZpZXctbmFtZSBmcm9tIHRoZSBzcGVjaWZpZWQgZGVzaWduLWRvYwogICAgICAgICAqIGRlc2lnbiBkb2N1bWVudCwgeW91IGNhbiBzcGVjaWZ5IGEgbGlzdCBvZiA8Y29kZT5rZXlzPC9jb2RlPgogICAgICAgICAqIGluIHRoZSBvcHRpb25zIG9iamVjdCB0byByZWNpZXZlIG9ubHkgdGhvc2Uga2V5cy4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRlc2lnbi5odG1sI2NvdWNoYmFzZS1hcGktCiAgICAgICAgICogZGVzaWduX2RiLWRlc2lnbi1kZXNpZ25kb2Mtdmlldy12aWV3bmFtZV9nZXQiPmRvY3MgZm9yIC9kYi8KICAgICAgICAgKiBfZGVzaWduL2Rlc2lnbi1kb2MvX2xpc3QvbDEvdjE8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVmlldyB0byBydW4gbGlzdCBhZ2FpbnN0CiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgdmlldzogZnVuY3Rpb24obmFtZSwgb3B0aW9ucykgewogICAgICAgICAgdmFyIG5hbWUgPSBuYW1lLnNwbGl0KCcvJyk7CiAgICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgICB2YXIgdHlwZSA9ICJHRVQiOwogICAgICAgICAgdmFyIGRhdGE9IG51bGw7CiAgICAgICAgICBpZiAob3B0aW9uc1sia2V5cyJdKSB7CiAgICAgICAgICAgIHR5cGUgPSAiUE9TVCI7CiAgICAgICAgICAgIHZhciBrZXlzID0gb3B0aW9uc1sia2V5cyJdOwogICAgICAgICAgICBkZWxldGUgb3B0aW9uc1sia2V5cyJdOwogICAgICAgICAgICBkYXRhID0gdG9KU09OKHsgImtleXMiOiBrZXlzIH0pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgIl9kZXNpZ24vIiArIG5hbWVbMF0gKwogICAgICAgICAgICAgICAgICAgIi9fdmlldy8iICsgbmFtZVsxXSArIGVuY29kZU9wdGlvbnMob3B0aW9ucykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywgIkFuIGVycm9yIG9jY3VycmVkIGFjY2Vzc2luZyB0aGUgdmlldyIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRmV0Y2ggYW4gYXJiaXRyYXJ5IENvdWNoREIgZGF0YWJhc2UgcHJvcGVydHkKICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLmh0bWwiPmRvY3MgZm9yIC9kYi9fcHJvcDwvYT4KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcE5hbWUgUHJvcGVyeSBuYW1lIHRvIGZldGNoCiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IGFqYXhPcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGdldERiUHJvcGVydHk6IGZ1bmN0aW9uKHByb3BOYW1lLCBvcHRpb25zLCBhamF4T3B0aW9ucykgewogICAgICAgICAgcmV0dXJuIGFqYXgoe3VybDogdGhpcy51cmkgKyBwcm9wTmFtZSArIGVuY29kZU9wdGlvbnMob3B0aW9ucyl9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIHByb3BlcnR5IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQiLAogICAgICAgICAgICBhamF4T3B0aW9ucwogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBTZXQgYW4gYXJiaXRyYXJ5IENvdWNoREIgZGF0YWJhc2UgcHJvcGVydHkKICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLmh0bWwiPmRvY3MgZm9yIC9kYi9fcHJvcDwvYT4KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcE5hbWUgUHJvcGVyeSBuYW1lIHRvIGZldGNoCiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BWYWx1ZSBQcm9wZXJ5IHZhbHVlIHRvIHNldAogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBhamF4T3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBzZXREYlByb3BlcnR5OiBmdW5jdGlvbihwcm9wTmFtZSwgcHJvcFZhbHVlLCBvcHRpb25zLCBhamF4T3B0aW9ucykgewogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICB0eXBlOiAiUFVUIiwgCiAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBwcm9wTmFtZSArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksCiAgICAgICAgICAgIGRhdGEgOiBKU09OLnN0cmluZ2lmeShwcm9wVmFsdWUpCiAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIHByb3BlcnR5IGNvdWxkIG5vdCBiZSB1cGRhdGVkIiwKICAgICAgICAgICAgYWpheE9wdGlvbnMKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKCiAgICBlbmNvZGVEb2NJZDogZW5jb2RlRG9jSWQsIAoKICAgIC8qKgogICAgICogQWNjZXNzaW5nIHRoZSByb290IG9mIGEgQ291Y2hEQiBpbnN0YW5jZSByZXR1cm5zIG1ldGEgaW5mb3JtYXRpb24gYWJvdXQKICAgICAqIHRoZSBpbnN0YW5jZS4gVGhlIHJlc3BvbnNlIGlzIGEgSlNPTiBzdHJ1Y3R1cmUgY29udGFpbmluZyBpbmZvcm1hdGlvbgogICAgICogYWJvdXQgdGhlIHNlcnZlciwgaW5jbHVkaW5nIGEgd2VsY29tZSBtZXNzYWdlIGFuZCB0aGUgdmVyc2lvbiBvZiB0aGUKICAgICAqIHNlcnZlci4KICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy91cGxvYWRzLwogICAgICogYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1taXNjLmh0bWwjY291Y2hiYXNlLWFwaS1taXNjX3Jvb3RfZ2V0Ij4KICAgICAqIGRvY3MgZm9yIEdFVCAvPC9hPgogICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqLwogICAgaW5mbzogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICByZXR1cm4gYWpheCgKICAgICAgICB7dXJsOiB0aGlzLnVybFByZWZpeCArICIvIn0sCiAgICAgICAgb3B0aW9ucywKICAgICAgICAiU2VydmVyIGluZm9ybWF0aW9uIGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQiCiAgICAgICk7CiAgICB9LAoKICAgIC8qKgogICAgICogUmVxdWVzdCwgY29uZmlndXJlLCBvciBzdG9wLCBhIHJlcGxpY2F0aW9uIG9wZXJhdGlvbi4KICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1taXNjLmh0bWwjY291Y2hiYXNlLWFwaS0KICAgICAqIG1pc2NfcmVwbGljYXRlX3Bvc3QiPmRvY3MgZm9yIFBPU1QgL19yZXBsaWNhdGU8L2E+CiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc291cmNlIFBhdGggb3IgdXJsIHRvIHNvdXJjZSBkYXRhYmFzZQogICAgICogQHBhcmFtIHtTdHJpbmd9IHRhcmdldCBQYXRoIG9yIHVybCB0byB0YXJnZXQgZGF0YWJhc2UKICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBhamF4T3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICogQHBhcmFtIHtPYmplY3R9IHJlcE9wdHMgQWRkaXRpb25hbCByZXBsaWNhdGlvbiBvcHRpb25zCiAgICAgKi8KICAgIHJlcGxpY2F0ZTogZnVuY3Rpb24oc291cmNlLCB0YXJnZXQsIGFqYXhPcHRpb25zLCByZXBPcHRzKSB7CiAgICAgIHJlcE9wdHMgPSAkLmV4dGVuZCh7c291cmNlOiBzb3VyY2UsIHRhcmdldDogdGFyZ2V0fSwgcmVwT3B0cyk7CiAgICAgIGlmIChyZXBPcHRzLmNvbnRpbnVvdXMgJiYgIXJlcE9wdHMuY2FuY2VsKSB7CiAgICAgICAgYWpheE9wdGlvbnMuc3VjY2Vzc1N0YXR1cyA9IDIwMjsKICAgICAgfQogICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICB0eXBlOiAiUE9TVCIsIHVybDogdGhpcy51cmxQcmVmaXggKyAiL19yZXBsaWNhdGUiLAogICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocmVwT3B0cyksCiAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfSwKICAgICAgICBhamF4T3B0aW9ucywKICAgICAgICAiUmVwbGljYXRpb24gZmFpbGVkIgogICAgICApOwogICAgfSwKCiAgICAvKioKICAgICAqIEZldGNoIGEgbmV3IFVVSUQKICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1taXNjLmh0bWwjY291Y2hiYXNlLWFwaS0KICAgICAqIG1pc2NfdXVpZHNfZ2V0Ij5kb2NzIGZvciAvX3V1aWRzPC9hPgogICAgICogQHBhcmFtIHtJbnR9IGNhY2hlTnVtIE51bWJlciBvZiB1dWlkcyB0byBrZWVwIGNhY2hlZCBmb3IgZnV0dXJlIHVzZQogICAgICovCiAgICBuZXdVVUlEOiBmdW5jdGlvbihjYWNoZU51bSkgewogICAgICBpZiAoY2FjaGVOdW0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNhY2hlTnVtID0gMTsKICAgICAgfQogICAgICBpZiAoIXV1aWRDYWNoZS5sZW5ndGgpIHsKICAgICAgICBhamF4KHt1cmw6IHRoaXMudXJsUHJlZml4ICsgIi9fdXVpZHMiLCBkYXRhOiB7Y291bnQ6IGNhY2hlTnVtfSwgYXN5bmM6CiAgICAgICAgICAgICAgZmFsc2V9LCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgICAgICB1dWlkQ2FjaGUgPSByZXNwLnV1aWRzOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIkZhaWxlZCB0byByZXRyaWV2ZSBVVUlEIGJhdGNoLiIKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiB1dWlkQ2FjaGUuc2hpZnQoKTsKICAgIH0KICB9KTsKCiAgLyoqCiAgICogQHByaXZhdGUKICAgKi8KICBmdW5jdGlvbiBhamF4KG9iaiwgb3B0aW9ucywgZXJyb3JNZXNzYWdlLCBhamF4T3B0aW9ucykgewoKICAgIHZhciBkZWZhdWx0QWpheE9wdHMgPSB7CiAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgIGhlYWRlcnM6eyJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiJ9CiAgICB9OwoKICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7c3VjY2Vzc1N0YXR1czogMjAwfSwgb3B0aW9ucyk7CiAgICBhamF4T3B0aW9ucyA9ICQuZXh0ZW5kKGRlZmF1bHRBamF4T3B0cywgYWpheE9wdGlvbnMpOwogICAgZXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlIHx8ICJVbmtub3duIGVycm9yIjsKICAgIHJldHVybiAkLmFqYXgoJC5leHRlbmQoJC5leHRlbmQoewogICAgICB0eXBlOiAiR0VUIiwgZGF0YVR5cGU6ICJqc29uIiwgY2FjaGUgOiAhJC5icm93c2VyLm1zaWUsCiAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocil7CiAgICAgICAgaWYoYWpheE9wdGlvbnMgJiYgYWpheE9wdGlvbnMuaGVhZGVycyl7CiAgICAgICAgICBmb3IgKHZhciBoZWFkZXIgaW4gYWpheE9wdGlvbnMuaGVhZGVycyl7CiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgYWpheE9wdGlvbnMuaGVhZGVyc1toZWFkZXJdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTsKICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVxLCBlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSArICI6ICIgKyBlKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMuYWpheFN0YXJ0KSB7CiAgICAgICAgICBvcHRpb25zLmFqYXhTdGFydChyZXNwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gb3B0aW9ucy5zdWNjZXNzU3RhdHVzKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVTdWNjZXNzKSBvcHRpb25zLmJlZm9yZVN1Y2Nlc3MocmVxLCByZXNwKTsKICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHsKICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcCAmJiByZXNwLmVycm9yIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSwgcmVzcCAmJiByZXNwLnJlYXNvbiB8fCAibm8gcmVzcG9uc2UiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoZXJyb3JNZXNzYWdlICsgIjogIiArIHJlc3AucmVhc29uKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG9iaiksIGFqYXhPcHRpb25zKSk7CiAgfQoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwogIGZ1bmN0aW9uIGZ1bGxDb21taXQob3B0aW9ucykgewogICAgdmFyIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgaWYgKHR5cGVvZiBvcHRpb25zLmVuc3VyZV9mdWxsX2NvbW1pdCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgdmFyIGNvbW1pdCA9IG9wdGlvbnMuZW5zdXJlX2Z1bGxfY29tbWl0OwogICAgICBkZWxldGUgb3B0aW9ucy5lbnN1cmVfZnVsbF9jb21taXQ7CiAgICAgIHJldHVybiBmdW5jdGlvbih4aHIpIHsKICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcigiWC1Db3VjaC1GdWxsLUNvbW1pdCIsIGNvbW1pdC50b1N0cmluZygpKTsKICAgICAgfTsKICAgIH0KICB9OwoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwogIC8vIENvbnZlcnQgYSBvcHRpb25zIG9iamVjdCB0byBhbiB1cmwgcXVlcnkgc3RyaW5nLgogIC8vIGV4OiB7a2V5Oid2YWx1ZScsa2V5MjondmFsdWUyJ30gYmVjb21lcyAnP2tleT0idmFsdWUiJmtleTI9InZhbHVlMiInCiAgZnVuY3Rpb24gZW5jb2RlT3B0aW9ucyhvcHRpb25zKSB7CiAgICB2YXIgYnVmID0gW107CiAgICBpZiAodHlwZW9mKG9wdGlvbnMpID09PSAib2JqZWN0IiAmJiBvcHRpb25zICE9PSBudWxsKSB7CiAgICAgIGZvciAodmFyIG5hbWUgaW4gb3B0aW9ucykgewogICAgICAgIGlmICgkLmluQXJyYXkobmFtZSwKICAgICAgICAgICAgICAgICAgICAgIFsiZXJyb3IiLCAic3VjY2VzcyIsICJiZWZvcmVTdWNjZXNzIiwgImFqYXhTdGFydCJdKSA+PSAwKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uc1tuYW1lXTsKICAgICAgICBpZiAoJC5pbkFycmF5KG5hbWUsIFsia2V5IiwgInN0YXJ0a2V5IiwgImVuZGtleSJdKSA+PSAwKSB7CiAgICAgICAgICB2YWx1ZSA9IHRvSlNPTih2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGJ1Zi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gYnVmLmxlbmd0aCA/ICI/IiArIGJ1Zi5qb2luKCImIikgOiAiIjsKICB9CgogIC8qKgogICAqIEBwcml2YXRlCiAgICovCiAgZnVuY3Rpb24gdG9KU09OKG9iaikgewogICAgcmV0dXJuIG9iaiAhPT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KG9iaikgOiBudWxsOwogIH0KCn0pKGpRdWVyeSk7", "content_type": "application/javascript"}, "js/mustache.js": {"data": "LyoKICBtdXN0YWNoZS5qcyDigJQgTG9naWMtbGVzcyB0ZW1wbGF0ZXMgaW4gSmF2YVNjcmlwdAoKICBTZWUgaHR0cDovL211c3RhY2hlLmdpdGh1Yi5jb20vIGZvciBtb3JlIGluZm8uCiovCgp2YXIgTXVzdGFjaGUgPSBmdW5jdGlvbigpIHsKICB2YXIgUmVuZGVyZXIgPSBmdW5jdGlvbigpIHt9OwoKICBSZW5kZXJlci5wcm90b3R5cGUgPSB7CiAgICBvdGFnOiAie3siLAogICAgY3RhZzogIn19IiwKICAgIHByYWdtYXM6IHt9LAogICAgYnVmZmVyOiBbXSwKICAgIHByYWdtYXNfaW1wbGVtZW50ZWQ6IHsKICAgICAgIklNUExJQ0lULUlURVJBVE9SIjogdHJ1ZQogICAgfSwKICAgIGNvbnRleHQ6IHt9LAoKICAgIHJlbmRlcjogZnVuY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBpbl9yZWN1cnNpb24pIHsKICAgICAgLy8gcmVzZXQgYnVmZmVyICYgc2V0IGNvbnRleHQKICAgICAgaWYoIWluX3JlY3Vyc2lvbikgewogICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTsgLy8gVE9ETzogbWFrZSB0aGlzIG5vbi1sYXp5CiAgICAgIH0KCiAgICAgIC8vIGZhaWwgZmFzdAogICAgICBpZighdGhpcy5pbmNsdWRlcygiIiwgdGVtcGxhdGUpKSB7CiAgICAgICAgaWYoaW5fcmVjdXJzaW9uKSB7CiAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VuZCh0ZW1wbGF0ZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICB0ZW1wbGF0ZSA9IHRoaXMucmVuZGVyX3ByYWdtYXModGVtcGxhdGUpOwogICAgICB2YXIgaHRtbCA9IHRoaXMucmVuZGVyX3NlY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzKTsKICAgICAgaWYoaW5fcmVjdXJzaW9uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyX3RhZ3MoaHRtbCwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbik7CiAgICAgIH0KCiAgICAgIHRoaXMucmVuZGVyX3RhZ3MoaHRtbCwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbik7CiAgICB9LAoKICAgIC8qCiAgICAgIFNlbmRzIHBhcnNlZCBsaW5lcwogICAgKi8KICAgIHNlbmQ6IGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgaWYobGluZSAhPSAiIikgewogICAgICAgIHRoaXMuYnVmZmVyLnB1c2gobGluZSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoKICAgICAgTG9va3MgZm9yICVQUkFHTUFTCiAgICAqLwogICAgcmVuZGVyX3ByYWdtYXM6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7CiAgICAgIC8vIG5vIHByYWdtYXMKICAgICAgaWYoIXRoaXMuaW5jbHVkZXMoIiUiLCB0ZW1wbGF0ZSkpIHsKICAgICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICAgIH0KCiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCh0aGlzLm90YWcgKyAiJShbXFx3LV0rKSA/KFtcXHddKz1bXFx3XSspPyIgKwogICAgICAgICAgICB0aGlzLmN0YWcpOwogICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShyZWdleCwgZnVuY3Rpb24obWF0Y2gsIHByYWdtYSwgb3B0aW9ucykgewogICAgICAgIGlmKCF0aGF0LnByYWdtYXNfaW1wbGVtZW50ZWRbcHJhZ21hXSkgewogICAgICAgICAgdGhyb3coe21lc3NhZ2U6IAogICAgICAgICAgICAiVGhpcyBpbXBsZW1lbnRhdGlvbiBvZiBtdXN0YWNoZSBkb2Vzbid0IHVuZGVyc3RhbmQgdGhlICciICsKICAgICAgICAgICAgcHJhZ21hICsgIicgcHJhZ21hIn0pOwogICAgICAgIH0KICAgICAgICB0aGF0LnByYWdtYXNbcHJhZ21hXSA9IHt9OwogICAgICAgIGlmKG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBvcHRzID0gb3B0aW9ucy5zcGxpdCgiPSIpOwogICAgICAgICAgdGhhdC5wcmFnbWFzW3ByYWdtYV1bb3B0c1swXV0gPSBvcHRzWzFdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgLy8gaWdub3JlIHVua25vd24gcHJhZ21hcyBzaWxlbnRseQogICAgICB9KTsKICAgIH0sCgogICAgLyoKICAgICAgVHJpZXMgdG8gZmluZCBhIHBhcnRpYWwgaW4gdGhlIGN1cmVudCBzY29wZSBhbmQgcmVuZGVyIGl0CiAgICAqLwogICAgcmVuZGVyX3BhcnRpYWw6IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQsIHBhcnRpYWxzKSB7CiAgICAgIG5hbWUgPSB0aGlzLnRyaW0obmFtZSk7CiAgICAgIGlmKCFwYXJ0aWFscyB8fCBwYXJ0aWFsc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhyb3coe21lc3NhZ2U6ICJ1bmtub3duX3BhcnRpYWwgJyIgKyBuYW1lICsgIicifSk7CiAgICAgIH0KICAgICAgaWYodHlwZW9mKGNvbnRleHRbbmFtZV0pICE9ICJvYmplY3QiKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHBhcnRpYWxzW25hbWVdLCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHBhcnRpYWxzW25hbWVdLCBjb250ZXh0W25hbWVdLCBwYXJ0aWFscywgdHJ1ZSk7CiAgICB9LAoKICAgIC8qCiAgICAgIFJlbmRlcnMgaW52ZXJ0ZWQgKF4pIGFuZCBub3JtYWwgKCMpIHNlY3Rpb25zCiAgICAqLwogICAgcmVuZGVyX3NlY3Rpb246IGZ1bmN0aW9uKHRlbXBsYXRlLCBjb250ZXh0LCBwYXJ0aWFscykgewogICAgICBpZighdGhpcy5pbmNsdWRlcygiIyIsIHRlbXBsYXRlKSAmJiAhdGhpcy5pbmNsdWRlcygiXiIsIHRlbXBsYXRlKSkgewogICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgfQoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAvLyBDU1cgLSBBZGRlZCAiKz8iIHNvIGl0IGZpbmRzIHRoZSB0aWdoZXN0IGJvdW5kLCBub3QgdGhlIHdpZGVzdAogICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHRoaXMub3RhZyArICIoXFxefFxcIylcXHMqKC4rKVxccyoiICsgdGhpcy5jdGFnICsKICAgICAgICAgICAgICAiXG4qKFtcXHNcXFNdKz8pIiArIHRoaXMub3RhZyArICJcXC9cXHMqXFwyXFxzKiIgKyB0aGlzLmN0YWcgKwogICAgICAgICAgICAgICJcXHMqIiwgIm1nIik7CgogICAgICAvLyBmb3IgZWFjaCB7eyNmb299fXt7L2Zvb319IHNlY3Rpb24gZG8uLi4KICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UocmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCB0eXBlLCBuYW1lLCBjb250ZW50KSB7CiAgICAgICAgdmFyIHZhbHVlID0gdGhhdC5maW5kKG5hbWUsIGNvbnRleHQpOwogICAgICAgIGlmKHR5cGUgPT0gIl4iKSB7IC8vIGludmVydGVkIHNlY3Rpb24KICAgICAgICAgIGlmKCF2YWx1ZSB8fCB0aGF0LmlzX2FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgLy8gZmFsc2Ugb3IgZW1wdHkgbGlzdCwgcmVuZGVyIGl0CiAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmKHR5cGUgPT0gIiMiKSB7IC8vIG5vcm1hbCBzZWN0aW9uCiAgICAgICAgICBpZih0aGF0LmlzX2FycmF5KHZhbHVlKSkgeyAvLyBFbnVtZXJhYmxlLCBMZXQncyBsb29wIQogICAgICAgICAgICByZXR1cm4gdGhhdC5tYXAodmFsdWUsIGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCB0aGF0LmNyZWF0ZV9jb250ZXh0KHJvdyksCiAgICAgICAgICAgICAgICBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICAgIH0pLmpvaW4oIiIpOwogICAgICAgICAgfSBlbHNlIGlmKHRoYXQuaXNfb2JqZWN0KHZhbHVlKSkgeyAvLyBPYmplY3QsIFVzZSBpdCBhcyBzdWJjb250ZXh0IQogICAgICAgICAgICByZXR1cm4gdGhhdC5yZW5kZXIoY29udGVudCwgdGhhdC5jcmVhdGVfY29udGV4dCh2YWx1ZSksCiAgICAgICAgICAgICAgcGFydGlhbHMsIHRydWUpOwogICAgICAgICAgfSBlbHNlIGlmKHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAvLyBoaWdoZXIgb3JkZXIgc2VjdGlvbgogICAgICAgICAgICByZXR1cm4gdmFsdWUuY2FsbChjb250ZXh0LCBjb250ZW50LCBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucmVuZGVyKHRleHQsIGNvbnRleHQsIHBhcnRpYWxzLCB0cnVlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYodmFsdWUpIHsgLy8gYm9vbGVhbiBzZWN0aW9uCiAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoKICAgICAgUmVwbGFjZSB7e2Zvb319IGFuZCBmcmllbmRzIHdpdGggdmFsdWVzIGZyb20gb3VyIHZpZXcKICAgICovCiAgICByZW5kZXJfdGFnczogZnVuY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBpbl9yZWN1cnNpb24pIHsKICAgICAgLy8gdGl0IGZvciB0YXQKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgdmFyIG5ld19yZWdleCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHRoYXQub3RhZyArICIoPXwhfD58XFx7fCUpPyhbXlxcLyNcXF5dKz8pXFwxPyIgKwogICAgICAgICAgdGhhdC5jdGFnICsgIisiLCAiZyIpOwogICAgICB9OwoKICAgICAgdmFyIHJlZ2V4ID0gbmV3X3JlZ2V4KCk7CiAgICAgIHZhciB0YWdfcmVwbGFjZV9jYWxsYmFjayA9IGZ1bmN0aW9uKG1hdGNoLCBvcGVyYXRvciwgbmFtZSkgewogICAgICAgIHN3aXRjaChvcGVyYXRvcikgewogICAgICAgIGNhc2UgIiEiOiAvLyBpZ25vcmUgY29tbWVudHMKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICBjYXNlICI9IjogLy8gc2V0IG5ldyBkZWxpbWl0ZXJzLCByZWJ1aWxkIHRoZSByZXBsYWNlIHJlZ2V4cAogICAgICAgICAgdGhhdC5zZXRfZGVsaW1pdGVycyhuYW1lKTsKICAgICAgICAgIHJlZ2V4ID0gbmV3X3JlZ2V4KCk7CiAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgY2FzZSAiPiI6IC8vIHJlbmRlciBwYXJ0aWFsCiAgICAgICAgICByZXR1cm4gdGhhdC5yZW5kZXJfcGFydGlhbChuYW1lLCBjb250ZXh0LCBwYXJ0aWFscyk7CiAgICAgICAgY2FzZSAieyI6IC8vIHRoZSB0cmlwbGUgbXVzdGFjaGUgaXMgdW5lc2NhcGVkCiAgICAgICAgICByZXR1cm4gdGhhdC5maW5kKG5hbWUsIGNvbnRleHQpOwogICAgICAgIGRlZmF1bHQ6IC8vIGVzY2FwZSB0aGUgdmFsdWUKICAgICAgICAgIHJldHVybiB0aGF0LmVzY2FwZSh0aGF0LmZpbmQobmFtZSwgY29udGV4dCkpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIGxpbmVzID0gdGVtcGxhdGUuc3BsaXQoIlxuIik7CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykgewogICAgICAgIGxpbmVzW2ldID0gbGluZXNbaV0ucmVwbGFjZShyZWdleCwgdGFnX3JlcGxhY2VfY2FsbGJhY2ssIHRoaXMpOwogICAgICAgIGlmKCFpbl9yZWN1cnNpb24pIHsKICAgICAgICAgIHRoaXMuc2VuZChsaW5lc1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZihpbl9yZWN1cnNpb24pIHsKICAgICAgICByZXR1cm4gbGluZXMuam9pbigiXG4iKTsKICAgICAgfQogICAgfSwKCiAgICBzZXRfZGVsaW1pdGVyczogZnVuY3Rpb24oZGVsaW1pdGVycykgewogICAgICB2YXIgZGVscyA9IGRlbGltaXRlcnMuc3BsaXQoIiAiKTsKICAgICAgdGhpcy5vdGFnID0gdGhpcy5lc2NhcGVfcmVnZXgoZGVsc1swXSk7CiAgICAgIHRoaXMuY3RhZyA9IHRoaXMuZXNjYXBlX3JlZ2V4KGRlbHNbMV0pOwogICAgfSwKCiAgICBlc2NhcGVfcmVnZXg6IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgLy8gdGhhbmsgeW91IFNpbW9uIFdpbGxpc29uCiAgICAgIGlmKCFhcmd1bWVudHMuY2FsbGVlLnNSRSkgewogICAgICAgIHZhciBzcGVjaWFscyA9IFsKICAgICAgICAgICcvJywgJy4nLCAnKicsICcrJywgJz8nLCAnfCcsCiAgICAgICAgICAnKCcsICcpJywgJ1snLCAnXScsICd7JywgJ30nLCAnXFwnCiAgICAgICAgXTsKICAgICAgICBhcmd1bWVudHMuY2FsbGVlLnNSRSA9IG5ldyBSZWdFeHAoCiAgICAgICAgICAnKFxcJyArIHNwZWNpYWxzLmpvaW4oJ3xcXCcpICsgJyknLCAnZycKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoYXJndW1lbnRzLmNhbGxlZS5zUkUsICdcXCQxJyk7CiAgICB9LAoKICAgIC8qCiAgICAgIGZpbmQgYG5hbWVgIGluIGN1cnJlbnQgYGNvbnRleHRgLiBUaGF0IGlzIGZpbmQgbWUgYSB2YWx1ZQogICAgICBmcm9tIHRoZSB2aWV3IG9iamVjdAogICAgKi8KICAgIGZpbmQ6IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQpIHsKICAgICAgbmFtZSA9IHRoaXMudHJpbShuYW1lKTsKCiAgICAgIC8vIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgdGhydXRoeSBvciBmYWxzZSBvciAwCiAgICAgIGZ1bmN0aW9uIGlzX2tpbmRhX3RydXRoeShib29sKSB7CiAgICAgICAgcmV0dXJuIGJvb2wgPT09IGZhbHNlIHx8IGJvb2wgPT09IDAgfHwgYm9vbDsKICAgICAgfQoKICAgICAgdmFyIHZhbHVlOwogICAgICBpZihpc19raW5kYV90cnV0aHkoY29udGV4dFtuYW1lXSkpIHsKICAgICAgICB2YWx1ZSA9IGNvbnRleHRbbmFtZV07CiAgICAgIH0gZWxzZSBpZihpc19raW5kYV90cnV0aHkodGhpcy5jb250ZXh0W25hbWVdKSkgewogICAgICAgIHZhbHVlID0gdGhpcy5jb250ZXh0W25hbWVdOwogICAgICB9CgogICAgICBpZih0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkoY29udGV4dCk7CiAgICAgIH0KICAgICAgaWYodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgICAvLyBzaWxlbnRseSBpZ25vcmUgdW5rb3duIHZhcmlhYmxlcwogICAgICByZXR1cm4gIiI7CiAgICB9LAoKICAgIC8vIFV0aWxpdHkgbWV0aG9kcwoKICAgIC8qIGluY2x1ZGVzIHRhZyAqLwogICAgaW5jbHVkZXM6IGZ1bmN0aW9uKG5lZWRsZSwgaGF5c3RhY2spIHsKICAgICAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YodGhpcy5vdGFnICsgbmVlZGxlKSAhPSAtMTsKICAgIH0sCgogICAgLyoKICAgICAgRG9lcyBhd2F5IHdpdGggbmFzdHkgY2hhcmFjdGVycwogICAgKi8KICAgIGVzY2FwZTogZnVuY3Rpb24ocykgewogICAgICBzID0gU3RyaW5nKHMgPT09IG51bGwgPyAiIiA6IHMpOwogICAgICByZXR1cm4gcy5yZXBsYWNlKC8mKD8hXHcrOyl8WyI8PlxcXS9nLCBmdW5jdGlvbihzKSB7CiAgICAgICAgc3dpdGNoKHMpIHsKICAgICAgICBjYXNlICImIjogcmV0dXJuICImYW1wOyI7CiAgICAgICAgY2FzZSAiXFwiOiByZXR1cm4gIlxcXFwiOwogICAgICAgIGNhc2UgJyInOiByZXR1cm4gJ1wiJzsKICAgICAgICBjYXNlICI8IjogcmV0dXJuICImbHQ7IjsKICAgICAgICBjYXNlICI+IjogcmV0dXJuICImZ3Q7IjsKICAgICAgICBkZWZhdWx0OiByZXR1cm4gczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBieSBAbGFuZ2FsZXgsIHN1cHBvcnQgZm9yIGFycmF5cyBvZiBzdHJpbmdzCiAgICBjcmVhdGVfY29udGV4dDogZnVuY3Rpb24oX2NvbnRleHQpIHsKICAgICAgaWYodGhpcy5pc19vYmplY3QoX2NvbnRleHQpKSB7CiAgICAgICAgcmV0dXJuIF9jb250ZXh0OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpdGVyYXRvciA9ICIuIjsKICAgICAgICBpZih0aGlzLnByYWdtYXNbIklNUExJQ0lULUlURVJBVE9SIl0pIHsKICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5wcmFnbWFzWyJJTVBMSUNJVC1JVEVSQVRPUiJdLml0ZXJhdG9yOwogICAgICAgIH0KICAgICAgICB2YXIgY3R4ID0ge307CiAgICAgICAgY3R4W2l0ZXJhdG9yXSA9IF9jb250ZXh0OwogICAgICAgIHJldHVybiBjdHg7CiAgICAgIH0KICAgIH0sCgogICAgaXNfb2JqZWN0OiBmdW5jdGlvbihhKSB7CiAgICAgIHJldHVybiBhICYmIHR5cGVvZiBhID09ICJvYmplY3QiOwogICAgfSwKCiAgICBpc19hcnJheTogZnVuY3Rpb24oYSkgewogICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpID09PSAnW29iamVjdCBBcnJheV0nOwogICAgfSwKCiAgICAvKgogICAgICBHZXRzIHJpZCBvZiBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlCiAgICAqLwogICAgdHJpbTogZnVuY3Rpb24ocykgewogICAgICByZXR1cm4gcy5yZXBsYWNlKC9eXHMqfFxzKiQvZywgIiIpOwogICAgfSwKCiAgICAvKgogICAgICBXaHksIHdoeSwgd2h5PyBCZWNhdXNlIElFLiBDcnksIGNyeSBjcnkuCiAgICAqLwogICAgbWFwOiBmdW5jdGlvbihhcnJheSwgZm4pIHsKICAgICAgaWYgKHR5cGVvZiBhcnJheS5tYXAgPT0gImZ1bmN0aW9uIikgewogICAgICAgIHJldHVybiBhcnJheS5tYXAoZm4pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByID0gW107CiAgICAgICAgdmFyIGwgPSBhcnJheS5sZW5ndGg7CiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGw7IGkrKykgewogICAgICAgICAgci5wdXNoKGZuKGFycmF5W2ldKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByOwogICAgICB9CiAgICB9CiAgfTsKCiAgcmV0dXJuKHsKICAgIG5hbWU6ICJtdXN0YWNoZS5qcyIsCiAgICB2ZXJzaW9uOiAiMC4zLjEtZGV2IiwKCiAgICAvKgogICAgICBUdXJucyBhIHRlbXBsYXRlIGFuZCB2aWV3IGludG8gSFRNTAogICAgKi8KICAgIHRvX2h0bWw6IGZ1bmN0aW9uKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgc2VuZF9mdW4pIHsKICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCk7CiAgICAgIGlmKHNlbmRfZnVuKSB7CiAgICAgICAgcmVuZGVyZXIuc2VuZCA9IHNlbmRfZnVuOwogICAgICB9CiAgICAgIHJlbmRlcmVyLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpOwogICAgICBpZighc2VuZF9mdW4pIHsKICAgICAgICByZXR1cm4gcmVuZGVyZXIuYnVmZmVyLmpvaW4oIlxuIik7CiAgICAgIH0KICAgIH0KICB9KTsKfSgpOwo=", "content_type": "application/javascript"}}, "couchapp": {"signatures": {"img/favicon.png": "78d6a3654153112cb7a98bb365290f28", "index.html": "49d71d66230d1e30dbba9d6c2a0a5232", "js/modernizr-1.7.min.js": "52b8fd529e8142bdb6c4f9e7f55aaec0", "js/utils.js": "b56a22b8709c74c7baed0c682d683ff7", "js/.DS_Store": "46bab490b7af91121c7e1303f0edb281", "js/mobile.futon.js": "b9706df479b65a199550235881d37dbf", "css/main.css": "8951ab82bdb6eb9ecdb3166226fef617", "jquery-1.6.min.js": "3c379d07fafbaafecb78c98dd8630d0a", ".DS_Store": "88a5c62baa3f90ea6e7b7408fb8691bc", "js/jquery-1.5.2.min.js": "e85aed5c30d734f1e30646e030d7a817", "js/jquery.couch.js": "f450eed19776a9c3a29f01bcb44344be", "js/mustache.js": "717514442c157cd97812ce1bf9199b3e"}, "objects": {}, "manifest": ["mobilefuton.json"]}}
